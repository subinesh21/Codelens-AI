const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/dagre-6UL2VRFP-2T0VW1Lt.js","assets/graph-Ct2eNydx.js","assets/_baseUniq-DAA3-iKl.js","assets/layout-DWNa9F8S.js","assets/min-BYpE3GAq.js","assets/clone-C_X5AQpE.js","assets/cose-bilkent-S5V4N54A-B-ZavSV5.js","assets/cytoscape.esm-BQaXIfA_.js","assets/c4Diagram-YG6GDRKO-CDgyEnH1.js","assets/chunk-TZMSLE5B-kJEMUMbU.js","assets/flowDiagram-NV44I4VS-B_APskiu.js","assets/chunk-FMBD7UC4-B5Mrz1hl.js","assets/chunk-55IACEB6-BAseEtai.js","assets/chunk-QN33PNHL-CoZle_XD.js","assets/channel-CzPgWIOM.js","assets/erDiagram-Q2GNP2WA-HuS0WluG.js","assets/gitGraphDiagram-NY62KEGX-BMGEwfIo.js","assets/chunk-4BX2VUAB-CWvjem8D.js","assets/chunk-QZHKN3VN-CZ6tIu5P.js","assets/treemap-KMMF4GRG-DZ0F-dvw.js","assets/ganttDiagram-JELNMOA3-CYXM-Mm3.js","assets/linear-DUyY9End.js","assets/init-Gi6I4Gst.js","assets/defaultLocale-C4B-KCzX.js","assets/infoDiagram-WHAUD3N6-G0BX2a23.js","assets/pieDiagram-ADFJNKIX-CX_7la0N.js","assets/arc--7pinuga.js","assets/ordinal-Cboi1Yqb.js","assets/quadrantDiagram-AYHSOK5B-d12lbC8a.js","assets/xychartDiagram-PRI3JC2R-r-q8CZrM.js","assets/requirementDiagram-UZGBJVZJ-BkwElx6F.js","assets/sequenceDiagram-WL72ISMW-CkFZcxE8.js","assets/classDiagram-2ON5EDUG-gpAkuyxp.js","assets/chunk-B4BG7PRW-BFFFnUMw.js","assets/classDiagram-v2-WZHVMYZB-gpAkuyxp.js","assets/stateDiagram-FKZM4ZOC-CvDjA5F6.js","assets/chunk-DI55MBZ5-Y9wkx8OS.js","assets/stateDiagram-v2-4FDKWEC3-c_KjJWOn.js","assets/journeyDiagram-XKPGCS4Q-BuL1AHm3.js","assets/timeline-definition-IT6M3QCI-CcQE79lm.js","assets/mindmap-definition-VGOIOE7T-DpBod2Xa.js","assets/kanban-definition-3W4ZIXB7-D0hL-QZA.js","assets/sankeyDiagram-TZEHDZUN-Cn4TMw8P.js","assets/diagram-S2PKOQOG-DBtzkC5P.js","assets/diagram-QEK2KX5R-ikCFbmYs.js","assets/blockDiagram-VD42YOAC-BCYMRQEm.js","assets/architectureDiagram-VXUJARFQ-D42hH7hk.js","assets/diagram-PSM6KHXK-BTU8EwXz.js"])))=>i.map(i=>d[i]);
var VN=Object.defineProperty;var YN=(e,t,n)=>t in e?VN(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var pe=(e,t,n)=>YN(e,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function n(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(a){if(a.ep)return;a.ep=!0;const s=n(a);fetch(a.href,s)}})();function Km(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var sg={exports:{}},El={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kx;function WN(){if(Kx)return El;Kx=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(i,a,s){var l=null;if(s!==void 0&&(l=""+s),a.key!==void 0&&(l=""+a.key),"key"in a){s={};for(var c in a)c!=="key"&&(s[c]=a[c])}else s=a;return a=s.ref,{$$typeof:e,type:i,key:l,ref:a!==void 0?a:null,props:s}}return El.Fragment=t,El.jsx=n,El.jsxs=n,El}var Qx;function XN(){return Qx||(Qx=1,sg.exports=WN()),sg.exports}var X=XN(),lg={exports:{}},Pt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zx;function JN(){if(Zx)return Pt;Zx=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),m=Symbol.for("react.activity"),v=Symbol.iterator;function x(F){return F===null||typeof F!="object"?null:(F=v&&F[v]||F["@@iterator"],typeof F=="function"?F:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,E={};function A(F,j,at){this.props=F,this.context=j,this.refs=E,this.updater=at||S}A.prototype.isReactComponent={},A.prototype.setState=function(F,j){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,j,"setState")},A.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function k(){}k.prototype=A.prototype;function R(F,j,at){this.props=F,this.context=j,this.refs=E,this.updater=at||S}var I=R.prototype=new k;I.constructor=R,b(I,A.prototype),I.isPureReactComponent=!0;var B=Array.isArray;function L(){}var N={H:null,A:null,T:null,S:null},V=Object.prototype.hasOwnProperty;function Q(F,j,at){var ht=at.ref;return{$$typeof:e,type:F,key:j,ref:ht!==void 0?ht:null,props:at}}function et(F,j){return Q(F.type,j,F.props)}function Y(F){return typeof F=="object"&&F!==null&&F.$$typeof===e}function ct(F){var j={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(at){return j[at]})}var nt=/\/+/g;function W(F,j){return typeof F=="object"&&F!==null&&F.key!=null?ct(""+F.key):j.toString(36)}function H(F){switch(F.status){case"fulfilled":return F.value;case"rejected":throw F.reason;default:switch(typeof F.status=="string"?F.then(L,L):(F.status="pending",F.then(function(j){F.status==="pending"&&(F.status="fulfilled",F.value=j)},function(j){F.status==="pending"&&(F.status="rejected",F.reason=j)})),F.status){case"fulfilled":return F.value;case"rejected":throw F.reason}}throw F}function D(F,j,at,ht,dt){var pt=typeof F;(pt==="undefined"||pt==="boolean")&&(F=null);var _t=!1;if(F===null)_t=!0;else switch(pt){case"bigint":case"string":case"number":_t=!0;break;case"object":switch(F.$$typeof){case e:case t:_t=!0;break;case d:return _t=F._init,D(_t(F._payload),j,at,ht,dt)}}if(_t)return dt=dt(F),_t=ht===""?"."+W(F,0):ht,B(dt)?(at="",_t!=null&&(at=_t.replace(nt,"$&/")+"/"),D(dt,j,at,"",function(Zt){return Zt})):dt!=null&&(Y(dt)&&(dt=et(dt,at+(dt.key==null||F&&F.key===dt.key?"":(""+dt.key).replace(nt,"$&/")+"/")+_t)),j.push(dt)),1;_t=0;var Ut=ht===""?".":ht+":";if(B(F))for(var Ft=0;Ft<F.length;Ft++)ht=F[Ft],pt=Ut+W(ht,Ft),_t+=D(ht,j,at,pt,dt);else if(Ft=x(F),typeof Ft=="function")for(F=Ft.call(F),Ft=0;!(ht=F.next()).done;)ht=ht.value,pt=Ut+W(ht,Ft++),_t+=D(ht,j,at,pt,dt);else if(pt==="object"){if(typeof F.then=="function")return D(H(F),j,at,ht,dt);throw j=String(F),Error("Objects are not valid as a React child (found: "+(j==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":j)+"). If you meant to render a collection of children, use an array instead.")}return _t}function P(F,j,at){if(F==null)return F;var ht=[],dt=0;return D(F,ht,"","",function(pt){return j.call(at,pt,dt++)}),ht}function z(F){if(F._status===-1){var j=F._result;j=j(),j.then(function(at){(F._status===0||F._status===-1)&&(F._status=1,F._result=at)},function(at){(F._status===0||F._status===-1)&&(F._status=2,F._result=at)}),F._status===-1&&(F._status=0,F._result=j)}if(F._status===1)return F._result.default;throw F._result}var lt=typeof reportError=="function"?reportError:function(F){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var j=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof F=="object"&&F!==null&&typeof F.message=="string"?String(F.message):String(F),error:F});if(!window.dispatchEvent(j))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",F);return}console.error(F)},ft={map:P,forEach:function(F,j,at){P(F,function(){j.apply(this,arguments)},at)},count:function(F){var j=0;return P(F,function(){j++}),j},toArray:function(F){return P(F,function(j){return j})||[]},only:function(F){if(!Y(F))throw Error("React.Children.only expected to receive a single React element child.");return F}};return Pt.Activity=m,Pt.Children=ft,Pt.Component=A,Pt.Fragment=n,Pt.Profiler=a,Pt.PureComponent=R,Pt.StrictMode=i,Pt.Suspense=f,Pt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,Pt.__COMPILER_RUNTIME={__proto__:null,c:function(F){return N.H.useMemoCache(F)}},Pt.cache=function(F){return function(){return F.apply(null,arguments)}},Pt.cacheSignal=function(){return null},Pt.cloneElement=function(F,j,at){if(F==null)throw Error("The argument must be a React element, but you passed "+F+".");var ht=b({},F.props),dt=F.key;if(j!=null)for(pt in j.key!==void 0&&(dt=""+j.key),j)!V.call(j,pt)||pt==="key"||pt==="__self"||pt==="__source"||pt==="ref"&&j.ref===void 0||(ht[pt]=j[pt]);var pt=arguments.length-2;if(pt===1)ht.children=at;else if(1<pt){for(var _t=Array(pt),Ut=0;Ut<pt;Ut++)_t[Ut]=arguments[Ut+2];ht.children=_t}return Q(F.type,dt,ht)},Pt.createContext=function(F){return F={$$typeof:l,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null},F.Provider=F,F.Consumer={$$typeof:s,_context:F},F},Pt.createElement=function(F,j,at){var ht,dt={},pt=null;if(j!=null)for(ht in j.key!==void 0&&(pt=""+j.key),j)V.call(j,ht)&&ht!=="key"&&ht!=="__self"&&ht!=="__source"&&(dt[ht]=j[ht]);var _t=arguments.length-2;if(_t===1)dt.children=at;else if(1<_t){for(var Ut=Array(_t),Ft=0;Ft<_t;Ft++)Ut[Ft]=arguments[Ft+2];dt.children=Ut}if(F&&F.defaultProps)for(ht in _t=F.defaultProps,_t)dt[ht]===void 0&&(dt[ht]=_t[ht]);return Q(F,pt,dt)},Pt.createRef=function(){return{current:null}},Pt.forwardRef=function(F){return{$$typeof:c,render:F}},Pt.isValidElement=Y,Pt.lazy=function(F){return{$$typeof:d,_payload:{_status:-1,_result:F},_init:z}},Pt.memo=function(F,j){return{$$typeof:h,type:F,compare:j===void 0?null:j}},Pt.startTransition=function(F){var j=N.T,at={};N.T=at;try{var ht=F(),dt=N.S;dt!==null&&dt(at,ht),typeof ht=="object"&&ht!==null&&typeof ht.then=="function"&&ht.then(L,lt)}catch(pt){lt(pt)}finally{j!==null&&at.types!==null&&(j.types=at.types),N.T=j}},Pt.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},Pt.use=function(F){return N.H.use(F)},Pt.useActionState=function(F,j,at){return N.H.useActionState(F,j,at)},Pt.useCallback=function(F,j){return N.H.useCallback(F,j)},Pt.useContext=function(F){return N.H.useContext(F)},Pt.useDebugValue=function(){},Pt.useDeferredValue=function(F,j){return N.H.useDeferredValue(F,j)},Pt.useEffect=function(F,j){return N.H.useEffect(F,j)},Pt.useEffectEvent=function(F){return N.H.useEffectEvent(F)},Pt.useId=function(){return N.H.useId()},Pt.useImperativeHandle=function(F,j,at){return N.H.useImperativeHandle(F,j,at)},Pt.useInsertionEffect=function(F,j){return N.H.useInsertionEffect(F,j)},Pt.useLayoutEffect=function(F,j){return N.H.useLayoutEffect(F,j)},Pt.useMemo=function(F,j){return N.H.useMemo(F,j)},Pt.useOptimistic=function(F,j){return N.H.useOptimistic(F,j)},Pt.useReducer=function(F,j,at){return N.H.useReducer(F,j,at)},Pt.useRef=function(F){return N.H.useRef(F)},Pt.useState=function(F){return N.H.useState(F)},Pt.useSyncExternalStore=function(F,j,at){return N.H.useSyncExternalStore(F,j,at)},Pt.useTransition=function(){return N.H.useTransition()},Pt.version="19.2.3",Pt}var jx;function Qm(){return jx||(jx=1,lg.exports=JN()),lg.exports}var ae=Qm();const b1=Km(ae);var cg={exports:{}},wl={},ug={exports:{}},hg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tC;function KN(){return tC||(tC=1,(function(e){function t(D,P){var z=D.length;D.push(P);t:for(;0<z;){var lt=z-1>>>1,ft=D[lt];if(0<a(ft,P))D[lt]=P,D[z]=ft,z=lt;else break t}}function n(D){return D.length===0?null:D[0]}function i(D){if(D.length===0)return null;var P=D[0],z=D.pop();if(z!==P){D[0]=z;t:for(var lt=0,ft=D.length,F=ft>>>1;lt<F;){var j=2*(lt+1)-1,at=D[j],ht=j+1,dt=D[ht];if(0>a(at,z))ht<ft&&0>a(dt,at)?(D[lt]=dt,D[ht]=z,lt=ht):(D[lt]=at,D[j]=z,lt=j);else if(ht<ft&&0>a(dt,z))D[lt]=dt,D[ht]=z,lt=ht;else break t}}return P}function a(D,P){var z=D.sortIndex-P.sortIndex;return z!==0?z:D.id-P.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var l=Date,c=l.now();e.unstable_now=function(){return l.now()-c}}var f=[],h=[],d=1,m=null,v=3,x=!1,S=!1,b=!1,E=!1,A=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;function I(D){for(var P=n(h);P!==null;){if(P.callback===null)i(h);else if(P.startTime<=D)i(h),P.sortIndex=P.expirationTime,t(f,P);else break;P=n(h)}}function B(D){if(b=!1,I(D),!S)if(n(f)!==null)S=!0,L||(L=!0,ct());else{var P=n(h);P!==null&&H(B,P.startTime-D)}}var L=!1,N=-1,V=5,Q=-1;function et(){return E?!0:!(e.unstable_now()-Q<V)}function Y(){if(E=!1,L){var D=e.unstable_now();Q=D;var P=!0;try{t:{S=!1,b&&(b=!1,k(N),N=-1),x=!0;var z=v;try{e:{for(I(D),m=n(f);m!==null&&!(m.expirationTime>D&&et());){var lt=m.callback;if(typeof lt=="function"){m.callback=null,v=m.priorityLevel;var ft=lt(m.expirationTime<=D);if(D=e.unstable_now(),typeof ft=="function"){m.callback=ft,I(D),P=!0;break e}m===n(f)&&i(f),I(D)}else i(f);m=n(f)}if(m!==null)P=!0;else{var F=n(h);F!==null&&H(B,F.startTime-D),P=!1}}break t}finally{m=null,v=z,x=!1}P=void 0}}finally{P?ct():L=!1}}}var ct;if(typeof R=="function")ct=function(){R(Y)};else if(typeof MessageChannel<"u"){var nt=new MessageChannel,W=nt.port2;nt.port1.onmessage=Y,ct=function(){W.postMessage(null)}}else ct=function(){A(Y,0)};function H(D,P){N=A(function(){D(e.unstable_now())},P)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(D){D.callback=null},e.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<D?Math.floor(1e3/D):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_next=function(D){switch(v){case 1:case 2:case 3:var P=3;break;default:P=v}var z=v;v=P;try{return D()}finally{v=z}},e.unstable_requestPaint=function(){E=!0},e.unstable_runWithPriority=function(D,P){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var z=v;v=D;try{return P()}finally{v=z}},e.unstable_scheduleCallback=function(D,P,z){var lt=e.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?lt+z:lt):z=lt,D){case 1:var ft=-1;break;case 2:ft=250;break;case 5:ft=1073741823;break;case 4:ft=1e4;break;default:ft=5e3}return ft=z+ft,D={id:d++,callback:P,priorityLevel:D,startTime:z,expirationTime:ft,sortIndex:-1},z>lt?(D.sortIndex=z,t(h,D),n(f)===null&&D===n(h)&&(b?(k(N),N=-1):b=!0,H(B,z-lt))):(D.sortIndex=ft,t(f,D),S||x||(S=!0,L||(L=!0,ct()))),D},e.unstable_shouldYield=et,e.unstable_wrapCallback=function(D){var P=v;return function(){var z=v;v=P;try{return D.apply(this,arguments)}finally{v=z}}}})(hg)),hg}var eC;function QN(){return eC||(eC=1,ug.exports=KN()),ug.exports}var fg={exports:{}},rn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nC;function ZN(){if(nC)return rn;nC=1;var e=Qm();function t(f){var h="https://react.dev/errors/"+f;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)h+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+f+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function s(f,h,d){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:m==null?null:""+m,children:f,containerInfo:h,implementation:d}}var l=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(f,h){if(f==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return rn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,rn.createPortal=function(f,h){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(t(299));return s(f,h,null,d)},rn.flushSync=function(f){var h=l.T,d=i.p;try{if(l.T=null,i.p=2,f)return f()}finally{l.T=h,i.p=d,i.d.f()}},rn.preconnect=function(f,h){typeof f=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,i.d.C(f,h))},rn.prefetchDNS=function(f){typeof f=="string"&&i.d.D(f)},rn.preinit=function(f,h){if(typeof f=="string"&&h&&typeof h.as=="string"){var d=h.as,m=c(d,h.crossOrigin),v=typeof h.integrity=="string"?h.integrity:void 0,x=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;d==="style"?i.d.S(f,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:m,integrity:v,fetchPriority:x}):d==="script"&&i.d.X(f,{crossOrigin:m,integrity:v,fetchPriority:x,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},rn.preinitModule=function(f,h){if(typeof f=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var d=c(h.as,h.crossOrigin);i.d.M(f,{crossOrigin:d,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&i.d.M(f)},rn.preload=function(f,h){if(typeof f=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var d=h.as,m=c(d,h.crossOrigin);i.d.L(f,d,{crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},rn.preloadModule=function(f,h){if(typeof f=="string")if(h){var d=c(h.as,h.crossOrigin);i.d.m(f,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:d,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else i.d.m(f)},rn.requestFormReset=function(f){i.d.r(f)},rn.unstable_batchedUpdates=function(f,h){return f(h)},rn.useFormState=function(f,h,d){return l.H.useFormState(f,h,d)},rn.useFormStatus=function(){return l.H.useHostTransitionStatus()},rn.version="19.2.3",rn}var iC;function jN(){if(iC)return fg.exports;iC=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),fg.exports=ZN(),fg.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rC;function tL(){if(rC)return wl;rC=1;var e=QN(),t=Qm(),n=jN();function i(r){var o="https://react.dev/errors/"+r;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+r+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function s(r){var o=r,u=r;if(r.alternate)for(;o.return;)o=o.return;else{r=o;do o=r,(o.flags&4098)!==0&&(u=o.return),r=o.return;while(r)}return o.tag===3?u:null}function l(r){if(r.tag===13){var o=r.memoizedState;if(o===null&&(r=r.alternate,r!==null&&(o=r.memoizedState)),o!==null)return o.dehydrated}return null}function c(r){if(r.tag===31){var o=r.memoizedState;if(o===null&&(r=r.alternate,r!==null&&(o=r.memoizedState)),o!==null)return o.dehydrated}return null}function f(r){if(s(r)!==r)throw Error(i(188))}function h(r){var o=r.alternate;if(!o){if(o=s(r),o===null)throw Error(i(188));return o!==r?null:r}for(var u=r,p=o;;){var _=u.return;if(_===null)break;var C=_.alternate;if(C===null){if(p=_.return,p!==null){u=p;continue}break}if(_.child===C.child){for(C=_.child;C;){if(C===u)return f(_),r;if(C===p)return f(_),o;C=C.sibling}throw Error(i(188))}if(u.return!==p.return)u=_,p=C;else{for(var w=!1,M=_.child;M;){if(M===u){w=!0,u=_,p=C;break}if(M===p){w=!0,p=_,u=C;break}M=M.sibling}if(!w){for(M=C.child;M;){if(M===u){w=!0,u=C,p=_;break}if(M===p){w=!0,p=C,u=_;break}M=M.sibling}if(!w)throw Error(i(189))}}if(u.alternate!==p)throw Error(i(190))}if(u.tag!==3)throw Error(i(188));return u.stateNode.current===u?r:o}function d(r){var o=r.tag;if(o===5||o===26||o===27||o===6)return r;for(r=r.child;r!==null;){if(o=d(r),o!==null)return o;r=r.sibling}return null}var m=Object.assign,v=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),b=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),k=Symbol.for("react.consumer"),R=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),B=Symbol.for("react.suspense"),L=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),V=Symbol.for("react.lazy"),Q=Symbol.for("react.activity"),et=Symbol.for("react.memo_cache_sentinel"),Y=Symbol.iterator;function ct(r){return r===null||typeof r!="object"?null:(r=Y&&r[Y]||r["@@iterator"],typeof r=="function"?r:null)}var nt=Symbol.for("react.client.reference");function W(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===nt?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case b:return"Fragment";case A:return"Profiler";case E:return"StrictMode";case B:return"Suspense";case L:return"SuspenseList";case Q:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case S:return"Portal";case R:return r.displayName||"Context";case k:return(r._context.displayName||"Context")+".Consumer";case I:var o=r.render;return r=r.displayName,r||(r=o.displayName||o.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case N:return o=r.displayName||null,o!==null?o:W(r.type)||"Memo";case V:o=r._payload,r=r._init;try{return W(r(o))}catch{}}return null}var H=Array.isArray,D=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,P=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,z={pending:!1,data:null,method:null,action:null},lt=[],ft=-1;function F(r){return{current:r}}function j(r){0>ft||(r.current=lt[ft],lt[ft]=null,ft--)}function at(r,o){ft++,lt[ft]=r.current,r.current=o}var ht=F(null),dt=F(null),pt=F(null),_t=F(null);function Ut(r,o){switch(at(pt,o),at(dt,r),at(ht,null),o.nodeType){case 9:case 11:r=(r=o.documentElement)&&(r=r.namespaceURI)?_x(r):0;break;default:if(r=o.tagName,o=o.namespaceURI)o=_x(o),r=xx(o,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}j(ht),at(ht,r)}function Ft(){j(ht),j(dt),j(pt)}function Zt(r){r.memoizedState!==null&&at(_t,r);var o=ht.current,u=xx(o,r.type);o!==u&&(at(dt,r),at(ht,u))}function me(r){dt.current===r&&(j(ht),j(dt)),_t.current===r&&(j(_t),Cl._currentValue=z)}var fn,dn;function nn(r){if(fn===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);fn=o&&o[1]||"",dn=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+fn+r+dn}var hi=!1;function fa(r,o){if(!r||hi)return"";hi=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var p={DetermineComponentFrameRoot:function(){try{if(o){var ot=function(){throw Error()};if(Object.defineProperty(ot.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ot,[])}catch(tt){var Z=tt}Reflect.construct(r,[],ot)}else{try{ot.call()}catch(tt){Z=tt}r.call(ot.prototype)}}else{try{throw Error()}catch(tt){Z=tt}(ot=r())&&typeof ot.catch=="function"&&ot.catch(function(){})}}catch(tt){if(tt&&Z&&typeof tt.stack=="string")return[tt.stack,Z.stack]}return[null,null]}};p.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var _=Object.getOwnPropertyDescriptor(p.DetermineComponentFrameRoot,"name");_&&_.configurable&&Object.defineProperty(p.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var C=p.DetermineComponentFrameRoot(),w=C[0],M=C[1];if(w&&M){var O=w.split(`
`),K=M.split(`
`);for(_=p=0;p<O.length&&!O[p].includes("DetermineComponentFrameRoot");)p++;for(;_<K.length&&!K[_].includes("DetermineComponentFrameRoot");)_++;if(p===O.length||_===K.length)for(p=O.length-1,_=K.length-1;1<=p&&0<=_&&O[p]!==K[_];)_--;for(;1<=p&&0<=_;p--,_--)if(O[p]!==K[_]){if(p!==1||_!==1)do if(p--,_--,0>_||O[p]!==K[_]){var it=`
`+O[p].replace(" at new "," at ");return r.displayName&&it.includes("<anonymous>")&&(it=it.replace("<anonymous>",r.displayName)),it}while(1<=p&&0<=_);break}}}finally{hi=!1,Error.prepareStackTrace=u}return(u=r?r.displayName||r.name:"")?nn(u):""}function Es(r,o){switch(r.tag){case 26:case 27:case 5:return nn(r.type);case 16:return nn("Lazy");case 13:return r.child!==o&&o!==null?nn("Suspense Fallback"):nn("Suspense");case 19:return nn("SuspenseList");case 0:case 15:return fa(r.type,!1);case 11:return fa(r.type.render,!1);case 1:return fa(r.type,!0);case 31:return nn("Activity");default:return""}}function Gi(r){try{var o="",u=null;do o+=Es(r,u),u=r,r=r.return;while(r);return o}catch(p){return`
Error generating stack: `+p.message+`
`+p.stack}}var wr=Object.prototype.hasOwnProperty,Ar=e.unstable_scheduleCallback,no=e.unstable_cancelCallback,wc=e.unstable_shouldYield,Zf=e.unstable_requestPaint,Xe=e.unstable_now,da=e.unstable_getCurrentPriorityLevel,Vi=e.unstable_ImmediatePriority,Bn=e.unstable_UserBlockingPriority,kr=e.unstable_NormalPriority,Ac=e.unstable_LowPriority,ws=e.unstable_IdlePriority,As=e.log,kc=e.unstable_setDisableYieldValue,ki=null,Ge=null;function Ve(r){if(typeof As=="function"&&kc(r),Ge&&typeof Ge.setStrictMode=="function")try{Ge.setStrictMode(ki,r)}catch{}}var Re=Math.clz32?Math.clz32:jf,ks=Math.log,Ms=Math.LN2;function jf(r){return r>>>=0,r===0?32:31-(ks(r)/Ms|0)|0}var Yi=256,Wi=262144,io=4194304;function Fn(r){var o=r&42;if(o!==0)return o;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return r&261888;case 262144:case 524288:case 1048576:case 2097152:return r&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function ro(r,o,u){var p=r.pendingLanes;if(p===0)return 0;var _=0,C=r.suspendedLanes,w=r.pingedLanes;r=r.warmLanes;var M=p&134217727;return M!==0?(p=M&~C,p!==0?_=Fn(p):(w&=M,w!==0?_=Fn(w):u||(u=M&~r,u!==0&&(_=Fn(u))))):(M=p&~C,M!==0?_=Fn(M):w!==0?_=Fn(w):u||(u=p&~r,u!==0&&(_=Fn(u)))),_===0?0:o!==0&&o!==_&&(o&C)===0&&(C=_&-_,u=o&-o,C>=u||C===32&&(u&4194048)!==0)?o:_}function pa(r,o){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&o)===0}function we(r,o){switch(r){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Xi(){var r=io;return io<<=1,(io&62914560)===0&&(io=4194304),r}function Rs(r){for(var o=[],u=0;31>u;u++)o.push(r);return o}function Mr(r,o){r.pendingLanes|=o,o!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function Ns(r,o,u,p,_,C){var w=r.pendingLanes;r.pendingLanes=u,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=u,r.entangledLanes&=u,r.errorRecoveryDisabledLanes&=u,r.shellSuspendCounter=0;var M=r.entanglements,O=r.expirationTimes,K=r.hiddenUpdates;for(u=w&~u;0<u;){var it=31-Re(u),ot=1<<it;M[it]=0,O[it]=-1;var Z=K[it];if(Z!==null)for(K[it]=null,it=0;it<Z.length;it++){var tt=Z[it];tt!==null&&(tt.lane&=-536870913)}u&=~ot}p!==0&&Ls(r,p,0),C!==0&&_===0&&r.tag!==0&&(r.suspendedLanes|=C&~(w&~o))}function Ls(r,o,u){r.pendingLanes|=o,r.suspendedLanes&=~o;var p=31-Re(o);r.entangledLanes|=o,r.entanglements[p]=r.entanglements[p]|1073741824|u&261930}function Ds(r,o){var u=r.entangledLanes|=o;for(r=r.entanglements;u;){var p=31-Re(u),_=1<<p;_&o|r[p]&o&&(r[p]|=o),u&=~_}}function Mc(r,o){var u=o&-o;return u=(u&42)!==0?1:bn(u),(u&(r.suspendedLanes|o))!==0?0:u}function bn(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function fi(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function Is(){var r=P.p;return r!==0?r:(r=window.event,r===void 0?32:Hx(r.type))}function Bs(r,o){var u=P.p;try{return P.p=r,o()}finally{P.p=u}}var Wn=Math.random().toString(36).slice(2),Ne="__reactFiber$"+Wn,xe="__reactProps$"+Wn,Ji="__reactContainer$"+Wn,ao="__reactEvents$"+Wn,Rc="__reactListeners$"+Wn,Nc="__reactHandles$"+Wn,Lc="__reactResources$"+Wn,wt="__reactMarker$"+Wn;function U(r){delete r[Ne],delete r[xe],delete r[ao],delete r[Rc],delete r[Nc]}function ut(r){var o=r[Ne];if(o)return o;for(var u=r.parentNode;u;){if(o=u[Ji]||u[Ne]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(r=Ax(r);r!==null;){if(u=r[Ne])return u;r=Ax(r)}return o}r=u,u=r.parentNode}return null}function vt(r){if(r=r[Ne]||r[Ji]){var o=r.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return r}return null}function re(r){var o=r.tag;if(o===5||o===26||o===27||o===6)return r.stateNode;throw Error(i(33))}function be(r){var o=r[Lc];return o||(o=r[Lc]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function qt(r){r[wt]=!0}var Je=new Set,Xn={};function Tn(r,o){Mi(r,o),Mi(r+"Capture",o)}function Mi(r,o){for(Xn[r]=o,r=0;r<o.length;r++)Je.add(o[r])}var Oe=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Fs={},Os={};function OM(r){return wr.call(Os,r)?!0:wr.call(Fs,r)?!1:Oe.test(r)?Os[r]=!0:(Fs[r]=!0,!1)}function Dc(r,o,u){if(OM(o))if(u===null)r.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":r.removeAttribute(o);return;case"boolean":var p=o.toLowerCase().slice(0,5);if(p!=="data-"&&p!=="aria-"){r.removeAttribute(o);return}}r.setAttribute(o,""+u)}}function Ic(r,o,u){if(u===null)r.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttribute(o,""+u)}}function Ki(r,o,u,p){if(p===null)r.removeAttribute(u);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(u);return}r.setAttributeNS(o,u,""+p)}}function Jn(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function h0(r){var o=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function PM(r,o,u){var p=Object.getOwnPropertyDescriptor(r.constructor.prototype,o);if(!r.hasOwnProperty(o)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var _=p.get,C=p.set;return Object.defineProperty(r,o,{configurable:!0,get:function(){return _.call(this)},set:function(w){u=""+w,C.call(this,w)}}),Object.defineProperty(r,o,{enumerable:p.enumerable}),{getValue:function(){return u},setValue:function(w){u=""+w},stopTracking:function(){r._valueTracker=null,delete r[o]}}}}function td(r){if(!r._valueTracker){var o=h0(r)?"checked":"value";r._valueTracker=PM(r,o,""+r[o])}}function f0(r){if(!r)return!1;var o=r._valueTracker;if(!o)return!0;var u=o.getValue(),p="";return r&&(p=h0(r)?r.checked?"true":"false":r.value),r=p,r!==u?(o.setValue(r),!0):!1}function Bc(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var UM=/[\n"\\]/g;function Kn(r){return r.replace(UM,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function ed(r,o,u,p,_,C,w,M){r.name="",w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?r.type=w:r.removeAttribute("type"),o!=null?w==="number"?(o===0&&r.value===""||r.value!=o)&&(r.value=""+Jn(o)):r.value!==""+Jn(o)&&(r.value=""+Jn(o)):w!=="submit"&&w!=="reset"||r.removeAttribute("value"),o!=null?nd(r,w,Jn(o)):u!=null?nd(r,w,Jn(u)):p!=null&&r.removeAttribute("value"),_==null&&C!=null&&(r.defaultChecked=!!C),_!=null&&(r.checked=_&&typeof _!="function"&&typeof _!="symbol"),M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"?r.name=""+Jn(M):r.removeAttribute("name")}function d0(r,o,u,p,_,C,w,M){if(C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(r.type=C),o!=null||u!=null){if(!(C!=="submit"&&C!=="reset"||o!=null)){td(r);return}u=u!=null?""+Jn(u):"",o=o!=null?""+Jn(o):u,M||o===r.value||(r.value=o),r.defaultValue=o}p=p??_,p=typeof p!="function"&&typeof p!="symbol"&&!!p,r.checked=M?r.checked:!!p,r.defaultChecked=!!p,w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(r.name=w),td(r)}function nd(r,o,u){o==="number"&&Bc(r.ownerDocument)===r||r.defaultValue===""+u||(r.defaultValue=""+u)}function oo(r,o,u,p){if(r=r.options,o){o={};for(var _=0;_<u.length;_++)o["$"+u[_]]=!0;for(u=0;u<r.length;u++)_=o.hasOwnProperty("$"+r[u].value),r[u].selected!==_&&(r[u].selected=_),_&&p&&(r[u].defaultSelected=!0)}else{for(u=""+Jn(u),o=null,_=0;_<r.length;_++){if(r[_].value===u){r[_].selected=!0,p&&(r[_].defaultSelected=!0);return}o!==null||r[_].disabled||(o=r[_])}o!==null&&(o.selected=!0)}}function p0(r,o,u){if(o!=null&&(o=""+Jn(o),o!==r.value&&(r.value=o),u==null)){r.defaultValue!==o&&(r.defaultValue=o);return}r.defaultValue=u!=null?""+Jn(u):""}function g0(r,o,u,p){if(o==null){if(p!=null){if(u!=null)throw Error(i(92));if(H(p)){if(1<p.length)throw Error(i(93));p=p[0]}u=p}u==null&&(u=""),o=u}u=Jn(o),r.defaultValue=u,p=r.textContent,p===u&&p!==""&&p!==null&&(r.value=p),td(r)}function so(r,o){if(o){var u=r.firstChild;if(u&&u===r.lastChild&&u.nodeType===3){u.nodeValue=o;return}}r.textContent=o}var $M=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function m0(r,o,u){var p=o.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?p?r.setProperty(o,""):o==="float"?r.cssFloat="":r[o]="":p?r.setProperty(o,u):typeof u!="number"||u===0||$M.has(o)?o==="float"?r.cssFloat=u:r[o]=(""+u).trim():r[o]=u+"px"}function y0(r,o,u){if(o!=null&&typeof o!="object")throw Error(i(62));if(r=r.style,u!=null){for(var p in u)!u.hasOwnProperty(p)||o!=null&&o.hasOwnProperty(p)||(p.indexOf("--")===0?r.setProperty(p,""):p==="float"?r.cssFloat="":r[p]="");for(var _ in o)p=o[_],o.hasOwnProperty(_)&&u[_]!==p&&m0(r,_,p)}else for(var C in o)o.hasOwnProperty(C)&&m0(r,C,o[C])}function id(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zM=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),qM=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Fc(r){return qM.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}function Qi(){}var rd=null;function ad(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var lo=null,co=null;function v0(r){var o=vt(r);if(o&&(r=o.stateNode)){var u=r[xe]||null;t:switch(r=o.stateNode,o.type){case"input":if(ed(r,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),o=u.name,u.type==="radio"&&o!=null){for(u=r;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+Kn(""+o)+'"][type="radio"]'),o=0;o<u.length;o++){var p=u[o];if(p!==r&&p.form===r.form){var _=p[xe]||null;if(!_)throw Error(i(90));ed(p,_.value,_.defaultValue,_.defaultValue,_.checked,_.defaultChecked,_.type,_.name)}}for(o=0;o<u.length;o++)p=u[o],p.form===r.form&&f0(p)}break t;case"textarea":p0(r,u.value,u.defaultValue);break t;case"select":o=u.value,o!=null&&oo(r,!!u.multiple,o,!1)}}}var od=!1;function _0(r,o,u){if(od)return r(o,u);od=!0;try{var p=r(o);return p}finally{if(od=!1,(lo!==null||co!==null)&&(bu(),lo&&(o=lo,r=co,co=lo=null,v0(o),r)))for(o=0;o<r.length;o++)v0(r[o])}}function Ps(r,o){var u=r.stateNode;if(u===null)return null;var p=u[xe]||null;if(p===null)return null;u=p[o];t:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(r=r.type,p=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!p;break t;default:r=!1}if(r)return null;if(u&&typeof u!="function")throw Error(i(231,o,typeof u));return u}var Zi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),sd=!1;if(Zi)try{var Us={};Object.defineProperty(Us,"passive",{get:function(){sd=!0}}),window.addEventListener("test",Us,Us),window.removeEventListener("test",Us,Us)}catch{sd=!1}var Rr=null,ld=null,Oc=null;function x0(){if(Oc)return Oc;var r,o=ld,u=o.length,p,_="value"in Rr?Rr.value:Rr.textContent,C=_.length;for(r=0;r<u&&o[r]===_[r];r++);var w=u-r;for(p=1;p<=w&&o[u-p]===_[C-p];p++);return Oc=_.slice(r,1<p?1-p:void 0)}function Pc(r){var o=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&o===13&&(r=13)):r=o,r===10&&(r=13),32<=r||r===13?r:0}function Uc(){return!0}function C0(){return!1}function En(r){function o(u,p,_,C,w){this._reactName=u,this._targetInst=_,this.type=p,this.nativeEvent=C,this.target=w,this.currentTarget=null;for(var M in r)r.hasOwnProperty(M)&&(u=r[M],this[M]=u?u(C):C[M]);return this.isDefaultPrevented=(C.defaultPrevented!=null?C.defaultPrevented:C.returnValue===!1)?Uc:C0,this.isPropagationStopped=C0,this}return m(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Uc)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Uc)},persist:function(){},isPersistent:Uc}),o}var ga={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$c=En(ga),$s=m({},ga,{view:0,detail:0}),HM=En($s),cd,ud,zs,zc=m({},$s,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fd,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==zs&&(zs&&r.type==="mousemove"?(cd=r.screenX-zs.screenX,ud=r.screenY-zs.screenY):ud=cd=0,zs=r),cd)},movementY:function(r){return"movementY"in r?r.movementY:ud}}),S0=En(zc),GM=m({},zc,{dataTransfer:0}),VM=En(GM),YM=m({},$s,{relatedTarget:0}),hd=En(YM),WM=m({},ga,{animationName:0,elapsedTime:0,pseudoElement:0}),XM=En(WM),JM=m({},ga,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),KM=En(JM),QM=m({},ga,{data:0}),b0=En(QM),ZM={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jM={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},tR={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function eR(r){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(r):(r=tR[r])?!!o[r]:!1}function fd(){return eR}var nR=m({},$s,{key:function(r){if(r.key){var o=ZM[r.key]||r.key;if(o!=="Unidentified")return o}return r.type==="keypress"?(r=Pc(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?jM[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fd,charCode:function(r){return r.type==="keypress"?Pc(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Pc(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),iR=En(nR),rR=m({},zc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),T0=En(rR),aR=m({},$s,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fd}),oR=En(aR),sR=m({},ga,{propertyName:0,elapsedTime:0,pseudoElement:0}),lR=En(sR),cR=m({},zc,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),uR=En(cR),hR=m({},ga,{newState:0,oldState:0}),fR=En(hR),dR=[9,13,27,32],dd=Zi&&"CompositionEvent"in window,qs=null;Zi&&"documentMode"in document&&(qs=document.documentMode);var pR=Zi&&"TextEvent"in window&&!qs,E0=Zi&&(!dd||qs&&8<qs&&11>=qs),w0=" ",A0=!1;function k0(r,o){switch(r){case"keyup":return dR.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function M0(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var uo=!1;function gR(r,o){switch(r){case"compositionend":return M0(o);case"keypress":return o.which!==32?null:(A0=!0,w0);case"textInput":return r=o.data,r===w0&&A0?null:r;default:return null}}function mR(r,o){if(uo)return r==="compositionend"||!dd&&k0(r,o)?(r=x0(),Oc=ld=Rr=null,uo=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return E0&&o.locale!=="ko"?null:o.data;default:return null}}var yR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function R0(r){var o=r&&r.nodeName&&r.nodeName.toLowerCase();return o==="input"?!!yR[r.type]:o==="textarea"}function N0(r,o,u,p){lo?co?co.push(p):co=[p]:lo=p,o=Ru(o,"onChange"),0<o.length&&(u=new $c("onChange","change",null,u,p),r.push({event:u,listeners:o}))}var Hs=null,Gs=null;function vR(r){dx(r,0)}function qc(r){var o=re(r);if(f0(o))return r}function L0(r,o){if(r==="change")return o}var D0=!1;if(Zi){var pd;if(Zi){var gd="oninput"in document;if(!gd){var I0=document.createElement("div");I0.setAttribute("oninput","return;"),gd=typeof I0.oninput=="function"}pd=gd}else pd=!1;D0=pd&&(!document.documentMode||9<document.documentMode)}function B0(){Hs&&(Hs.detachEvent("onpropertychange",F0),Gs=Hs=null)}function F0(r){if(r.propertyName==="value"&&qc(Gs)){var o=[];N0(o,Gs,r,ad(r)),_0(vR,o)}}function _R(r,o,u){r==="focusin"?(B0(),Hs=o,Gs=u,Hs.attachEvent("onpropertychange",F0)):r==="focusout"&&B0()}function xR(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return qc(Gs)}function CR(r,o){if(r==="click")return qc(o)}function SR(r,o){if(r==="input"||r==="change")return qc(o)}function bR(r,o){return r===o&&(r!==0||1/r===1/o)||r!==r&&o!==o}var On=typeof Object.is=="function"?Object.is:bR;function Vs(r,o){if(On(r,o))return!0;if(typeof r!="object"||r===null||typeof o!="object"||o===null)return!1;var u=Object.keys(r),p=Object.keys(o);if(u.length!==p.length)return!1;for(p=0;p<u.length;p++){var _=u[p];if(!wr.call(o,_)||!On(r[_],o[_]))return!1}return!0}function O0(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function P0(r,o){var u=O0(r);r=0;for(var p;u;){if(u.nodeType===3){if(p=r+u.textContent.length,r<=o&&p>=o)return{node:u,offset:o-r};r=p}t:{for(;u;){if(u.nextSibling){u=u.nextSibling;break t}u=u.parentNode}u=void 0}u=O0(u)}}function U0(r,o){return r&&o?r===o?!0:r&&r.nodeType===3?!1:o&&o.nodeType===3?U0(r,o.parentNode):"contains"in r?r.contains(o):r.compareDocumentPosition?!!(r.compareDocumentPosition(o)&16):!1:!1}function $0(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var o=Bc(r.document);o instanceof r.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)r=o.contentWindow;else break;o=Bc(r.document)}return o}function md(r){var o=r&&r.nodeName&&r.nodeName.toLowerCase();return o&&(o==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||o==="textarea"||r.contentEditable==="true")}var TR=Zi&&"documentMode"in document&&11>=document.documentMode,ho=null,yd=null,Ys=null,vd=!1;function z0(r,o,u){var p=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;vd||ho==null||ho!==Bc(p)||(p=ho,"selectionStart"in p&&md(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),Ys&&Vs(Ys,p)||(Ys=p,p=Ru(yd,"onSelect"),0<p.length&&(o=new $c("onSelect","select",null,o,u),r.push({event:o,listeners:p}),o.target=ho)))}function ma(r,o){var u={};return u[r.toLowerCase()]=o.toLowerCase(),u["Webkit"+r]="webkit"+o,u["Moz"+r]="moz"+o,u}var fo={animationend:ma("Animation","AnimationEnd"),animationiteration:ma("Animation","AnimationIteration"),animationstart:ma("Animation","AnimationStart"),transitionrun:ma("Transition","TransitionRun"),transitionstart:ma("Transition","TransitionStart"),transitioncancel:ma("Transition","TransitionCancel"),transitionend:ma("Transition","TransitionEnd")},_d={},q0={};Zi&&(q0=document.createElement("div").style,"AnimationEvent"in window||(delete fo.animationend.animation,delete fo.animationiteration.animation,delete fo.animationstart.animation),"TransitionEvent"in window||delete fo.transitionend.transition);function ya(r){if(_d[r])return _d[r];if(!fo[r])return r;var o=fo[r],u;for(u in o)if(o.hasOwnProperty(u)&&u in q0)return _d[r]=o[u];return r}var H0=ya("animationend"),G0=ya("animationiteration"),V0=ya("animationstart"),ER=ya("transitionrun"),wR=ya("transitionstart"),AR=ya("transitioncancel"),Y0=ya("transitionend"),W0=new Map,xd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");xd.push("scrollEnd");function di(r,o){W0.set(r,o),Tn(o,[r])}var Hc=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)},Qn=[],po=0,Cd=0;function Gc(){for(var r=po,o=Cd=po=0;o<r;){var u=Qn[o];Qn[o++]=null;var p=Qn[o];Qn[o++]=null;var _=Qn[o];Qn[o++]=null;var C=Qn[o];if(Qn[o++]=null,p!==null&&_!==null){var w=p.pending;w===null?_.next=_:(_.next=w.next,w.next=_),p.pending=_}C!==0&&X0(u,_,C)}}function Vc(r,o,u,p){Qn[po++]=r,Qn[po++]=o,Qn[po++]=u,Qn[po++]=p,Cd|=p,r.lanes|=p,r=r.alternate,r!==null&&(r.lanes|=p)}function Sd(r,o,u,p){return Vc(r,o,u,p),Yc(r)}function va(r,o){return Vc(r,null,null,o),Yc(r)}function X0(r,o,u){r.lanes|=u;var p=r.alternate;p!==null&&(p.lanes|=u);for(var _=!1,C=r.return;C!==null;)C.childLanes|=u,p=C.alternate,p!==null&&(p.childLanes|=u),C.tag===22&&(r=C.stateNode,r===null||r._visibility&1||(_=!0)),r=C,C=C.return;return r.tag===3?(C=r.stateNode,_&&o!==null&&(_=31-Re(u),r=C.hiddenUpdates,p=r[_],p===null?r[_]=[o]:p.push(o),o.lane=u|536870912),C):null}function Yc(r){if(50<pl)throw pl=0,Np=null,Error(i(185));for(var o=r.return;o!==null;)r=o,o=r.return;return r.tag===3?r.stateNode:null}var go={};function kR(r,o,u,p){this.tag=r,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pn(r,o,u,p){return new kR(r,o,u,p)}function bd(r){return r=r.prototype,!(!r||!r.isReactComponent)}function ji(r,o){var u=r.alternate;return u===null?(u=Pn(r.tag,o,r.key,r.mode),u.elementType=r.elementType,u.type=r.type,u.stateNode=r.stateNode,u.alternate=r,r.alternate=u):(u.pendingProps=o,u.type=r.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=r.flags&65011712,u.childLanes=r.childLanes,u.lanes=r.lanes,u.child=r.child,u.memoizedProps=r.memoizedProps,u.memoizedState=r.memoizedState,u.updateQueue=r.updateQueue,o=r.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=r.sibling,u.index=r.index,u.ref=r.ref,u.refCleanup=r.refCleanup,u}function J0(r,o){r.flags&=65011714;var u=r.alternate;return u===null?(r.childLanes=0,r.lanes=o,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=u.childLanes,r.lanes=u.lanes,r.child=u.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=u.memoizedProps,r.memoizedState=u.memoizedState,r.updateQueue=u.updateQueue,r.type=u.type,o=u.dependencies,r.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),r}function Wc(r,o,u,p,_,C){var w=0;if(p=r,typeof r=="function")bd(r)&&(w=1);else if(typeof r=="string")w=DN(r,u,ht.current)?26:r==="html"||r==="head"||r==="body"?27:5;else t:switch(r){case Q:return r=Pn(31,u,o,_),r.elementType=Q,r.lanes=C,r;case b:return _a(u.children,_,C,o);case E:w=8,_|=24;break;case A:return r=Pn(12,u,o,_|2),r.elementType=A,r.lanes=C,r;case B:return r=Pn(13,u,o,_),r.elementType=B,r.lanes=C,r;case L:return r=Pn(19,u,o,_),r.elementType=L,r.lanes=C,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case R:w=10;break t;case k:w=9;break t;case I:w=11;break t;case N:w=14;break t;case V:w=16,p=null;break t}w=29,u=Error(i(130,r===null?"null":typeof r,"")),p=null}return o=Pn(w,u,o,_),o.elementType=r,o.type=p,o.lanes=C,o}function _a(r,o,u,p){return r=Pn(7,r,p,o),r.lanes=u,r}function Td(r,o,u){return r=Pn(6,r,null,o),r.lanes=u,r}function K0(r){var o=Pn(18,null,null,0);return o.stateNode=r,o}function Ed(r,o,u){return o=Pn(4,r.children!==null?r.children:[],r.key,o),o.lanes=u,o.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},o}var Q0=new WeakMap;function Zn(r,o){if(typeof r=="object"&&r!==null){var u=Q0.get(r);return u!==void 0?u:(o={value:r,source:o,stack:Gi(o)},Q0.set(r,o),o)}return{value:r,source:o,stack:Gi(o)}}var mo=[],yo=0,Xc=null,Ws=0,jn=[],ti=0,Nr=null,Ri=1,Ni="";function tr(r,o){mo[yo++]=Ws,mo[yo++]=Xc,Xc=r,Ws=o}function Z0(r,o,u){jn[ti++]=Ri,jn[ti++]=Ni,jn[ti++]=Nr,Nr=r;var p=Ri;r=Ni;var _=32-Re(p)-1;p&=~(1<<_),u+=1;var C=32-Re(o)+_;if(30<C){var w=_-_%5;C=(p&(1<<w)-1).toString(32),p>>=w,_-=w,Ri=1<<32-Re(o)+_|u<<_|p,Ni=C+r}else Ri=1<<C|u<<_|p,Ni=r}function wd(r){r.return!==null&&(tr(r,1),Z0(r,1,0))}function Ad(r){for(;r===Xc;)Xc=mo[--yo],mo[yo]=null,Ws=mo[--yo],mo[yo]=null;for(;r===Nr;)Nr=jn[--ti],jn[ti]=null,Ni=jn[--ti],jn[ti]=null,Ri=jn[--ti],jn[ti]=null}function j0(r,o){jn[ti++]=Ri,jn[ti++]=Ni,jn[ti++]=Nr,Ri=o.id,Ni=o.overflow,Nr=r}var Ke=null,ye=null,Jt=!1,Lr=null,ei=!1,kd=Error(i(519));function Dr(r){var o=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Xs(Zn(o,r)),kd}function tv(r){var o=r.stateNode,u=r.type,p=r.memoizedProps;switch(o[Ne]=r,o[xe]=p,u){case"dialog":Vt("cancel",o),Vt("close",o);break;case"iframe":case"object":case"embed":Vt("load",o);break;case"video":case"audio":for(u=0;u<ml.length;u++)Vt(ml[u],o);break;case"source":Vt("error",o);break;case"img":case"image":case"link":Vt("error",o),Vt("load",o);break;case"details":Vt("toggle",o);break;case"input":Vt("invalid",o),d0(o,p.value,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name,!0);break;case"select":Vt("invalid",o);break;case"textarea":Vt("invalid",o),g0(o,p.value,p.defaultValue,p.children)}u=p.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||o.textContent===""+u||p.suppressHydrationWarning===!0||yx(o.textContent,u)?(p.popover!=null&&(Vt("beforetoggle",o),Vt("toggle",o)),p.onScroll!=null&&Vt("scroll",o),p.onScrollEnd!=null&&Vt("scrollend",o),p.onClick!=null&&(o.onclick=Qi),o=!0):o=!1,o||Dr(r,!0)}function ev(r){for(Ke=r.return;Ke;)switch(Ke.tag){case 5:case 31:case 13:ei=!1;return;case 27:case 3:ei=!0;return;default:Ke=Ke.return}}function vo(r){if(r!==Ke)return!1;if(!Jt)return ev(r),Jt=!0,!1;var o=r.tag,u;if((u=o!==3&&o!==27)&&((u=o===5)&&(u=r.type,u=!(u!=="form"&&u!=="button")||Yp(r.type,r.memoizedProps)),u=!u),u&&ye&&Dr(r),ev(r),o===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));ye=wx(r)}else if(o===31){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));ye=wx(r)}else o===27?(o=ye,Wr(r.type)?(r=Qp,Qp=null,ye=r):ye=o):ye=Ke?ii(r.stateNode.nextSibling):null;return!0}function xa(){ye=Ke=null,Jt=!1}function Md(){var r=Lr;return r!==null&&(Mn===null?Mn=r:Mn.push.apply(Mn,r),Lr=null),r}function Xs(r){Lr===null?Lr=[r]:Lr.push(r)}var Rd=F(null),Ca=null,er=null;function Ir(r,o,u){at(Rd,o._currentValue),o._currentValue=u}function nr(r){r._currentValue=Rd.current,j(Rd)}function Nd(r,o,u){for(;r!==null;){var p=r.alternate;if((r.childLanes&o)!==o?(r.childLanes|=o,p!==null&&(p.childLanes|=o)):p!==null&&(p.childLanes&o)!==o&&(p.childLanes|=o),r===u)break;r=r.return}}function Ld(r,o,u,p){var _=r.child;for(_!==null&&(_.return=r);_!==null;){var C=_.dependencies;if(C!==null){var w=_.child;C=C.firstContext;t:for(;C!==null;){var M=C;C=_;for(var O=0;O<o.length;O++)if(M.context===o[O]){C.lanes|=u,M=C.alternate,M!==null&&(M.lanes|=u),Nd(C.return,u,r),p||(w=null);break t}C=M.next}}else if(_.tag===18){if(w=_.return,w===null)throw Error(i(341));w.lanes|=u,C=w.alternate,C!==null&&(C.lanes|=u),Nd(w,u,r),w=null}else w=_.child;if(w!==null)w.return=_;else for(w=_;w!==null;){if(w===r){w=null;break}if(_=w.sibling,_!==null){_.return=w.return,w=_;break}w=w.return}_=w}}function _o(r,o,u,p){r=null;for(var _=o,C=!1;_!==null;){if(!C){if((_.flags&524288)!==0)C=!0;else if((_.flags&262144)!==0)break}if(_.tag===10){var w=_.alternate;if(w===null)throw Error(i(387));if(w=w.memoizedProps,w!==null){var M=_.type;On(_.pendingProps.value,w.value)||(r!==null?r.push(M):r=[M])}}else if(_===_t.current){if(w=_.alternate,w===null)throw Error(i(387));w.memoizedState.memoizedState!==_.memoizedState.memoizedState&&(r!==null?r.push(Cl):r=[Cl])}_=_.return}r!==null&&Ld(o,r,u,p),o.flags|=262144}function Jc(r){for(r=r.firstContext;r!==null;){if(!On(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function Sa(r){Ca=r,er=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function Qe(r){return nv(Ca,r)}function Kc(r,o){return Ca===null&&Sa(r),nv(r,o)}function nv(r,o){var u=o._currentValue;if(o={context:o,memoizedValue:u,next:null},er===null){if(r===null)throw Error(i(308));er=o,r.dependencies={lanes:0,firstContext:o},r.flags|=524288}else er=er.next=o;return u}var MR=typeof AbortController<"u"?AbortController:function(){var r=[],o=this.signal={aborted:!1,addEventListener:function(u,p){r.push(p)}};this.abort=function(){o.aborted=!0,r.forEach(function(u){return u()})}},RR=e.unstable_scheduleCallback,NR=e.unstable_NormalPriority,Le={$$typeof:R,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Dd(){return{controller:new MR,data:new Map,refCount:0}}function Js(r){r.refCount--,r.refCount===0&&RR(NR,function(){r.controller.abort()})}var Ks=null,Id=0,xo=0,Co=null;function LR(r,o){if(Ks===null){var u=Ks=[];Id=0,xo=Op(),Co={status:"pending",value:void 0,then:function(p){u.push(p)}}}return Id++,o.then(iv,iv),o}function iv(){if(--Id===0&&Ks!==null){Co!==null&&(Co.status="fulfilled");var r=Ks;Ks=null,xo=0,Co=null;for(var o=0;o<r.length;o++)(0,r[o])()}}function DR(r,o){var u=[],p={status:"pending",value:null,reason:null,then:function(_){u.push(_)}};return r.then(function(){p.status="fulfilled",p.value=o;for(var _=0;_<u.length;_++)(0,u[_])(o)},function(_){for(p.status="rejected",p.reason=_,_=0;_<u.length;_++)(0,u[_])(void 0)}),p}var rv=D.S;D.S=function(r,o){z_=Xe(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&LR(r,o),rv!==null&&rv(r,o)};var ba=F(null);function Bd(){var r=ba.current;return r!==null?r:ge.pooledCache}function Qc(r,o){o===null?at(ba,ba.current):at(ba,o.pool)}function av(){var r=Bd();return r===null?null:{parent:Le._currentValue,pool:r}}var So=Error(i(460)),Fd=Error(i(474)),Zc=Error(i(542)),jc={then:function(){}};function ov(r){return r=r.status,r==="fulfilled"||r==="rejected"}function sv(r,o,u){switch(u=r[u],u===void 0?r.push(o):u!==o&&(o.then(Qi,Qi),o=u),o.status){case"fulfilled":return o.value;case"rejected":throw r=o.reason,cv(r),r;default:if(typeof o.status=="string")o.then(Qi,Qi);else{if(r=ge,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=o,r.status="pending",r.then(function(p){if(o.status==="pending"){var _=o;_.status="fulfilled",_.value=p}},function(p){if(o.status==="pending"){var _=o;_.status="rejected",_.reason=p}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw r=o.reason,cv(r),r}throw Ea=o,So}}function Ta(r){try{var o=r._init;return o(r._payload)}catch(u){throw u!==null&&typeof u=="object"&&typeof u.then=="function"?(Ea=u,So):u}}var Ea=null;function lv(){if(Ea===null)throw Error(i(459));var r=Ea;return Ea=null,r}function cv(r){if(r===So||r===Zc)throw Error(i(483))}var bo=null,Qs=0;function tu(r){var o=Qs;return Qs+=1,bo===null&&(bo=[]),sv(bo,r,o)}function Zs(r,o){o=o.props.ref,r.ref=o!==void 0?o:null}function eu(r,o){throw o.$$typeof===v?Error(i(525)):(r=Object.prototype.toString.call(o),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":r)))}function uv(r){function o(q,$){if(r){var J=q.deletions;J===null?(q.deletions=[$],q.flags|=16):J.push($)}}function u(q,$){if(!r)return null;for(;$!==null;)o(q,$),$=$.sibling;return null}function p(q){for(var $=new Map;q!==null;)q.key!==null?$.set(q.key,q):$.set(q.index,q),q=q.sibling;return $}function _(q,$){return q=ji(q,$),q.index=0,q.sibling=null,q}function C(q,$,J){return q.index=J,r?(J=q.alternate,J!==null?(J=J.index,J<$?(q.flags|=67108866,$):J):(q.flags|=67108866,$)):(q.flags|=1048576,$)}function w(q){return r&&q.alternate===null&&(q.flags|=67108866),q}function M(q,$,J,rt){return $===null||$.tag!==6?($=Td(J,q.mode,rt),$.return=q,$):($=_($,J),$.return=q,$)}function O(q,$,J,rt){var Mt=J.type;return Mt===b?it(q,$,J.props.children,rt,J.key):$!==null&&($.elementType===Mt||typeof Mt=="object"&&Mt!==null&&Mt.$$typeof===V&&Ta(Mt)===$.type)?($=_($,J.props),Zs($,J),$.return=q,$):($=Wc(J.type,J.key,J.props,null,q.mode,rt),Zs($,J),$.return=q,$)}function K(q,$,J,rt){return $===null||$.tag!==4||$.stateNode.containerInfo!==J.containerInfo||$.stateNode.implementation!==J.implementation?($=Ed(J,q.mode,rt),$.return=q,$):($=_($,J.children||[]),$.return=q,$)}function it(q,$,J,rt,Mt){return $===null||$.tag!==7?($=_a(J,q.mode,rt,Mt),$.return=q,$):($=_($,J),$.return=q,$)}function ot(q,$,J){if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return $=Td(""+$,q.mode,J),$.return=q,$;if(typeof $=="object"&&$!==null){switch($.$$typeof){case x:return J=Wc($.type,$.key,$.props,null,q.mode,J),Zs(J,$),J.return=q,J;case S:return $=Ed($,q.mode,J),$.return=q,$;case V:return $=Ta($),ot(q,$,J)}if(H($)||ct($))return $=_a($,q.mode,J,null),$.return=q,$;if(typeof $.then=="function")return ot(q,tu($),J);if($.$$typeof===R)return ot(q,Kc(q,$),J);eu(q,$)}return null}function Z(q,$,J,rt){var Mt=$!==null?$.key:null;if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return Mt!==null?null:M(q,$,""+J,rt);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case x:return J.key===Mt?O(q,$,J,rt):null;case S:return J.key===Mt?K(q,$,J,rt):null;case V:return J=Ta(J),Z(q,$,J,rt)}if(H(J)||ct(J))return Mt!==null?null:it(q,$,J,rt,null);if(typeof J.then=="function")return Z(q,$,tu(J),rt);if(J.$$typeof===R)return Z(q,$,Kc(q,J),rt);eu(q,J)}return null}function tt(q,$,J,rt,Mt){if(typeof rt=="string"&&rt!==""||typeof rt=="number"||typeof rt=="bigint")return q=q.get(J)||null,M($,q,""+rt,Mt);if(typeof rt=="object"&&rt!==null){switch(rt.$$typeof){case x:return q=q.get(rt.key===null?J:rt.key)||null,O($,q,rt,Mt);case S:return q=q.get(rt.key===null?J:rt.key)||null,K($,q,rt,Mt);case V:return rt=Ta(rt),tt(q,$,J,rt,Mt)}if(H(rt)||ct(rt))return q=q.get(J)||null,it($,q,rt,Mt,null);if(typeof rt.then=="function")return tt(q,$,J,tu(rt),Mt);if(rt.$$typeof===R)return tt(q,$,J,Kc($,rt),Mt);eu($,rt)}return null}function xt(q,$,J,rt){for(var Mt=null,jt=null,At=$,zt=$=0,Xt=null;At!==null&&zt<J.length;zt++){At.index>zt?(Xt=At,At=null):Xt=At.sibling;var te=Z(q,At,J[zt],rt);if(te===null){At===null&&(At=Xt);break}r&&At&&te.alternate===null&&o(q,At),$=C(te,$,zt),jt===null?Mt=te:jt.sibling=te,jt=te,At=Xt}if(zt===J.length)return u(q,At),Jt&&tr(q,zt),Mt;if(At===null){for(;zt<J.length;zt++)At=ot(q,J[zt],rt),At!==null&&($=C(At,$,zt),jt===null?Mt=At:jt.sibling=At,jt=At);return Jt&&tr(q,zt),Mt}for(At=p(At);zt<J.length;zt++)Xt=tt(At,q,zt,J[zt],rt),Xt!==null&&(r&&Xt.alternate!==null&&At.delete(Xt.key===null?zt:Xt.key),$=C(Xt,$,zt),jt===null?Mt=Xt:jt.sibling=Xt,jt=Xt);return r&&At.forEach(function(Zr){return o(q,Zr)}),Jt&&tr(q,zt),Mt}function Lt(q,$,J,rt){if(J==null)throw Error(i(151));for(var Mt=null,jt=null,At=$,zt=$=0,Xt=null,te=J.next();At!==null&&!te.done;zt++,te=J.next()){At.index>zt?(Xt=At,At=null):Xt=At.sibling;var Zr=Z(q,At,te.value,rt);if(Zr===null){At===null&&(At=Xt);break}r&&At&&Zr.alternate===null&&o(q,At),$=C(Zr,$,zt),jt===null?Mt=Zr:jt.sibling=Zr,jt=Zr,At=Xt}if(te.done)return u(q,At),Jt&&tr(q,zt),Mt;if(At===null){for(;!te.done;zt++,te=J.next())te=ot(q,te.value,rt),te!==null&&($=C(te,$,zt),jt===null?Mt=te:jt.sibling=te,jt=te);return Jt&&tr(q,zt),Mt}for(At=p(At);!te.done;zt++,te=J.next())te=tt(At,q,zt,te.value,rt),te!==null&&(r&&te.alternate!==null&&At.delete(te.key===null?zt:te.key),$=C(te,$,zt),jt===null?Mt=te:jt.sibling=te,jt=te);return r&&At.forEach(function(GN){return o(q,GN)}),Jt&&tr(q,zt),Mt}function de(q,$,J,rt){if(typeof J=="object"&&J!==null&&J.type===b&&J.key===null&&(J=J.props.children),typeof J=="object"&&J!==null){switch(J.$$typeof){case x:t:{for(var Mt=J.key;$!==null;){if($.key===Mt){if(Mt=J.type,Mt===b){if($.tag===7){u(q,$.sibling),rt=_($,J.props.children),rt.return=q,q=rt;break t}}else if($.elementType===Mt||typeof Mt=="object"&&Mt!==null&&Mt.$$typeof===V&&Ta(Mt)===$.type){u(q,$.sibling),rt=_($,J.props),Zs(rt,J),rt.return=q,q=rt;break t}u(q,$);break}else o(q,$);$=$.sibling}J.type===b?(rt=_a(J.props.children,q.mode,rt,J.key),rt.return=q,q=rt):(rt=Wc(J.type,J.key,J.props,null,q.mode,rt),Zs(rt,J),rt.return=q,q=rt)}return w(q);case S:t:{for(Mt=J.key;$!==null;){if($.key===Mt)if($.tag===4&&$.stateNode.containerInfo===J.containerInfo&&$.stateNode.implementation===J.implementation){u(q,$.sibling),rt=_($,J.children||[]),rt.return=q,q=rt;break t}else{u(q,$);break}else o(q,$);$=$.sibling}rt=Ed(J,q.mode,rt),rt.return=q,q=rt}return w(q);case V:return J=Ta(J),de(q,$,J,rt)}if(H(J))return xt(q,$,J,rt);if(ct(J)){if(Mt=ct(J),typeof Mt!="function")throw Error(i(150));return J=Mt.call(J),Lt(q,$,J,rt)}if(typeof J.then=="function")return de(q,$,tu(J),rt);if(J.$$typeof===R)return de(q,$,Kc(q,J),rt);eu(q,J)}return typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint"?(J=""+J,$!==null&&$.tag===6?(u(q,$.sibling),rt=_($,J),rt.return=q,q=rt):(u(q,$),rt=Td(J,q.mode,rt),rt.return=q,q=rt),w(q)):u(q,$)}return function(q,$,J,rt){try{Qs=0;var Mt=de(q,$,J,rt);return bo=null,Mt}catch(At){if(At===So||At===Zc)throw At;var jt=Pn(29,At,null,q.mode);return jt.lanes=rt,jt.return=q,jt}finally{}}}var wa=uv(!0),hv=uv(!1),Br=!1;function Od(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Pd(r,o){r=r.updateQueue,o.updateQueue===r&&(o.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function Fr(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function Or(r,o,u){var p=r.updateQueue;if(p===null)return null;if(p=p.shared,(ie&2)!==0){var _=p.pending;return _===null?o.next=o:(o.next=_.next,_.next=o),p.pending=o,o=Yc(r),X0(r,null,u),o}return Vc(r,p,o,u),Yc(r)}function js(r,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194048)!==0)){var p=o.lanes;p&=r.pendingLanes,u|=p,o.lanes=u,Ds(r,u)}}function Ud(r,o){var u=r.updateQueue,p=r.alternate;if(p!==null&&(p=p.updateQueue,u===p)){var _=null,C=null;if(u=u.firstBaseUpdate,u!==null){do{var w={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};C===null?_=C=w:C=C.next=w,u=u.next}while(u!==null);C===null?_=C=o:C=C.next=o}else _=C=o;u={baseState:p.baseState,firstBaseUpdate:_,lastBaseUpdate:C,shared:p.shared,callbacks:p.callbacks},r.updateQueue=u;return}r=u.lastBaseUpdate,r===null?u.firstBaseUpdate=o:r.next=o,u.lastBaseUpdate=o}var $d=!1;function tl(){if($d){var r=Co;if(r!==null)throw r}}function el(r,o,u,p){$d=!1;var _=r.updateQueue;Br=!1;var C=_.firstBaseUpdate,w=_.lastBaseUpdate,M=_.shared.pending;if(M!==null){_.shared.pending=null;var O=M,K=O.next;O.next=null,w===null?C=K:w.next=K,w=O;var it=r.alternate;it!==null&&(it=it.updateQueue,M=it.lastBaseUpdate,M!==w&&(M===null?it.firstBaseUpdate=K:M.next=K,it.lastBaseUpdate=O))}if(C!==null){var ot=_.baseState;w=0,it=K=O=null,M=C;do{var Z=M.lane&-536870913,tt=Z!==M.lane;if(tt?(Wt&Z)===Z:(p&Z)===Z){Z!==0&&Z===xo&&($d=!0),it!==null&&(it=it.next={lane:0,tag:M.tag,payload:M.payload,callback:null,next:null});t:{var xt=r,Lt=M;Z=o;var de=u;switch(Lt.tag){case 1:if(xt=Lt.payload,typeof xt=="function"){ot=xt.call(de,ot,Z);break t}ot=xt;break t;case 3:xt.flags=xt.flags&-65537|128;case 0:if(xt=Lt.payload,Z=typeof xt=="function"?xt.call(de,ot,Z):xt,Z==null)break t;ot=m({},ot,Z);break t;case 2:Br=!0}}Z=M.callback,Z!==null&&(r.flags|=64,tt&&(r.flags|=8192),tt=_.callbacks,tt===null?_.callbacks=[Z]:tt.push(Z))}else tt={lane:Z,tag:M.tag,payload:M.payload,callback:M.callback,next:null},it===null?(K=it=tt,O=ot):it=it.next=tt,w|=Z;if(M=M.next,M===null){if(M=_.shared.pending,M===null)break;tt=M,M=tt.next,tt.next=null,_.lastBaseUpdate=tt,_.shared.pending=null}}while(!0);it===null&&(O=ot),_.baseState=O,_.firstBaseUpdate=K,_.lastBaseUpdate=it,C===null&&(_.shared.lanes=0),qr|=w,r.lanes=w,r.memoizedState=ot}}function fv(r,o){if(typeof r!="function")throw Error(i(191,r));r.call(o)}function dv(r,o){var u=r.callbacks;if(u!==null)for(r.callbacks=null,r=0;r<u.length;r++)fv(u[r],o)}var To=F(null),nu=F(0);function pv(r,o){r=hr,at(nu,r),at(To,o),hr=r|o.baseLanes}function zd(){at(nu,hr),at(To,To.current)}function qd(){hr=nu.current,j(To),j(nu)}var Un=F(null),ni=null;function Pr(r){var o=r.alternate;at(Ae,Ae.current&1),at(Un,r),ni===null&&(o===null||To.current!==null||o.memoizedState!==null)&&(ni=r)}function Hd(r){at(Ae,Ae.current),at(Un,r),ni===null&&(ni=r)}function gv(r){r.tag===22?(at(Ae,Ae.current),at(Un,r),ni===null&&(ni=r)):Ur()}function Ur(){at(Ae,Ae.current),at(Un,Un.current)}function $n(r){j(Un),ni===r&&(ni=null),j(Ae)}var Ae=F(0);function iu(r){for(var o=r;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||Jp(u)||Kp(u)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var ir=0,$t=null,he=null,De=null,ru=!1,Eo=!1,Aa=!1,au=0,nl=0,wo=null,IR=0;function Te(){throw Error(i(321))}function Gd(r,o){if(o===null)return!1;for(var u=0;u<o.length&&u<r.length;u++)if(!On(r[u],o[u]))return!1;return!0}function Vd(r,o,u,p,_,C){return ir=C,$t=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,D.H=r===null||r.memoizedState===null?Zv:op,Aa=!1,C=u(p,_),Aa=!1,Eo&&(C=yv(o,u,p,_)),mv(r),C}function mv(r){D.H=al;var o=he!==null&&he.next!==null;if(ir=0,De=he=$t=null,ru=!1,nl=0,wo=null,o)throw Error(i(300));r===null||Ie||(r=r.dependencies,r!==null&&Jc(r)&&(Ie=!0))}function yv(r,o,u,p){$t=r;var _=0;do{if(Eo&&(wo=null),nl=0,Eo=!1,25<=_)throw Error(i(301));if(_+=1,De=he=null,r.updateQueue!=null){var C=r.updateQueue;C.lastEffect=null,C.events=null,C.stores=null,C.memoCache!=null&&(C.memoCache.index=0)}D.H=jv,C=o(u,p)}while(Eo);return C}function BR(){var r=D.H,o=r.useState()[0];return o=typeof o.then=="function"?il(o):o,r=r.useState()[0],(he!==null?he.memoizedState:null)!==r&&($t.flags|=1024),o}function Yd(){var r=au!==0;return au=0,r}function Wd(r,o,u){o.updateQueue=r.updateQueue,o.flags&=-2053,r.lanes&=~u}function Xd(r){if(ru){for(r=r.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}ru=!1}ir=0,De=he=$t=null,Eo=!1,nl=au=0,wo=null}function pn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return De===null?$t.memoizedState=De=r:De=De.next=r,De}function ke(){if(he===null){var r=$t.alternate;r=r!==null?r.memoizedState:null}else r=he.next;var o=De===null?$t.memoizedState:De.next;if(o!==null)De=o,he=r;else{if(r===null)throw $t.alternate===null?Error(i(467)):Error(i(310));he=r,r={memoizedState:he.memoizedState,baseState:he.baseState,baseQueue:he.baseQueue,queue:he.queue,next:null},De===null?$t.memoizedState=De=r:De=De.next=r}return De}function ou(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function il(r){var o=nl;return nl+=1,wo===null&&(wo=[]),r=sv(wo,r,o),o=$t,(De===null?o.memoizedState:De.next)===null&&(o=o.alternate,D.H=o===null||o.memoizedState===null?Zv:op),r}function su(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return il(r);if(r.$$typeof===R)return Qe(r)}throw Error(i(438,String(r)))}function Jd(r){var o=null,u=$t.updateQueue;if(u!==null&&(o=u.memoCache),o==null){var p=$t.alternate;p!==null&&(p=p.updateQueue,p!==null&&(p=p.memoCache,p!=null&&(o={data:p.data.map(function(_){return _.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),u===null&&(u=ou(),$t.updateQueue=u),u.memoCache=o,u=o.data[o.index],u===void 0)for(u=o.data[o.index]=Array(r),p=0;p<r;p++)u[p]=et;return o.index++,u}function rr(r,o){return typeof o=="function"?o(r):o}function lu(r){var o=ke();return Kd(o,he,r)}function Kd(r,o,u){var p=r.queue;if(p===null)throw Error(i(311));p.lastRenderedReducer=u;var _=r.baseQueue,C=p.pending;if(C!==null){if(_!==null){var w=_.next;_.next=C.next,C.next=w}o.baseQueue=_=C,p.pending=null}if(C=r.baseState,_===null)r.memoizedState=C;else{o=_.next;var M=w=null,O=null,K=o,it=!1;do{var ot=K.lane&-536870913;if(ot!==K.lane?(Wt&ot)===ot:(ir&ot)===ot){var Z=K.revertLane;if(Z===0)O!==null&&(O=O.next={lane:0,revertLane:0,gesture:null,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),ot===xo&&(it=!0);else if((ir&Z)===Z){K=K.next,Z===xo&&(it=!0);continue}else ot={lane:0,revertLane:K.revertLane,gesture:null,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},O===null?(M=O=ot,w=C):O=O.next=ot,$t.lanes|=Z,qr|=Z;ot=K.action,Aa&&u(C,ot),C=K.hasEagerState?K.eagerState:u(C,ot)}else Z={lane:ot,revertLane:K.revertLane,gesture:K.gesture,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},O===null?(M=O=Z,w=C):O=O.next=Z,$t.lanes|=ot,qr|=ot;K=K.next}while(K!==null&&K!==o);if(O===null?w=C:O.next=M,!On(C,r.memoizedState)&&(Ie=!0,it&&(u=Co,u!==null)))throw u;r.memoizedState=C,r.baseState=w,r.baseQueue=O,p.lastRenderedState=C}return _===null&&(p.lanes=0),[r.memoizedState,p.dispatch]}function Qd(r){var o=ke(),u=o.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=r;var p=u.dispatch,_=u.pending,C=o.memoizedState;if(_!==null){u.pending=null;var w=_=_.next;do C=r(C,w.action),w=w.next;while(w!==_);On(C,o.memoizedState)||(Ie=!0),o.memoizedState=C,o.baseQueue===null&&(o.baseState=C),u.lastRenderedState=C}return[C,p]}function vv(r,o,u){var p=$t,_=ke(),C=Jt;if(C){if(u===void 0)throw Error(i(407));u=u()}else u=o();var w=!On((he||_).memoizedState,u);if(w&&(_.memoizedState=u,Ie=!0),_=_.queue,tp(Cv.bind(null,p,_,r),[r]),_.getSnapshot!==o||w||De!==null&&De.memoizedState.tag&1){if(p.flags|=2048,Ao(9,{destroy:void 0},xv.bind(null,p,_,u,o),null),ge===null)throw Error(i(349));C||(ir&127)!==0||_v(p,o,u)}return u}function _v(r,o,u){r.flags|=16384,r={getSnapshot:o,value:u},o=$t.updateQueue,o===null?(o=ou(),$t.updateQueue=o,o.stores=[r]):(u=o.stores,u===null?o.stores=[r]:u.push(r))}function xv(r,o,u,p){o.value=u,o.getSnapshot=p,Sv(o)&&bv(r)}function Cv(r,o,u){return u(function(){Sv(o)&&bv(r)})}function Sv(r){var o=r.getSnapshot;r=r.value;try{var u=o();return!On(r,u)}catch{return!0}}function bv(r){var o=va(r,2);o!==null&&Rn(o,r,2)}function Zd(r){var o=pn();if(typeof r=="function"){var u=r;if(r=u(),Aa){Ve(!0);try{u()}finally{Ve(!1)}}}return o.memoizedState=o.baseState=r,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:rr,lastRenderedState:r},o}function Tv(r,o,u,p){return r.baseState=u,Kd(r,he,typeof p=="function"?p:rr)}function FR(r,o,u,p,_){if(hu(r))throw Error(i(485));if(r=o.action,r!==null){var C={payload:_,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(w){C.listeners.push(w)}};D.T!==null?u(!0):C.isTransition=!1,p(C),u=o.pending,u===null?(C.next=o.pending=C,Ev(o,C)):(C.next=u.next,o.pending=u.next=C)}}function Ev(r,o){var u=o.action,p=o.payload,_=r.state;if(o.isTransition){var C=D.T,w={};D.T=w;try{var M=u(_,p),O=D.S;O!==null&&O(w,M),wv(r,o,M)}catch(K){jd(r,o,K)}finally{C!==null&&w.types!==null&&(C.types=w.types),D.T=C}}else try{C=u(_,p),wv(r,o,C)}catch(K){jd(r,o,K)}}function wv(r,o,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(p){Av(r,o,p)},function(p){return jd(r,o,p)}):Av(r,o,u)}function Av(r,o,u){o.status="fulfilled",o.value=u,kv(o),r.state=u,o=r.pending,o!==null&&(u=o.next,u===o?r.pending=null:(u=u.next,o.next=u,Ev(r,u)))}function jd(r,o,u){var p=r.pending;if(r.pending=null,p!==null){p=p.next;do o.status="rejected",o.reason=u,kv(o),o=o.next;while(o!==p)}r.action=null}function kv(r){r=r.listeners;for(var o=0;o<r.length;o++)(0,r[o])()}function Mv(r,o){return o}function Rv(r,o){if(Jt){var u=ge.formState;if(u!==null){t:{var p=$t;if(Jt){if(ye){e:{for(var _=ye,C=ei;_.nodeType!==8;){if(!C){_=null;break e}if(_=ii(_.nextSibling),_===null){_=null;break e}}C=_.data,_=C==="F!"||C==="F"?_:null}if(_){ye=ii(_.nextSibling),p=_.data==="F!";break t}}Dr(p)}p=!1}p&&(o=u[0])}}return u=pn(),u.memoizedState=u.baseState=o,p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mv,lastRenderedState:o},u.queue=p,u=Jv.bind(null,$t,p),p.dispatch=u,p=Zd(!1),C=ap.bind(null,$t,!1,p.queue),p=pn(),_={state:o,dispatch:null,action:r,pending:null},p.queue=_,u=FR.bind(null,$t,_,C,u),_.dispatch=u,p.memoizedState=r,[o,u,!1]}function Nv(r){var o=ke();return Lv(o,he,r)}function Lv(r,o,u){if(o=Kd(r,o,Mv)[0],r=lu(rr)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var p=il(o)}catch(w){throw w===So?Zc:w}else p=o;o=ke();var _=o.queue,C=_.dispatch;return u!==o.memoizedState&&($t.flags|=2048,Ao(9,{destroy:void 0},OR.bind(null,_,u),null)),[p,C,r]}function OR(r,o){r.action=o}function Dv(r){var o=ke(),u=he;if(u!==null)return Lv(o,u,r);ke(),o=o.memoizedState,u=ke();var p=u.queue.dispatch;return u.memoizedState=r,[o,p,!1]}function Ao(r,o,u,p){return r={tag:r,create:u,deps:p,inst:o,next:null},o=$t.updateQueue,o===null&&(o=ou(),$t.updateQueue=o),u=o.lastEffect,u===null?o.lastEffect=r.next=r:(p=u.next,u.next=r,r.next=p,o.lastEffect=r),r}function Iv(){return ke().memoizedState}function cu(r,o,u,p){var _=pn();$t.flags|=r,_.memoizedState=Ao(1|o,{destroy:void 0},u,p===void 0?null:p)}function uu(r,o,u,p){var _=ke();p=p===void 0?null:p;var C=_.memoizedState.inst;he!==null&&p!==null&&Gd(p,he.memoizedState.deps)?_.memoizedState=Ao(o,C,u,p):($t.flags|=r,_.memoizedState=Ao(1|o,C,u,p))}function Bv(r,o){cu(8390656,8,r,o)}function tp(r,o){uu(2048,8,r,o)}function PR(r){$t.flags|=4;var o=$t.updateQueue;if(o===null)o=ou(),$t.updateQueue=o,o.events=[r];else{var u=o.events;u===null?o.events=[r]:u.push(r)}}function Fv(r){var o=ke().memoizedState;return PR({ref:o,nextImpl:r}),function(){if((ie&2)!==0)throw Error(i(440));return o.impl.apply(void 0,arguments)}}function Ov(r,o){return uu(4,2,r,o)}function Pv(r,o){return uu(4,4,r,o)}function Uv(r,o){if(typeof o=="function"){r=r();var u=o(r);return function(){typeof u=="function"?u():o(null)}}if(o!=null)return r=r(),o.current=r,function(){o.current=null}}function $v(r,o,u){u=u!=null?u.concat([r]):null,uu(4,4,Uv.bind(null,o,r),u)}function ep(){}function zv(r,o){var u=ke();o=o===void 0?null:o;var p=u.memoizedState;return o!==null&&Gd(o,p[1])?p[0]:(u.memoizedState=[r,o],r)}function qv(r,o){var u=ke();o=o===void 0?null:o;var p=u.memoizedState;if(o!==null&&Gd(o,p[1]))return p[0];if(p=r(),Aa){Ve(!0);try{r()}finally{Ve(!1)}}return u.memoizedState=[p,o],p}function np(r,o,u){return u===void 0||(ir&1073741824)!==0&&(Wt&261930)===0?r.memoizedState=o:(r.memoizedState=u,r=H_(),$t.lanes|=r,qr|=r,u)}function Hv(r,o,u,p){return On(u,o)?u:To.current!==null?(r=np(r,u,p),On(r,o)||(Ie=!0),r):(ir&42)===0||(ir&1073741824)!==0&&(Wt&261930)===0?(Ie=!0,r.memoizedState=u):(r=H_(),$t.lanes|=r,qr|=r,o)}function Gv(r,o,u,p,_){var C=P.p;P.p=C!==0&&8>C?C:8;var w=D.T,M={};D.T=M,ap(r,!1,o,u);try{var O=_(),K=D.S;if(K!==null&&K(M,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var it=DR(O,p);rl(r,o,it,Hn(r))}else rl(r,o,p,Hn(r))}catch(ot){rl(r,o,{then:function(){},status:"rejected",reason:ot},Hn())}finally{P.p=C,w!==null&&M.types!==null&&(w.types=M.types),D.T=w}}function UR(){}function ip(r,o,u,p){if(r.tag!==5)throw Error(i(476));var _=Vv(r).queue;Gv(r,_,o,z,u===null?UR:function(){return Yv(r),u(p)})}function Vv(r){var o=r.memoizedState;if(o!==null)return o;o={memoizedState:z,baseState:z,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:rr,lastRenderedState:z},next:null};var u={};return o.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:rr,lastRenderedState:u},next:null},r.memoizedState=o,r=r.alternate,r!==null&&(r.memoizedState=o),o}function Yv(r){var o=Vv(r);o.next===null&&(o=r.alternate.memoizedState),rl(r,o.next.queue,{},Hn())}function rp(){return Qe(Cl)}function Wv(){return ke().memoizedState}function Xv(){return ke().memoizedState}function $R(r){for(var o=r.return;o!==null;){switch(o.tag){case 24:case 3:var u=Hn();r=Fr(u);var p=Or(o,r,u);p!==null&&(Rn(p,o,u),js(p,o,u)),o={cache:Dd()},r.payload=o;return}o=o.return}}function zR(r,o,u){var p=Hn();u={lane:p,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},hu(r)?Kv(o,u):(u=Sd(r,o,u,p),u!==null&&(Rn(u,r,p),Qv(u,o,p)))}function Jv(r,o,u){var p=Hn();rl(r,o,u,p)}function rl(r,o,u,p){var _={lane:p,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null};if(hu(r))Kv(o,_);else{var C=r.alternate;if(r.lanes===0&&(C===null||C.lanes===0)&&(C=o.lastRenderedReducer,C!==null))try{var w=o.lastRenderedState,M=C(w,u);if(_.hasEagerState=!0,_.eagerState=M,On(M,w))return Vc(r,o,_,0),ge===null&&Gc(),!1}catch{}finally{}if(u=Sd(r,o,_,p),u!==null)return Rn(u,r,p),Qv(u,o,p),!0}return!1}function ap(r,o,u,p){if(p={lane:2,revertLane:Op(),gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null},hu(r)){if(o)throw Error(i(479))}else o=Sd(r,u,p,2),o!==null&&Rn(o,r,2)}function hu(r){var o=r.alternate;return r===$t||o!==null&&o===$t}function Kv(r,o){Eo=ru=!0;var u=r.pending;u===null?o.next=o:(o.next=u.next,u.next=o),r.pending=o}function Qv(r,o,u){if((u&4194048)!==0){var p=o.lanes;p&=r.pendingLanes,u|=p,o.lanes=u,Ds(r,u)}}var al={readContext:Qe,use:su,useCallback:Te,useContext:Te,useEffect:Te,useImperativeHandle:Te,useLayoutEffect:Te,useInsertionEffect:Te,useMemo:Te,useReducer:Te,useRef:Te,useState:Te,useDebugValue:Te,useDeferredValue:Te,useTransition:Te,useSyncExternalStore:Te,useId:Te,useHostTransitionStatus:Te,useFormState:Te,useActionState:Te,useOptimistic:Te,useMemoCache:Te,useCacheRefresh:Te};al.useEffectEvent=Te;var Zv={readContext:Qe,use:su,useCallback:function(r,o){return pn().memoizedState=[r,o===void 0?null:o],r},useContext:Qe,useEffect:Bv,useImperativeHandle:function(r,o,u){u=u!=null?u.concat([r]):null,cu(4194308,4,Uv.bind(null,o,r),u)},useLayoutEffect:function(r,o){return cu(4194308,4,r,o)},useInsertionEffect:function(r,o){cu(4,2,r,o)},useMemo:function(r,o){var u=pn();o=o===void 0?null:o;var p=r();if(Aa){Ve(!0);try{r()}finally{Ve(!1)}}return u.memoizedState=[p,o],p},useReducer:function(r,o,u){var p=pn();if(u!==void 0){var _=u(o);if(Aa){Ve(!0);try{u(o)}finally{Ve(!1)}}}else _=o;return p.memoizedState=p.baseState=_,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:_},p.queue=r,r=r.dispatch=zR.bind(null,$t,r),[p.memoizedState,r]},useRef:function(r){var o=pn();return r={current:r},o.memoizedState=r},useState:function(r){r=Zd(r);var o=r.queue,u=Jv.bind(null,$t,o);return o.dispatch=u,[r.memoizedState,u]},useDebugValue:ep,useDeferredValue:function(r,o){var u=pn();return np(u,r,o)},useTransition:function(){var r=Zd(!1);return r=Gv.bind(null,$t,r.queue,!0,!1),pn().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,o,u){var p=$t,_=pn();if(Jt){if(u===void 0)throw Error(i(407));u=u()}else{if(u=o(),ge===null)throw Error(i(349));(Wt&127)!==0||_v(p,o,u)}_.memoizedState=u;var C={value:u,getSnapshot:o};return _.queue=C,Bv(Cv.bind(null,p,C,r),[r]),p.flags|=2048,Ao(9,{destroy:void 0},xv.bind(null,p,C,u,o),null),u},useId:function(){var r=pn(),o=ge.identifierPrefix;if(Jt){var u=Ni,p=Ri;u=(p&~(1<<32-Re(p)-1)).toString(32)+u,o="_"+o+"R_"+u,u=au++,0<u&&(o+="H"+u.toString(32)),o+="_"}else u=IR++,o="_"+o+"r_"+u.toString(32)+"_";return r.memoizedState=o},useHostTransitionStatus:rp,useFormState:Rv,useActionState:Rv,useOptimistic:function(r){var o=pn();o.memoizedState=o.baseState=r;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=u,o=ap.bind(null,$t,!0,u),u.dispatch=o,[r,o]},useMemoCache:Jd,useCacheRefresh:function(){return pn().memoizedState=$R.bind(null,$t)},useEffectEvent:function(r){var o=pn(),u={impl:r};return o.memoizedState=u,function(){if((ie&2)!==0)throw Error(i(440));return u.impl.apply(void 0,arguments)}}},op={readContext:Qe,use:su,useCallback:zv,useContext:Qe,useEffect:tp,useImperativeHandle:$v,useInsertionEffect:Ov,useLayoutEffect:Pv,useMemo:qv,useReducer:lu,useRef:Iv,useState:function(){return lu(rr)},useDebugValue:ep,useDeferredValue:function(r,o){var u=ke();return Hv(u,he.memoizedState,r,o)},useTransition:function(){var r=lu(rr)[0],o=ke().memoizedState;return[typeof r=="boolean"?r:il(r),o]},useSyncExternalStore:vv,useId:Wv,useHostTransitionStatus:rp,useFormState:Nv,useActionState:Nv,useOptimistic:function(r,o){var u=ke();return Tv(u,he,r,o)},useMemoCache:Jd,useCacheRefresh:Xv};op.useEffectEvent=Fv;var jv={readContext:Qe,use:su,useCallback:zv,useContext:Qe,useEffect:tp,useImperativeHandle:$v,useInsertionEffect:Ov,useLayoutEffect:Pv,useMemo:qv,useReducer:Qd,useRef:Iv,useState:function(){return Qd(rr)},useDebugValue:ep,useDeferredValue:function(r,o){var u=ke();return he===null?np(u,r,o):Hv(u,he.memoizedState,r,o)},useTransition:function(){var r=Qd(rr)[0],o=ke().memoizedState;return[typeof r=="boolean"?r:il(r),o]},useSyncExternalStore:vv,useId:Wv,useHostTransitionStatus:rp,useFormState:Dv,useActionState:Dv,useOptimistic:function(r,o){var u=ke();return he!==null?Tv(u,he,r,o):(u.baseState=r,[r,u.queue.dispatch])},useMemoCache:Jd,useCacheRefresh:Xv};jv.useEffectEvent=Fv;function sp(r,o,u,p){o=r.memoizedState,u=u(p,o),u=u==null?o:m({},o,u),r.memoizedState=u,r.lanes===0&&(r.updateQueue.baseState=u)}var lp={enqueueSetState:function(r,o,u){r=r._reactInternals;var p=Hn(),_=Fr(p);_.payload=o,u!=null&&(_.callback=u),o=Or(r,_,p),o!==null&&(Rn(o,r,p),js(o,r,p))},enqueueReplaceState:function(r,o,u){r=r._reactInternals;var p=Hn(),_=Fr(p);_.tag=1,_.payload=o,u!=null&&(_.callback=u),o=Or(r,_,p),o!==null&&(Rn(o,r,p),js(o,r,p))},enqueueForceUpdate:function(r,o){r=r._reactInternals;var u=Hn(),p=Fr(u);p.tag=2,o!=null&&(p.callback=o),o=Or(r,p,u),o!==null&&(Rn(o,r,u),js(o,r,u))}};function t_(r,o,u,p,_,C,w){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(p,C,w):o.prototype&&o.prototype.isPureReactComponent?!Vs(u,p)||!Vs(_,C):!0}function e_(r,o,u,p){r=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,p),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,p),o.state!==r&&lp.enqueueReplaceState(o,o.state,null)}function ka(r,o){var u=o;if("ref"in o){u={};for(var p in o)p!=="ref"&&(u[p]=o[p])}if(r=r.defaultProps){u===o&&(u=m({},u));for(var _ in r)u[_]===void 0&&(u[_]=r[_])}return u}function n_(r){Hc(r)}function i_(r){console.error(r)}function r_(r){Hc(r)}function fu(r,o){try{var u=r.onUncaughtError;u(o.value,{componentStack:o.stack})}catch(p){setTimeout(function(){throw p})}}function a_(r,o,u){try{var p=r.onCaughtError;p(u.value,{componentStack:u.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(_){setTimeout(function(){throw _})}}function cp(r,o,u){return u=Fr(u),u.tag=3,u.payload={element:null},u.callback=function(){fu(r,o)},u}function o_(r){return r=Fr(r),r.tag=3,r}function s_(r,o,u,p){var _=u.type.getDerivedStateFromError;if(typeof _=="function"){var C=p.value;r.payload=function(){return _(C)},r.callback=function(){a_(o,u,p)}}var w=u.stateNode;w!==null&&typeof w.componentDidCatch=="function"&&(r.callback=function(){a_(o,u,p),typeof _!="function"&&(Hr===null?Hr=new Set([this]):Hr.add(this));var M=p.stack;this.componentDidCatch(p.value,{componentStack:M!==null?M:""})})}function qR(r,o,u,p,_){if(u.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){if(o=u.alternate,o!==null&&_o(o,u,_,!0),u=Un.current,u!==null){switch(u.tag){case 31:case 13:return ni===null?Tu():u.alternate===null&&Ee===0&&(Ee=3),u.flags&=-257,u.flags|=65536,u.lanes=_,p===jc?u.flags|=16384:(o=u.updateQueue,o===null?u.updateQueue=new Set([p]):o.add(p),Ip(r,p,_)),!1;case 22:return u.flags|=65536,p===jc?u.flags|=16384:(o=u.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([p])},u.updateQueue=o):(u=o.retryQueue,u===null?o.retryQueue=new Set([p]):u.add(p)),Ip(r,p,_)),!1}throw Error(i(435,u.tag))}return Ip(r,p,_),Tu(),!1}if(Jt)return o=Un.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=_,p!==kd&&(r=Error(i(422),{cause:p}),Xs(Zn(r,u)))):(p!==kd&&(o=Error(i(423),{cause:p}),Xs(Zn(o,u))),r=r.current.alternate,r.flags|=65536,_&=-_,r.lanes|=_,p=Zn(p,u),_=cp(r.stateNode,p,_),Ud(r,_),Ee!==4&&(Ee=2)),!1;var C=Error(i(520),{cause:p});if(C=Zn(C,u),dl===null?dl=[C]:dl.push(C),Ee!==4&&(Ee=2),o===null)return!0;p=Zn(p,u),u=o;do{switch(u.tag){case 3:return u.flags|=65536,r=_&-_,u.lanes|=r,r=cp(u.stateNode,p,r),Ud(u,r),!1;case 1:if(o=u.type,C=u.stateNode,(u.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(Hr===null||!Hr.has(C))))return u.flags|=65536,_&=-_,u.lanes|=_,_=o_(_),s_(_,r,u,p),Ud(u,_),!1}u=u.return}while(u!==null);return!1}var up=Error(i(461)),Ie=!1;function Ze(r,o,u,p){o.child=r===null?hv(o,null,u,p):wa(o,r.child,u,p)}function l_(r,o,u,p,_){u=u.render;var C=o.ref;if("ref"in p){var w={};for(var M in p)M!=="ref"&&(w[M]=p[M])}else w=p;return Sa(o),p=Vd(r,o,u,w,C,_),M=Yd(),r!==null&&!Ie?(Wd(r,o,_),ar(r,o,_)):(Jt&&M&&wd(o),o.flags|=1,Ze(r,o,p,_),o.child)}function c_(r,o,u,p,_){if(r===null){var C=u.type;return typeof C=="function"&&!bd(C)&&C.defaultProps===void 0&&u.compare===null?(o.tag=15,o.type=C,u_(r,o,C,p,_)):(r=Wc(u.type,null,p,o,o.mode,_),r.ref=o.ref,r.return=o,o.child=r)}if(C=r.child,!vp(r,_)){var w=C.memoizedProps;if(u=u.compare,u=u!==null?u:Vs,u(w,p)&&r.ref===o.ref)return ar(r,o,_)}return o.flags|=1,r=ji(C,p),r.ref=o.ref,r.return=o,o.child=r}function u_(r,o,u,p,_){if(r!==null){var C=r.memoizedProps;if(Vs(C,p)&&r.ref===o.ref)if(Ie=!1,o.pendingProps=p=C,vp(r,_))(r.flags&131072)!==0&&(Ie=!0);else return o.lanes=r.lanes,ar(r,o,_)}return hp(r,o,u,p,_)}function h_(r,o,u,p){var _=p.children,C=r!==null?r.memoizedState:null;if(r===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),p.mode==="hidden"){if((o.flags&128)!==0){if(C=C!==null?C.baseLanes|u:u,r!==null){for(p=o.child=r.child,_=0;p!==null;)_=_|p.lanes|p.childLanes,p=p.sibling;p=_&~C}else p=0,o.child=null;return f_(r,o,C,u,p)}if((u&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},r!==null&&Qc(o,C!==null?C.cachePool:null),C!==null?pv(o,C):zd(),gv(o);else return p=o.lanes=536870912,f_(r,o,C!==null?C.baseLanes|u:u,u,p)}else C!==null?(Qc(o,C.cachePool),pv(o,C),Ur(),o.memoizedState=null):(r!==null&&Qc(o,null),zd(),Ur());return Ze(r,o,_,u),o.child}function ol(r,o){return r!==null&&r.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function f_(r,o,u,p,_){var C=Bd();return C=C===null?null:{parent:Le._currentValue,pool:C},o.memoizedState={baseLanes:u,cachePool:C},r!==null&&Qc(o,null),zd(),gv(o),r!==null&&_o(r,o,p,!0),o.childLanes=_,null}function du(r,o){return o=gu({mode:o.mode,children:o.children},r.mode),o.ref=r.ref,r.child=o,o.return=r,o}function d_(r,o,u){return wa(o,r.child,null,u),r=du(o,o.pendingProps),r.flags|=2,$n(o),o.memoizedState=null,r}function HR(r,o,u){var p=o.pendingProps,_=(o.flags&128)!==0;if(o.flags&=-129,r===null){if(Jt){if(p.mode==="hidden")return r=du(o,p),o.lanes=536870912,ol(null,r);if(Hd(o),(r=ye)?(r=Ex(r,ei),r=r!==null&&r.data==="&"?r:null,r!==null&&(o.memoizedState={dehydrated:r,treeContext:Nr!==null?{id:Ri,overflow:Ni}:null,retryLane:536870912,hydrationErrors:null},u=K0(r),u.return=o,o.child=u,Ke=o,ye=null)):r=null,r===null)throw Dr(o);return o.lanes=536870912,null}return du(o,p)}var C=r.memoizedState;if(C!==null){var w=C.dehydrated;if(Hd(o),_)if(o.flags&256)o.flags&=-257,o=d_(r,o,u);else if(o.memoizedState!==null)o.child=r.child,o.flags|=128,o=null;else throw Error(i(558));else if(Ie||_o(r,o,u,!1),_=(u&r.childLanes)!==0,Ie||_){if(p=ge,p!==null&&(w=Mc(p,u),w!==0&&w!==C.retryLane))throw C.retryLane=w,va(r,w),Rn(p,r,w),up;Tu(),o=d_(r,o,u)}else r=C.treeContext,ye=ii(w.nextSibling),Ke=o,Jt=!0,Lr=null,ei=!1,r!==null&&j0(o,r),o=du(o,p),o.flags|=4096;return o}return r=ji(r.child,{mode:p.mode,children:p.children}),r.ref=o.ref,o.child=r,r.return=o,r}function pu(r,o){var u=o.ref;if(u===null)r!==null&&r.ref!==null&&(o.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(i(284));(r===null||r.ref!==u)&&(o.flags|=4194816)}}function hp(r,o,u,p,_){return Sa(o),u=Vd(r,o,u,p,void 0,_),p=Yd(),r!==null&&!Ie?(Wd(r,o,_),ar(r,o,_)):(Jt&&p&&wd(o),o.flags|=1,Ze(r,o,u,_),o.child)}function p_(r,o,u,p,_,C){return Sa(o),o.updateQueue=null,u=yv(o,p,u,_),mv(r),p=Yd(),r!==null&&!Ie?(Wd(r,o,C),ar(r,o,C)):(Jt&&p&&wd(o),o.flags|=1,Ze(r,o,u,C),o.child)}function g_(r,o,u,p,_){if(Sa(o),o.stateNode===null){var C=go,w=u.contextType;typeof w=="object"&&w!==null&&(C=Qe(w)),C=new u(p,C),o.memoizedState=C.state!==null&&C.state!==void 0?C.state:null,C.updater=lp,o.stateNode=C,C._reactInternals=o,C=o.stateNode,C.props=p,C.state=o.memoizedState,C.refs={},Od(o),w=u.contextType,C.context=typeof w=="object"&&w!==null?Qe(w):go,C.state=o.memoizedState,w=u.getDerivedStateFromProps,typeof w=="function"&&(sp(o,u,w,p),C.state=o.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof C.getSnapshotBeforeUpdate=="function"||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(w=C.state,typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount(),w!==C.state&&lp.enqueueReplaceState(C,C.state,null),el(o,p,C,_),tl(),C.state=o.memoizedState),typeof C.componentDidMount=="function"&&(o.flags|=4194308),p=!0}else if(r===null){C=o.stateNode;var M=o.memoizedProps,O=ka(u,M);C.props=O;var K=C.context,it=u.contextType;w=go,typeof it=="object"&&it!==null&&(w=Qe(it));var ot=u.getDerivedStateFromProps;it=typeof ot=="function"||typeof C.getSnapshotBeforeUpdate=="function",M=o.pendingProps!==M,it||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(M||K!==w)&&e_(o,C,p,w),Br=!1;var Z=o.memoizedState;C.state=Z,el(o,p,C,_),tl(),K=o.memoizedState,M||Z!==K||Br?(typeof ot=="function"&&(sp(o,u,ot,p),K=o.memoizedState),(O=Br||t_(o,u,O,p,Z,K,w))?(it||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount()),typeof C.componentDidMount=="function"&&(o.flags|=4194308)):(typeof C.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=p,o.memoizedState=K),C.props=p,C.state=K,C.context=w,p=O):(typeof C.componentDidMount=="function"&&(o.flags|=4194308),p=!1)}else{C=o.stateNode,Pd(r,o),w=o.memoizedProps,it=ka(u,w),C.props=it,ot=o.pendingProps,Z=C.context,K=u.contextType,O=go,typeof K=="object"&&K!==null&&(O=Qe(K)),M=u.getDerivedStateFromProps,(K=typeof M=="function"||typeof C.getSnapshotBeforeUpdate=="function")||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(w!==ot||Z!==O)&&e_(o,C,p,O),Br=!1,Z=o.memoizedState,C.state=Z,el(o,p,C,_),tl();var tt=o.memoizedState;w!==ot||Z!==tt||Br||r!==null&&r.dependencies!==null&&Jc(r.dependencies)?(typeof M=="function"&&(sp(o,u,M,p),tt=o.memoizedState),(it=Br||t_(o,u,it,p,Z,tt,O)||r!==null&&r.dependencies!==null&&Jc(r.dependencies))?(K||typeof C.UNSAFE_componentWillUpdate!="function"&&typeof C.componentWillUpdate!="function"||(typeof C.componentWillUpdate=="function"&&C.componentWillUpdate(p,tt,O),typeof C.UNSAFE_componentWillUpdate=="function"&&C.UNSAFE_componentWillUpdate(p,tt,O)),typeof C.componentDidUpdate=="function"&&(o.flags|=4),typeof C.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof C.componentDidUpdate!="function"||w===r.memoizedProps&&Z===r.memoizedState||(o.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||w===r.memoizedProps&&Z===r.memoizedState||(o.flags|=1024),o.memoizedProps=p,o.memoizedState=tt),C.props=p,C.state=tt,C.context=O,p=it):(typeof C.componentDidUpdate!="function"||w===r.memoizedProps&&Z===r.memoizedState||(o.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||w===r.memoizedProps&&Z===r.memoizedState||(o.flags|=1024),p=!1)}return C=p,pu(r,o),p=(o.flags&128)!==0,C||p?(C=o.stateNode,u=p&&typeof u.getDerivedStateFromError!="function"?null:C.render(),o.flags|=1,r!==null&&p?(o.child=wa(o,r.child,null,_),o.child=wa(o,null,u,_)):Ze(r,o,u,_),o.memoizedState=C.state,r=o.child):r=ar(r,o,_),r}function m_(r,o,u,p){return xa(),o.flags|=256,Ze(r,o,u,p),o.child}var fp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function dp(r){return{baseLanes:r,cachePool:av()}}function pp(r,o,u){return r=r!==null?r.childLanes&~u:0,o&&(r|=qn),r}function y_(r,o,u){var p=o.pendingProps,_=!1,C=(o.flags&128)!==0,w;if((w=C)||(w=r!==null&&r.memoizedState===null?!1:(Ae.current&2)!==0),w&&(_=!0,o.flags&=-129),w=(o.flags&32)!==0,o.flags&=-33,r===null){if(Jt){if(_?Pr(o):Ur(),(r=ye)?(r=Ex(r,ei),r=r!==null&&r.data!=="&"?r:null,r!==null&&(o.memoizedState={dehydrated:r,treeContext:Nr!==null?{id:Ri,overflow:Ni}:null,retryLane:536870912,hydrationErrors:null},u=K0(r),u.return=o,o.child=u,Ke=o,ye=null)):r=null,r===null)throw Dr(o);return Kp(r)?o.lanes=32:o.lanes=536870912,null}var M=p.children;return p=p.fallback,_?(Ur(),_=o.mode,M=gu({mode:"hidden",children:M},_),p=_a(p,_,u,null),M.return=o,p.return=o,M.sibling=p,o.child=M,p=o.child,p.memoizedState=dp(u),p.childLanes=pp(r,w,u),o.memoizedState=fp,ol(null,p)):(Pr(o),gp(o,M))}var O=r.memoizedState;if(O!==null&&(M=O.dehydrated,M!==null)){if(C)o.flags&256?(Pr(o),o.flags&=-257,o=mp(r,o,u)):o.memoizedState!==null?(Ur(),o.child=r.child,o.flags|=128,o=null):(Ur(),M=p.fallback,_=o.mode,p=gu({mode:"visible",children:p.children},_),M=_a(M,_,u,null),M.flags|=2,p.return=o,M.return=o,p.sibling=M,o.child=p,wa(o,r.child,null,u),p=o.child,p.memoizedState=dp(u),p.childLanes=pp(r,w,u),o.memoizedState=fp,o=ol(null,p));else if(Pr(o),Kp(M)){if(w=M.nextSibling&&M.nextSibling.dataset,w)var K=w.dgst;w=K,p=Error(i(419)),p.stack="",p.digest=w,Xs({value:p,source:null,stack:null}),o=mp(r,o,u)}else if(Ie||_o(r,o,u,!1),w=(u&r.childLanes)!==0,Ie||w){if(w=ge,w!==null&&(p=Mc(w,u),p!==0&&p!==O.retryLane))throw O.retryLane=p,va(r,p),Rn(w,r,p),up;Jp(M)||Tu(),o=mp(r,o,u)}else Jp(M)?(o.flags|=192,o.child=r.child,o=null):(r=O.treeContext,ye=ii(M.nextSibling),Ke=o,Jt=!0,Lr=null,ei=!1,r!==null&&j0(o,r),o=gp(o,p.children),o.flags|=4096);return o}return _?(Ur(),M=p.fallback,_=o.mode,O=r.child,K=O.sibling,p=ji(O,{mode:"hidden",children:p.children}),p.subtreeFlags=O.subtreeFlags&65011712,K!==null?M=ji(K,M):(M=_a(M,_,u,null),M.flags|=2),M.return=o,p.return=o,p.sibling=M,o.child=p,ol(null,p),p=o.child,M=r.child.memoizedState,M===null?M=dp(u):(_=M.cachePool,_!==null?(O=Le._currentValue,_=_.parent!==O?{parent:O,pool:O}:_):_=av(),M={baseLanes:M.baseLanes|u,cachePool:_}),p.memoizedState=M,p.childLanes=pp(r,w,u),o.memoizedState=fp,ol(r.child,p)):(Pr(o),u=r.child,r=u.sibling,u=ji(u,{mode:"visible",children:p.children}),u.return=o,u.sibling=null,r!==null&&(w=o.deletions,w===null?(o.deletions=[r],o.flags|=16):w.push(r)),o.child=u,o.memoizedState=null,u)}function gp(r,o){return o=gu({mode:"visible",children:o},r.mode),o.return=r,r.child=o}function gu(r,o){return r=Pn(22,r,null,o),r.lanes=0,r}function mp(r,o,u){return wa(o,r.child,null,u),r=gp(o,o.pendingProps.children),r.flags|=2,o.memoizedState=null,r}function v_(r,o,u){r.lanes|=o;var p=r.alternate;p!==null&&(p.lanes|=o),Nd(r.return,o,u)}function yp(r,o,u,p,_,C){var w=r.memoizedState;w===null?r.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:p,tail:u,tailMode:_,treeForkCount:C}:(w.isBackwards=o,w.rendering=null,w.renderingStartTime=0,w.last=p,w.tail=u,w.tailMode=_,w.treeForkCount=C)}function __(r,o,u){var p=o.pendingProps,_=p.revealOrder,C=p.tail;p=p.children;var w=Ae.current,M=(w&2)!==0;if(M?(w=w&1|2,o.flags|=128):w&=1,at(Ae,w),Ze(r,o,p,u),p=Jt?Ws:0,!M&&r!==null&&(r.flags&128)!==0)t:for(r=o.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&v_(r,u,o);else if(r.tag===19)v_(r,u,o);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===o)break t;for(;r.sibling===null;){if(r.return===null||r.return===o)break t;r=r.return}r.sibling.return=r.return,r=r.sibling}switch(_){case"forwards":for(u=o.child,_=null;u!==null;)r=u.alternate,r!==null&&iu(r)===null&&(_=u),u=u.sibling;u=_,u===null?(_=o.child,o.child=null):(_=u.sibling,u.sibling=null),yp(o,!1,_,u,C,p);break;case"backwards":case"unstable_legacy-backwards":for(u=null,_=o.child,o.child=null;_!==null;){if(r=_.alternate,r!==null&&iu(r)===null){o.child=_;break}r=_.sibling,_.sibling=u,u=_,_=r}yp(o,!0,u,null,C,p);break;case"together":yp(o,!1,null,null,void 0,p);break;default:o.memoizedState=null}return o.child}function ar(r,o,u){if(r!==null&&(o.dependencies=r.dependencies),qr|=o.lanes,(u&o.childLanes)===0)if(r!==null){if(_o(r,o,u,!1),(u&o.childLanes)===0)return null}else return null;if(r!==null&&o.child!==r.child)throw Error(i(153));if(o.child!==null){for(r=o.child,u=ji(r,r.pendingProps),o.child=u,u.return=o;r.sibling!==null;)r=r.sibling,u=u.sibling=ji(r,r.pendingProps),u.return=o;u.sibling=null}return o.child}function vp(r,o){return(r.lanes&o)!==0?!0:(r=r.dependencies,!!(r!==null&&Jc(r)))}function GR(r,o,u){switch(o.tag){case 3:Ut(o,o.stateNode.containerInfo),Ir(o,Le,r.memoizedState.cache),xa();break;case 27:case 5:Zt(o);break;case 4:Ut(o,o.stateNode.containerInfo);break;case 10:Ir(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,Hd(o),null;break;case 13:var p=o.memoizedState;if(p!==null)return p.dehydrated!==null?(Pr(o),o.flags|=128,null):(u&o.child.childLanes)!==0?y_(r,o,u):(Pr(o),r=ar(r,o,u),r!==null?r.sibling:null);Pr(o);break;case 19:var _=(r.flags&128)!==0;if(p=(u&o.childLanes)!==0,p||(_o(r,o,u,!1),p=(u&o.childLanes)!==0),_){if(p)return __(r,o,u);o.flags|=128}if(_=o.memoizedState,_!==null&&(_.rendering=null,_.tail=null,_.lastEffect=null),at(Ae,Ae.current),p)break;return null;case 22:return o.lanes=0,h_(r,o,u,o.pendingProps);case 24:Ir(o,Le,r.memoizedState.cache)}return ar(r,o,u)}function x_(r,o,u){if(r!==null)if(r.memoizedProps!==o.pendingProps)Ie=!0;else{if(!vp(r,u)&&(o.flags&128)===0)return Ie=!1,GR(r,o,u);Ie=(r.flags&131072)!==0}else Ie=!1,Jt&&(o.flags&1048576)!==0&&Z0(o,Ws,o.index);switch(o.lanes=0,o.tag){case 16:t:{var p=o.pendingProps;if(r=Ta(o.elementType),o.type=r,typeof r=="function")bd(r)?(p=ka(r,p),o.tag=1,o=g_(null,o,r,p,u)):(o.tag=0,o=hp(null,o,r,p,u));else{if(r!=null){var _=r.$$typeof;if(_===I){o.tag=11,o=l_(null,o,r,p,u);break t}else if(_===N){o.tag=14,o=c_(null,o,r,p,u);break t}}throw o=W(r)||r,Error(i(306,o,""))}}return o;case 0:return hp(r,o,o.type,o.pendingProps,u);case 1:return p=o.type,_=ka(p,o.pendingProps),g_(r,o,p,_,u);case 3:t:{if(Ut(o,o.stateNode.containerInfo),r===null)throw Error(i(387));p=o.pendingProps;var C=o.memoizedState;_=C.element,Pd(r,o),el(o,p,null,u);var w=o.memoizedState;if(p=w.cache,Ir(o,Le,p),p!==C.cache&&Ld(o,[Le],u,!0),tl(),p=w.element,C.isDehydrated)if(C={element:p,isDehydrated:!1,cache:w.cache},o.updateQueue.baseState=C,o.memoizedState=C,o.flags&256){o=m_(r,o,p,u);break t}else if(p!==_){_=Zn(Error(i(424)),o),Xs(_),o=m_(r,o,p,u);break t}else{switch(r=o.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(ye=ii(r.firstChild),Ke=o,Jt=!0,Lr=null,ei=!0,u=hv(o,null,p,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(xa(),p===_){o=ar(r,o,u);break t}Ze(r,o,p,u)}o=o.child}return o;case 26:return pu(r,o),r===null?(u=Nx(o.type,null,o.pendingProps,null))?o.memoizedState=u:Jt||(u=o.type,r=o.pendingProps,p=Nu(pt.current).createElement(u),p[Ne]=o,p[xe]=r,je(p,u,r),qt(p),o.stateNode=p):o.memoizedState=Nx(o.type,r.memoizedProps,o.pendingProps,r.memoizedState),null;case 27:return Zt(o),r===null&&Jt&&(p=o.stateNode=kx(o.type,o.pendingProps,pt.current),Ke=o,ei=!0,_=ye,Wr(o.type)?(Qp=_,ye=ii(p.firstChild)):ye=_),Ze(r,o,o.pendingProps.children,u),pu(r,o),r===null&&(o.flags|=4194304),o.child;case 5:return r===null&&Jt&&((_=p=ye)&&(p=xN(p,o.type,o.pendingProps,ei),p!==null?(o.stateNode=p,Ke=o,ye=ii(p.firstChild),ei=!1,_=!0):_=!1),_||Dr(o)),Zt(o),_=o.type,C=o.pendingProps,w=r!==null?r.memoizedProps:null,p=C.children,Yp(_,C)?p=null:w!==null&&Yp(_,w)&&(o.flags|=32),o.memoizedState!==null&&(_=Vd(r,o,BR,null,null,u),Cl._currentValue=_),pu(r,o),Ze(r,o,p,u),o.child;case 6:return r===null&&Jt&&((r=u=ye)&&(u=CN(u,o.pendingProps,ei),u!==null?(o.stateNode=u,Ke=o,ye=null,r=!0):r=!1),r||Dr(o)),null;case 13:return y_(r,o,u);case 4:return Ut(o,o.stateNode.containerInfo),p=o.pendingProps,r===null?o.child=wa(o,null,p,u):Ze(r,o,p,u),o.child;case 11:return l_(r,o,o.type,o.pendingProps,u);case 7:return Ze(r,o,o.pendingProps,u),o.child;case 8:return Ze(r,o,o.pendingProps.children,u),o.child;case 12:return Ze(r,o,o.pendingProps.children,u),o.child;case 10:return p=o.pendingProps,Ir(o,o.type,p.value),Ze(r,o,p.children,u),o.child;case 9:return _=o.type._context,p=o.pendingProps.children,Sa(o),_=Qe(_),p=p(_),o.flags|=1,Ze(r,o,p,u),o.child;case 14:return c_(r,o,o.type,o.pendingProps,u);case 15:return u_(r,o,o.type,o.pendingProps,u);case 19:return __(r,o,u);case 31:return HR(r,o,u);case 22:return h_(r,o,u,o.pendingProps);case 24:return Sa(o),p=Qe(Le),r===null?(_=Bd(),_===null&&(_=ge,C=Dd(),_.pooledCache=C,C.refCount++,C!==null&&(_.pooledCacheLanes|=u),_=C),o.memoizedState={parent:p,cache:_},Od(o),Ir(o,Le,_)):((r.lanes&u)!==0&&(Pd(r,o),el(o,null,null,u),tl()),_=r.memoizedState,C=o.memoizedState,_.parent!==p?(_={parent:p,cache:p},o.memoizedState=_,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=_),Ir(o,Le,p)):(p=C.cache,Ir(o,Le,p),p!==_.cache&&Ld(o,[Le],u,!0))),Ze(r,o,o.pendingProps.children,u),o.child;case 29:throw o.pendingProps}throw Error(i(156,o.tag))}function or(r){r.flags|=4}function _p(r,o,u,p,_){if((o=(r.mode&32)!==0)&&(o=!1),o){if(r.flags|=16777216,(_&335544128)===_)if(r.stateNode.complete)r.flags|=8192;else if(W_())r.flags|=8192;else throw Ea=jc,Fd}else r.flags&=-16777217}function C_(r,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!Fx(o))if(W_())r.flags|=8192;else throw Ea=jc,Fd}function mu(r,o){o!==null&&(r.flags|=4),r.flags&16384&&(o=r.tag!==22?Xi():536870912,r.lanes|=o,No|=o)}function sl(r,o){if(!Jt)switch(r.tailMode){case"hidden":o=r.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?r.tail=null:u.sibling=null;break;case"collapsed":u=r.tail;for(var p=null;u!==null;)u.alternate!==null&&(p=u),u=u.sibling;p===null?o||r.tail===null?r.tail=null:r.tail.sibling=null:p.sibling=null}}function ve(r){var o=r.alternate!==null&&r.alternate.child===r.child,u=0,p=0;if(o)for(var _=r.child;_!==null;)u|=_.lanes|_.childLanes,p|=_.subtreeFlags&65011712,p|=_.flags&65011712,_.return=r,_=_.sibling;else for(_=r.child;_!==null;)u|=_.lanes|_.childLanes,p|=_.subtreeFlags,p|=_.flags,_.return=r,_=_.sibling;return r.subtreeFlags|=p,r.childLanes=u,o}function VR(r,o,u){var p=o.pendingProps;switch(Ad(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ve(o),null;case 1:return ve(o),null;case 3:return u=o.stateNode,p=null,r!==null&&(p=r.memoizedState.cache),o.memoizedState.cache!==p&&(o.flags|=2048),nr(Le),Ft(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(r===null||r.child===null)&&(vo(o)?or(o):r===null||r.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Md())),ve(o),null;case 26:var _=o.type,C=o.memoizedState;return r===null?(or(o),C!==null?(ve(o),C_(o,C)):(ve(o),_p(o,_,null,p,u))):C?C!==r.memoizedState?(or(o),ve(o),C_(o,C)):(ve(o),o.flags&=-16777217):(r=r.memoizedProps,r!==p&&or(o),ve(o),_p(o,_,r,p,u)),null;case 27:if(me(o),u=pt.current,_=o.type,r!==null&&o.stateNode!=null)r.memoizedProps!==p&&or(o);else{if(!p){if(o.stateNode===null)throw Error(i(166));return ve(o),null}r=ht.current,vo(o)?tv(o):(r=kx(_,p,u),o.stateNode=r,or(o))}return ve(o),null;case 5:if(me(o),_=o.type,r!==null&&o.stateNode!=null)r.memoizedProps!==p&&or(o);else{if(!p){if(o.stateNode===null)throw Error(i(166));return ve(o),null}if(C=ht.current,vo(o))tv(o);else{var w=Nu(pt.current);switch(C){case 1:C=w.createElementNS("http://www.w3.org/2000/svg",_);break;case 2:C=w.createElementNS("http://www.w3.org/1998/Math/MathML",_);break;default:switch(_){case"svg":C=w.createElementNS("http://www.w3.org/2000/svg",_);break;case"math":C=w.createElementNS("http://www.w3.org/1998/Math/MathML",_);break;case"script":C=w.createElement("div"),C.innerHTML="<script><\/script>",C=C.removeChild(C.firstChild);break;case"select":C=typeof p.is=="string"?w.createElement("select",{is:p.is}):w.createElement("select"),p.multiple?C.multiple=!0:p.size&&(C.size=p.size);break;default:C=typeof p.is=="string"?w.createElement(_,{is:p.is}):w.createElement(_)}}C[Ne]=o,C[xe]=p;t:for(w=o.child;w!==null;){if(w.tag===5||w.tag===6)C.appendChild(w.stateNode);else if(w.tag!==4&&w.tag!==27&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===o)break t;for(;w.sibling===null;){if(w.return===null||w.return===o)break t;w=w.return}w.sibling.return=w.return,w=w.sibling}o.stateNode=C;t:switch(je(C,_,p),_){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break t;case"img":p=!0;break t;default:p=!1}p&&or(o)}}return ve(o),_p(o,o.type,r===null?null:r.memoizedProps,o.pendingProps,u),null;case 6:if(r&&o.stateNode!=null)r.memoizedProps!==p&&or(o);else{if(typeof p!="string"&&o.stateNode===null)throw Error(i(166));if(r=pt.current,vo(o)){if(r=o.stateNode,u=o.memoizedProps,p=null,_=Ke,_!==null)switch(_.tag){case 27:case 5:p=_.memoizedProps}r[Ne]=o,r=!!(r.nodeValue===u||p!==null&&p.suppressHydrationWarning===!0||yx(r.nodeValue,u)),r||Dr(o,!0)}else r=Nu(r).createTextNode(p),r[Ne]=o,o.stateNode=r}return ve(o),null;case 31:if(u=o.memoizedState,r===null||r.memoizedState!==null){if(p=vo(o),u!==null){if(r===null){if(!p)throw Error(i(318));if(r=o.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(557));r[Ne]=o}else xa(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;ve(o),r=!1}else u=Md(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=u),r=!0;if(!r)return o.flags&256?($n(o),o):($n(o),null);if((o.flags&128)!==0)throw Error(i(558))}return ve(o),null;case 13:if(p=o.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(_=vo(o),p!==null&&p.dehydrated!==null){if(r===null){if(!_)throw Error(i(318));if(_=o.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(i(317));_[Ne]=o}else xa(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;ve(o),_=!1}else _=Md(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=_),_=!0;if(!_)return o.flags&256?($n(o),o):($n(o),null)}return $n(o),(o.flags&128)!==0?(o.lanes=u,o):(u=p!==null,r=r!==null&&r.memoizedState!==null,u&&(p=o.child,_=null,p.alternate!==null&&p.alternate.memoizedState!==null&&p.alternate.memoizedState.cachePool!==null&&(_=p.alternate.memoizedState.cachePool.pool),C=null,p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(C=p.memoizedState.cachePool.pool),C!==_&&(p.flags|=2048)),u!==r&&u&&(o.child.flags|=8192),mu(o,o.updateQueue),ve(o),null);case 4:return Ft(),r===null&&zp(o.stateNode.containerInfo),ve(o),null;case 10:return nr(o.type),ve(o),null;case 19:if(j(Ae),p=o.memoizedState,p===null)return ve(o),null;if(_=(o.flags&128)!==0,C=p.rendering,C===null)if(_)sl(p,!1);else{if(Ee!==0||r!==null&&(r.flags&128)!==0)for(r=o.child;r!==null;){if(C=iu(r),C!==null){for(o.flags|=128,sl(p,!1),r=C.updateQueue,o.updateQueue=r,mu(o,r),o.subtreeFlags=0,r=u,u=o.child;u!==null;)J0(u,r),u=u.sibling;return at(Ae,Ae.current&1|2),Jt&&tr(o,p.treeForkCount),o.child}r=r.sibling}p.tail!==null&&Xe()>Cu&&(o.flags|=128,_=!0,sl(p,!1),o.lanes=4194304)}else{if(!_)if(r=iu(C),r!==null){if(o.flags|=128,_=!0,r=r.updateQueue,o.updateQueue=r,mu(o,r),sl(p,!0),p.tail===null&&p.tailMode==="hidden"&&!C.alternate&&!Jt)return ve(o),null}else 2*Xe()-p.renderingStartTime>Cu&&u!==536870912&&(o.flags|=128,_=!0,sl(p,!1),o.lanes=4194304);p.isBackwards?(C.sibling=o.child,o.child=C):(r=p.last,r!==null?r.sibling=C:o.child=C,p.last=C)}return p.tail!==null?(r=p.tail,p.rendering=r,p.tail=r.sibling,p.renderingStartTime=Xe(),r.sibling=null,u=Ae.current,at(Ae,_?u&1|2:u&1),Jt&&tr(o,p.treeForkCount),r):(ve(o),null);case 22:case 23:return $n(o),qd(),p=o.memoizedState!==null,r!==null?r.memoizedState!==null!==p&&(o.flags|=8192):p&&(o.flags|=8192),p?(u&536870912)!==0&&(o.flags&128)===0&&(ve(o),o.subtreeFlags&6&&(o.flags|=8192)):ve(o),u=o.updateQueue,u!==null&&mu(o,u.retryQueue),u=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),p=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(p=o.memoizedState.cachePool.pool),p!==u&&(o.flags|=2048),r!==null&&j(ba),null;case 24:return u=null,r!==null&&(u=r.memoizedState.cache),o.memoizedState.cache!==u&&(o.flags|=2048),nr(Le),ve(o),null;case 25:return null;case 30:return null}throw Error(i(156,o.tag))}function YR(r,o){switch(Ad(o),o.tag){case 1:return r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 3:return nr(Le),Ft(),r=o.flags,(r&65536)!==0&&(r&128)===0?(o.flags=r&-65537|128,o):null;case 26:case 27:case 5:return me(o),null;case 31:if(o.memoizedState!==null){if($n(o),o.alternate===null)throw Error(i(340));xa()}return r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 13:if($n(o),r=o.memoizedState,r!==null&&r.dehydrated!==null){if(o.alternate===null)throw Error(i(340));xa()}return r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 19:return j(Ae),null;case 4:return Ft(),null;case 10:return nr(o.type),null;case 22:case 23:return $n(o),qd(),r!==null&&j(ba),r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 24:return nr(Le),null;case 25:return null;default:return null}}function S_(r,o){switch(Ad(o),o.tag){case 3:nr(Le),Ft();break;case 26:case 27:case 5:me(o);break;case 4:Ft();break;case 31:o.memoizedState!==null&&$n(o);break;case 13:$n(o);break;case 19:j(Ae);break;case 10:nr(o.type);break;case 22:case 23:$n(o),qd(),r!==null&&j(ba);break;case 24:nr(Le)}}function ll(r,o){try{var u=o.updateQueue,p=u!==null?u.lastEffect:null;if(p!==null){var _=p.next;u=_;do{if((u.tag&r)===r){p=void 0;var C=u.create,w=u.inst;p=C(),w.destroy=p}u=u.next}while(u!==_)}}catch(M){ue(o,o.return,M)}}function $r(r,o,u){try{var p=o.updateQueue,_=p!==null?p.lastEffect:null;if(_!==null){var C=_.next;p=C;do{if((p.tag&r)===r){var w=p.inst,M=w.destroy;if(M!==void 0){w.destroy=void 0,_=o;var O=u,K=M;try{K()}catch(it){ue(_,O,it)}}}p=p.next}while(p!==C)}}catch(it){ue(o,o.return,it)}}function b_(r){var o=r.updateQueue;if(o!==null){var u=r.stateNode;try{dv(o,u)}catch(p){ue(r,r.return,p)}}}function T_(r,o,u){u.props=ka(r.type,r.memoizedProps),u.state=r.memoizedState;try{u.componentWillUnmount()}catch(p){ue(r,o,p)}}function cl(r,o){try{var u=r.ref;if(u!==null){switch(r.tag){case 26:case 27:case 5:var p=r.stateNode;break;case 30:p=r.stateNode;break;default:p=r.stateNode}typeof u=="function"?r.refCleanup=u(p):u.current=p}}catch(_){ue(r,o,_)}}function Li(r,o){var u=r.ref,p=r.refCleanup;if(u!==null)if(typeof p=="function")try{p()}catch(_){ue(r,o,_)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(_){ue(r,o,_)}else u.current=null}function E_(r){var o=r.type,u=r.memoizedProps,p=r.stateNode;try{t:switch(o){case"button":case"input":case"select":case"textarea":u.autoFocus&&p.focus();break t;case"img":u.src?p.src=u.src:u.srcSet&&(p.srcset=u.srcSet)}}catch(_){ue(r,r.return,_)}}function xp(r,o,u){try{var p=r.stateNode;pN(p,r.type,u,o),p[xe]=o}catch(_){ue(r,r.return,_)}}function w_(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&Wr(r.type)||r.tag===4}function Cp(r){t:for(;;){for(;r.sibling===null;){if(r.return===null||w_(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&Wr(r.type)||r.flags&2||r.child===null||r.tag===4)continue t;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Sp(r,o,u){var p=r.tag;if(p===5||p===6)r=r.stateNode,o?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(r,o):(o=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,o.appendChild(r),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=Qi));else if(p!==4&&(p===27&&Wr(r.type)&&(u=r.stateNode,o=null),r=r.child,r!==null))for(Sp(r,o,u),r=r.sibling;r!==null;)Sp(r,o,u),r=r.sibling}function yu(r,o,u){var p=r.tag;if(p===5||p===6)r=r.stateNode,o?u.insertBefore(r,o):u.appendChild(r);else if(p!==4&&(p===27&&Wr(r.type)&&(u=r.stateNode),r=r.child,r!==null))for(yu(r,o,u),r=r.sibling;r!==null;)yu(r,o,u),r=r.sibling}function A_(r){var o=r.stateNode,u=r.memoizedProps;try{for(var p=r.type,_=o.attributes;_.length;)o.removeAttributeNode(_[0]);je(o,p,u),o[Ne]=r,o[xe]=u}catch(C){ue(r,r.return,C)}}var sr=!1,Be=!1,bp=!1,k_=typeof WeakSet=="function"?WeakSet:Set,Ye=null;function WR(r,o){if(r=r.containerInfo,Gp=Pu,r=$0(r),md(r)){if("selectionStart"in r)var u={start:r.selectionStart,end:r.selectionEnd};else t:{u=(u=r.ownerDocument)&&u.defaultView||window;var p=u.getSelection&&u.getSelection();if(p&&p.rangeCount!==0){u=p.anchorNode;var _=p.anchorOffset,C=p.focusNode;p=p.focusOffset;try{u.nodeType,C.nodeType}catch{u=null;break t}var w=0,M=-1,O=-1,K=0,it=0,ot=r,Z=null;e:for(;;){for(var tt;ot!==u||_!==0&&ot.nodeType!==3||(M=w+_),ot!==C||p!==0&&ot.nodeType!==3||(O=w+p),ot.nodeType===3&&(w+=ot.nodeValue.length),(tt=ot.firstChild)!==null;)Z=ot,ot=tt;for(;;){if(ot===r)break e;if(Z===u&&++K===_&&(M=w),Z===C&&++it===p&&(O=w),(tt=ot.nextSibling)!==null)break;ot=Z,Z=ot.parentNode}ot=tt}u=M===-1||O===-1?null:{start:M,end:O}}else u=null}u=u||{start:0,end:0}}else u=null;for(Vp={focusedElem:r,selectionRange:u},Pu=!1,Ye=o;Ye!==null;)if(o=Ye,r=o.child,(o.subtreeFlags&1028)!==0&&r!==null)r.return=o,Ye=r;else for(;Ye!==null;){switch(o=Ye,C=o.alternate,r=o.flags,o.tag){case 0:if((r&4)!==0&&(r=o.updateQueue,r=r!==null?r.events:null,r!==null))for(u=0;u<r.length;u++)_=r[u],_.ref.impl=_.nextImpl;break;case 11:case 15:break;case 1:if((r&1024)!==0&&C!==null){r=void 0,u=o,_=C.memoizedProps,C=C.memoizedState,p=u.stateNode;try{var xt=ka(u.type,_);r=p.getSnapshotBeforeUpdate(xt,C),p.__reactInternalSnapshotBeforeUpdate=r}catch(Lt){ue(u,u.return,Lt)}}break;case 3:if((r&1024)!==0){if(r=o.stateNode.containerInfo,u=r.nodeType,u===9)Xp(r);else if(u===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":Xp(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=o.sibling,r!==null){r.return=o.return,Ye=r;break}Ye=o.return}}function M_(r,o,u){var p=u.flags;switch(u.tag){case 0:case 11:case 15:cr(r,u),p&4&&ll(5,u);break;case 1:if(cr(r,u),p&4)if(r=u.stateNode,o===null)try{r.componentDidMount()}catch(w){ue(u,u.return,w)}else{var _=ka(u.type,o.memoizedProps);o=o.memoizedState;try{r.componentDidUpdate(_,o,r.__reactInternalSnapshotBeforeUpdate)}catch(w){ue(u,u.return,w)}}p&64&&b_(u),p&512&&cl(u,u.return);break;case 3:if(cr(r,u),p&64&&(r=u.updateQueue,r!==null)){if(o=null,u.child!==null)switch(u.child.tag){case 27:case 5:o=u.child.stateNode;break;case 1:o=u.child.stateNode}try{dv(r,o)}catch(w){ue(u,u.return,w)}}break;case 27:o===null&&p&4&&A_(u);case 26:case 5:cr(r,u),o===null&&p&4&&E_(u),p&512&&cl(u,u.return);break;case 12:cr(r,u);break;case 31:cr(r,u),p&4&&L_(r,u);break;case 13:cr(r,u),p&4&&D_(r,u),p&64&&(r=u.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(u=nN.bind(null,u),SN(r,u))));break;case 22:if(p=u.memoizedState!==null||sr,!p){o=o!==null&&o.memoizedState!==null||Be,_=sr;var C=Be;sr=p,(Be=o)&&!C?ur(r,u,(u.subtreeFlags&8772)!==0):cr(r,u),sr=_,Be=C}break;case 30:break;default:cr(r,u)}}function R_(r){var o=r.alternate;o!==null&&(r.alternate=null,R_(o)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(o=r.stateNode,o!==null&&U(o)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var Ce=null,wn=!1;function lr(r,o,u){for(u=u.child;u!==null;)N_(r,o,u),u=u.sibling}function N_(r,o,u){if(Ge&&typeof Ge.onCommitFiberUnmount=="function")try{Ge.onCommitFiberUnmount(ki,u)}catch{}switch(u.tag){case 26:Be||Li(u,o),lr(r,o,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:Be||Li(u,o);var p=Ce,_=wn;Wr(u.type)&&(Ce=u.stateNode,wn=!1),lr(r,o,u),vl(u.stateNode),Ce=p,wn=_;break;case 5:Be||Li(u,o);case 6:if(p=Ce,_=wn,Ce=null,lr(r,o,u),Ce=p,wn=_,Ce!==null)if(wn)try{(Ce.nodeType===9?Ce.body:Ce.nodeName==="HTML"?Ce.ownerDocument.body:Ce).removeChild(u.stateNode)}catch(C){ue(u,o,C)}else try{Ce.removeChild(u.stateNode)}catch(C){ue(u,o,C)}break;case 18:Ce!==null&&(wn?(r=Ce,bx(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,u.stateNode),Uo(r)):bx(Ce,u.stateNode));break;case 4:p=Ce,_=wn,Ce=u.stateNode.containerInfo,wn=!0,lr(r,o,u),Ce=p,wn=_;break;case 0:case 11:case 14:case 15:$r(2,u,o),Be||$r(4,u,o),lr(r,o,u);break;case 1:Be||(Li(u,o),p=u.stateNode,typeof p.componentWillUnmount=="function"&&T_(u,o,p)),lr(r,o,u);break;case 21:lr(r,o,u);break;case 22:Be=(p=Be)||u.memoizedState!==null,lr(r,o,u),Be=p;break;default:lr(r,o,u)}}function L_(r,o){if(o.memoizedState===null&&(r=o.alternate,r!==null&&(r=r.memoizedState,r!==null))){r=r.dehydrated;try{Uo(r)}catch(u){ue(o,o.return,u)}}}function D_(r,o){if(o.memoizedState===null&&(r=o.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{Uo(r)}catch(u){ue(o,o.return,u)}}function XR(r){switch(r.tag){case 31:case 13:case 19:var o=r.stateNode;return o===null&&(o=r.stateNode=new k_),o;case 22:return r=r.stateNode,o=r._retryCache,o===null&&(o=r._retryCache=new k_),o;default:throw Error(i(435,r.tag))}}function vu(r,o){var u=XR(r);o.forEach(function(p){if(!u.has(p)){u.add(p);var _=iN.bind(null,r,p);p.then(_,_)}})}function An(r,o){var u=o.deletions;if(u!==null)for(var p=0;p<u.length;p++){var _=u[p],C=r,w=o,M=w;t:for(;M!==null;){switch(M.tag){case 27:if(Wr(M.type)){Ce=M.stateNode,wn=!1;break t}break;case 5:Ce=M.stateNode,wn=!1;break t;case 3:case 4:Ce=M.stateNode.containerInfo,wn=!0;break t}M=M.return}if(Ce===null)throw Error(i(160));N_(C,w,_),Ce=null,wn=!1,C=_.alternate,C!==null&&(C.return=null),_.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)I_(o,r),o=o.sibling}var pi=null;function I_(r,o){var u=r.alternate,p=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:An(o,r),kn(r),p&4&&($r(3,r,r.return),ll(3,r),$r(5,r,r.return));break;case 1:An(o,r),kn(r),p&512&&(Be||u===null||Li(u,u.return)),p&64&&sr&&(r=r.updateQueue,r!==null&&(p=r.callbacks,p!==null&&(u=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=u===null?p:u.concat(p))));break;case 26:var _=pi;if(An(o,r),kn(r),p&512&&(Be||u===null||Li(u,u.return)),p&4){var C=u!==null?u.memoizedState:null;if(p=r.memoizedState,u===null)if(p===null)if(r.stateNode===null){t:{p=r.type,u=r.memoizedProps,_=_.ownerDocument||_;e:switch(p){case"title":C=_.getElementsByTagName("title")[0],(!C||C[wt]||C[Ne]||C.namespaceURI==="http://www.w3.org/2000/svg"||C.hasAttribute("itemprop"))&&(C=_.createElement(p),_.head.insertBefore(C,_.querySelector("head > title"))),je(C,p,u),C[Ne]=r,qt(C),p=C;break t;case"link":var w=Ix("link","href",_).get(p+(u.href||""));if(w){for(var M=0;M<w.length;M++)if(C=w[M],C.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&C.getAttribute("rel")===(u.rel==null?null:u.rel)&&C.getAttribute("title")===(u.title==null?null:u.title)&&C.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){w.splice(M,1);break e}}C=_.createElement(p),je(C,p,u),_.head.appendChild(C);break;case"meta":if(w=Ix("meta","content",_).get(p+(u.content||""))){for(M=0;M<w.length;M++)if(C=w[M],C.getAttribute("content")===(u.content==null?null:""+u.content)&&C.getAttribute("name")===(u.name==null?null:u.name)&&C.getAttribute("property")===(u.property==null?null:u.property)&&C.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&C.getAttribute("charset")===(u.charSet==null?null:u.charSet)){w.splice(M,1);break e}}C=_.createElement(p),je(C,p,u),_.head.appendChild(C);break;default:throw Error(i(468,p))}C[Ne]=r,qt(C),p=C}r.stateNode=p}else Bx(_,r.type,r.stateNode);else r.stateNode=Dx(_,p,r.memoizedProps);else C!==p?(C===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):C.count--,p===null?Bx(_,r.type,r.stateNode):Dx(_,p,r.memoizedProps)):p===null&&r.stateNode!==null&&xp(r,r.memoizedProps,u.memoizedProps)}break;case 27:An(o,r),kn(r),p&512&&(Be||u===null||Li(u,u.return)),u!==null&&p&4&&xp(r,r.memoizedProps,u.memoizedProps);break;case 5:if(An(o,r),kn(r),p&512&&(Be||u===null||Li(u,u.return)),r.flags&32){_=r.stateNode;try{so(_,"")}catch(xt){ue(r,r.return,xt)}}p&4&&r.stateNode!=null&&(_=r.memoizedProps,xp(r,_,u!==null?u.memoizedProps:_)),p&1024&&(bp=!0);break;case 6:if(An(o,r),kn(r),p&4){if(r.stateNode===null)throw Error(i(162));p=r.memoizedProps,u=r.stateNode;try{u.nodeValue=p}catch(xt){ue(r,r.return,xt)}}break;case 3:if(Iu=null,_=pi,pi=Lu(o.containerInfo),An(o,r),pi=_,kn(r),p&4&&u!==null&&u.memoizedState.isDehydrated)try{Uo(o.containerInfo)}catch(xt){ue(r,r.return,xt)}bp&&(bp=!1,B_(r));break;case 4:p=pi,pi=Lu(r.stateNode.containerInfo),An(o,r),kn(r),pi=p;break;case 12:An(o,r),kn(r);break;case 31:An(o,r),kn(r),p&4&&(p=r.updateQueue,p!==null&&(r.updateQueue=null,vu(r,p)));break;case 13:An(o,r),kn(r),r.child.flags&8192&&r.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(xu=Xe()),p&4&&(p=r.updateQueue,p!==null&&(r.updateQueue=null,vu(r,p)));break;case 22:_=r.memoizedState!==null;var O=u!==null&&u.memoizedState!==null,K=sr,it=Be;if(sr=K||_,Be=it||O,An(o,r),Be=it,sr=K,kn(r),p&8192)t:for(o=r.stateNode,o._visibility=_?o._visibility&-2:o._visibility|1,_&&(u===null||O||sr||Be||Ma(r)),u=null,o=r;;){if(o.tag===5||o.tag===26){if(u===null){O=u=o;try{if(C=O.stateNode,_)w=C.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none";else{M=O.stateNode;var ot=O.memoizedProps.style,Z=ot!=null&&ot.hasOwnProperty("display")?ot.display:null;M.style.display=Z==null||typeof Z=="boolean"?"":(""+Z).trim()}}catch(xt){ue(O,O.return,xt)}}}else if(o.tag===6){if(u===null){O=o;try{O.stateNode.nodeValue=_?"":O.memoizedProps}catch(xt){ue(O,O.return,xt)}}}else if(o.tag===18){if(u===null){O=o;try{var tt=O.stateNode;_?Tx(tt,!0):Tx(O.stateNode,!1)}catch(xt){ue(O,O.return,xt)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===r)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break t;for(;o.sibling===null;){if(o.return===null||o.return===r)break t;u===o&&(u=null),o=o.return}u===o&&(u=null),o.sibling.return=o.return,o=o.sibling}p&4&&(p=r.updateQueue,p!==null&&(u=p.retryQueue,u!==null&&(p.retryQueue=null,vu(r,u))));break;case 19:An(o,r),kn(r),p&4&&(p=r.updateQueue,p!==null&&(r.updateQueue=null,vu(r,p)));break;case 30:break;case 21:break;default:An(o,r),kn(r)}}function kn(r){var o=r.flags;if(o&2){try{for(var u,p=r.return;p!==null;){if(w_(p)){u=p;break}p=p.return}if(u==null)throw Error(i(160));switch(u.tag){case 27:var _=u.stateNode,C=Cp(r);yu(r,C,_);break;case 5:var w=u.stateNode;u.flags&32&&(so(w,""),u.flags&=-33);var M=Cp(r);yu(r,M,w);break;case 3:case 4:var O=u.stateNode.containerInfo,K=Cp(r);Sp(r,K,O);break;default:throw Error(i(161))}}catch(it){ue(r,r.return,it)}r.flags&=-3}o&4096&&(r.flags&=-4097)}function B_(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var o=r;B_(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),r=r.sibling}}function cr(r,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)M_(r,o.alternate,o),o=o.sibling}function Ma(r){for(r=r.child;r!==null;){var o=r;switch(o.tag){case 0:case 11:case 14:case 15:$r(4,o,o.return),Ma(o);break;case 1:Li(o,o.return);var u=o.stateNode;typeof u.componentWillUnmount=="function"&&T_(o,o.return,u),Ma(o);break;case 27:vl(o.stateNode);case 26:case 5:Li(o,o.return),Ma(o);break;case 22:o.memoizedState===null&&Ma(o);break;case 30:Ma(o);break;default:Ma(o)}r=r.sibling}}function ur(r,o,u){for(u=u&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var p=o.alternate,_=r,C=o,w=C.flags;switch(C.tag){case 0:case 11:case 15:ur(_,C,u),ll(4,C);break;case 1:if(ur(_,C,u),p=C,_=p.stateNode,typeof _.componentDidMount=="function")try{_.componentDidMount()}catch(K){ue(p,p.return,K)}if(p=C,_=p.updateQueue,_!==null){var M=p.stateNode;try{var O=_.shared.hiddenCallbacks;if(O!==null)for(_.shared.hiddenCallbacks=null,_=0;_<O.length;_++)fv(O[_],M)}catch(K){ue(p,p.return,K)}}u&&w&64&&b_(C),cl(C,C.return);break;case 27:A_(C);case 26:case 5:ur(_,C,u),u&&p===null&&w&4&&E_(C),cl(C,C.return);break;case 12:ur(_,C,u);break;case 31:ur(_,C,u),u&&w&4&&L_(_,C);break;case 13:ur(_,C,u),u&&w&4&&D_(_,C);break;case 22:C.memoizedState===null&&ur(_,C,u),cl(C,C.return);break;case 30:break;default:ur(_,C,u)}o=o.sibling}}function Tp(r,o){var u=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),r=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(r=o.memoizedState.cachePool.pool),r!==u&&(r!=null&&r.refCount++,u!=null&&Js(u))}function Ep(r,o){r=null,o.alternate!==null&&(r=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==r&&(o.refCount++,r!=null&&Js(r))}function gi(r,o,u,p){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)F_(r,o,u,p),o=o.sibling}function F_(r,o,u,p){var _=o.flags;switch(o.tag){case 0:case 11:case 15:gi(r,o,u,p),_&2048&&ll(9,o);break;case 1:gi(r,o,u,p);break;case 3:gi(r,o,u,p),_&2048&&(r=null,o.alternate!==null&&(r=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==r&&(o.refCount++,r!=null&&Js(r)));break;case 12:if(_&2048){gi(r,o,u,p),r=o.stateNode;try{var C=o.memoizedProps,w=C.id,M=C.onPostCommit;typeof M=="function"&&M(w,o.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(O){ue(o,o.return,O)}}else gi(r,o,u,p);break;case 31:gi(r,o,u,p);break;case 13:gi(r,o,u,p);break;case 23:break;case 22:C=o.stateNode,w=o.alternate,o.memoizedState!==null?C._visibility&2?gi(r,o,u,p):ul(r,o):C._visibility&2?gi(r,o,u,p):(C._visibility|=2,ko(r,o,u,p,(o.subtreeFlags&10256)!==0||!1)),_&2048&&Tp(w,o);break;case 24:gi(r,o,u,p),_&2048&&Ep(o.alternate,o);break;default:gi(r,o,u,p)}}function ko(r,o,u,p,_){for(_=_&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var C=r,w=o,M=u,O=p,K=w.flags;switch(w.tag){case 0:case 11:case 15:ko(C,w,M,O,_),ll(8,w);break;case 23:break;case 22:var it=w.stateNode;w.memoizedState!==null?it._visibility&2?ko(C,w,M,O,_):ul(C,w):(it._visibility|=2,ko(C,w,M,O,_)),_&&K&2048&&Tp(w.alternate,w);break;case 24:ko(C,w,M,O,_),_&&K&2048&&Ep(w.alternate,w);break;default:ko(C,w,M,O,_)}o=o.sibling}}function ul(r,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var u=r,p=o,_=p.flags;switch(p.tag){case 22:ul(u,p),_&2048&&Tp(p.alternate,p);break;case 24:ul(u,p),_&2048&&Ep(p.alternate,p);break;default:ul(u,p)}o=o.sibling}}var hl=8192;function Mo(r,o,u){if(r.subtreeFlags&hl)for(r=r.child;r!==null;)O_(r,o,u),r=r.sibling}function O_(r,o,u){switch(r.tag){case 26:Mo(r,o,u),r.flags&hl&&r.memoizedState!==null&&IN(u,pi,r.memoizedState,r.memoizedProps);break;case 5:Mo(r,o,u);break;case 3:case 4:var p=pi;pi=Lu(r.stateNode.containerInfo),Mo(r,o,u),pi=p;break;case 22:r.memoizedState===null&&(p=r.alternate,p!==null&&p.memoizedState!==null?(p=hl,hl=16777216,Mo(r,o,u),hl=p):Mo(r,o,u));break;default:Mo(r,o,u)}}function P_(r){var o=r.alternate;if(o!==null&&(r=o.child,r!==null)){o.child=null;do o=r.sibling,r.sibling=null,r=o;while(r!==null)}}function fl(r){var o=r.deletions;if((r.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var p=o[u];Ye=p,$_(p,r)}P_(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)U_(r),r=r.sibling}function U_(r){switch(r.tag){case 0:case 11:case 15:fl(r),r.flags&2048&&$r(9,r,r.return);break;case 3:fl(r);break;case 12:fl(r);break;case 22:var o=r.stateNode;r.memoizedState!==null&&o._visibility&2&&(r.return===null||r.return.tag!==13)?(o._visibility&=-3,_u(r)):fl(r);break;default:fl(r)}}function _u(r){var o=r.deletions;if((r.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var p=o[u];Ye=p,$_(p,r)}P_(r)}for(r=r.child;r!==null;){switch(o=r,o.tag){case 0:case 11:case 15:$r(8,o,o.return),_u(o);break;case 22:u=o.stateNode,u._visibility&2&&(u._visibility&=-3,_u(o));break;default:_u(o)}r=r.sibling}}function $_(r,o){for(;Ye!==null;){var u=Ye;switch(u.tag){case 0:case 11:case 15:$r(8,u,o);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var p=u.memoizedState.cachePool.pool;p!=null&&p.refCount++}break;case 24:Js(u.memoizedState.cache)}if(p=u.child,p!==null)p.return=u,Ye=p;else t:for(u=r;Ye!==null;){p=Ye;var _=p.sibling,C=p.return;if(R_(p),p===u){Ye=null;break t}if(_!==null){_.return=C,Ye=_;break t}Ye=C}}}var JR={getCacheForType:function(r){var o=Qe(Le),u=o.data.get(r);return u===void 0&&(u=r(),o.data.set(r,u)),u},cacheSignal:function(){return Qe(Le).controller.signal}},KR=typeof WeakMap=="function"?WeakMap:Map,ie=0,ge=null,Gt=null,Wt=0,ce=0,zn=null,zr=!1,Ro=!1,wp=!1,hr=0,Ee=0,qr=0,Ra=0,Ap=0,qn=0,No=0,dl=null,Mn=null,kp=!1,xu=0,z_=0,Cu=1/0,Su=null,Hr=null,Pe=0,Gr=null,Lo=null,fr=0,Mp=0,Rp=null,q_=null,pl=0,Np=null;function Hn(){return(ie&2)!==0&&Wt!==0?Wt&-Wt:D.T!==null?Op():Is()}function H_(){if(qn===0)if((Wt&536870912)===0||Jt){var r=Wi;Wi<<=1,(Wi&3932160)===0&&(Wi=262144),qn=r}else qn=536870912;return r=Un.current,r!==null&&(r.flags|=32),qn}function Rn(r,o,u){(r===ge&&(ce===2||ce===9)||r.cancelPendingCommit!==null)&&(Do(r,0),Vr(r,Wt,qn,!1)),Mr(r,u),((ie&2)===0||r!==ge)&&(r===ge&&((ie&2)===0&&(Ra|=u),Ee===4&&Vr(r,Wt,qn,!1)),Di(r))}function G_(r,o,u){if((ie&6)!==0)throw Error(i(327));var p=!u&&(o&127)===0&&(o&r.expiredLanes)===0||pa(r,o),_=p?jR(r,o):Dp(r,o,!0),C=p;do{if(_===0){Ro&&!p&&Vr(r,o,0,!1);break}else{if(u=r.current.alternate,C&&!QR(u)){_=Dp(r,o,!1),C=!1;continue}if(_===2){if(C=o,r.errorRecoveryDisabledLanes&C)var w=0;else w=r.pendingLanes&-536870913,w=w!==0?w:w&536870912?536870912:0;if(w!==0){o=w;t:{var M=r;_=dl;var O=M.current.memoizedState.isDehydrated;if(O&&(Do(M,w).flags|=256),w=Dp(M,w,!1),w!==2){if(wp&&!O){M.errorRecoveryDisabledLanes|=C,Ra|=C,_=4;break t}C=Mn,Mn=_,C!==null&&(Mn===null?Mn=C:Mn.push.apply(Mn,C))}_=w}if(C=!1,_!==2)continue}}if(_===1){Do(r,0),Vr(r,o,0,!0);break}t:{switch(p=r,C=_,C){case 0:case 1:throw Error(i(345));case 4:if((o&4194048)!==o)break;case 6:Vr(p,o,qn,!zr);break t;case 2:Mn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((o&62914560)===o&&(_=xu+300-Xe(),10<_)){if(Vr(p,o,qn,!zr),ro(p,0,!0)!==0)break t;fr=o,p.timeoutHandle=Cx(V_.bind(null,p,u,Mn,Su,kp,o,qn,Ra,No,zr,C,"Throttled",-0,0),_);break t}V_(p,u,Mn,Su,kp,o,qn,Ra,No,zr,C,null,-0,0)}}break}while(!0);Di(r)}function V_(r,o,u,p,_,C,w,M,O,K,it,ot,Z,tt){if(r.timeoutHandle=-1,ot=o.subtreeFlags,ot&8192||(ot&16785408)===16785408){ot={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Qi},O_(o,C,ot);var xt=(C&62914560)===C?xu-Xe():(C&4194048)===C?z_-Xe():0;if(xt=BN(ot,xt),xt!==null){fr=C,r.cancelPendingCommit=xt(j_.bind(null,r,o,C,u,p,_,w,M,O,it,ot,null,Z,tt)),Vr(r,C,w,!K);return}}j_(r,o,C,u,p,_,w,M,O)}function QR(r){for(var o=r;;){var u=o.tag;if((u===0||u===11||u===15)&&o.flags&16384&&(u=o.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var p=0;p<u.length;p++){var _=u[p],C=_.getSnapshot;_=_.value;try{if(!On(C(),_))return!1}catch{return!1}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Vr(r,o,u,p){o&=~Ap,o&=~Ra,r.suspendedLanes|=o,r.pingedLanes&=~o,p&&(r.warmLanes|=o),p=r.expirationTimes;for(var _=o;0<_;){var C=31-Re(_),w=1<<C;p[C]=-1,_&=~w}u!==0&&Ls(r,u,o)}function bu(){return(ie&6)===0?(gl(0),!1):!0}function Lp(){if(Gt!==null){if(ce===0)var r=Gt.return;else r=Gt,er=Ca=null,Xd(r),bo=null,Qs=0,r=Gt;for(;r!==null;)S_(r.alternate,r),r=r.return;Gt=null}}function Do(r,o){var u=r.timeoutHandle;u!==-1&&(r.timeoutHandle=-1,yN(u)),u=r.cancelPendingCommit,u!==null&&(r.cancelPendingCommit=null,u()),fr=0,Lp(),ge=r,Gt=u=ji(r.current,null),Wt=o,ce=0,zn=null,zr=!1,Ro=pa(r,o),wp=!1,No=qn=Ap=Ra=qr=Ee=0,Mn=dl=null,kp=!1,(o&8)!==0&&(o|=o&32);var p=r.entangledLanes;if(p!==0)for(r=r.entanglements,p&=o;0<p;){var _=31-Re(p),C=1<<_;o|=r[_],p&=~C}return hr=o,Gc(),u}function Y_(r,o){$t=null,D.H=al,o===So||o===Zc?(o=lv(),ce=3):o===Fd?(o=lv(),ce=4):ce=o===up?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,zn=o,Gt===null&&(Ee=1,fu(r,Zn(o,r.current)))}function W_(){var r=Un.current;return r===null?!0:(Wt&4194048)===Wt?ni===null:(Wt&62914560)===Wt||(Wt&536870912)!==0?r===ni:!1}function X_(){var r=D.H;return D.H=al,r===null?al:r}function J_(){var r=D.A;return D.A=JR,r}function Tu(){Ee=4,zr||(Wt&4194048)!==Wt&&Un.current!==null||(Ro=!0),(qr&134217727)===0&&(Ra&134217727)===0||ge===null||Vr(ge,Wt,qn,!1)}function Dp(r,o,u){var p=ie;ie|=2;var _=X_(),C=J_();(ge!==r||Wt!==o)&&(Su=null,Do(r,o)),o=!1;var w=Ee;t:do try{if(ce!==0&&Gt!==null){var M=Gt,O=zn;switch(ce){case 8:Lp(),w=6;break t;case 3:case 2:case 9:case 6:Un.current===null&&(o=!0);var K=ce;if(ce=0,zn=null,Io(r,M,O,K),u&&Ro){w=0;break t}break;default:K=ce,ce=0,zn=null,Io(r,M,O,K)}}ZR(),w=Ee;break}catch(it){Y_(r,it)}while(!0);return o&&r.shellSuspendCounter++,er=Ca=null,ie=p,D.H=_,D.A=C,Gt===null&&(ge=null,Wt=0,Gc()),w}function ZR(){for(;Gt!==null;)K_(Gt)}function jR(r,o){var u=ie;ie|=2;var p=X_(),_=J_();ge!==r||Wt!==o?(Su=null,Cu=Xe()+500,Do(r,o)):Ro=pa(r,o);t:do try{if(ce!==0&&Gt!==null){o=Gt;var C=zn;e:switch(ce){case 1:ce=0,zn=null,Io(r,o,C,1);break;case 2:case 9:if(ov(C)){ce=0,zn=null,Q_(o);break}o=function(){ce!==2&&ce!==9||ge!==r||(ce=7),Di(r)},C.then(o,o);break t;case 3:ce=7;break t;case 4:ce=5;break t;case 7:ov(C)?(ce=0,zn=null,Q_(o)):(ce=0,zn=null,Io(r,o,C,7));break;case 5:var w=null;switch(Gt.tag){case 26:w=Gt.memoizedState;case 5:case 27:var M=Gt;if(w?Fx(w):M.stateNode.complete){ce=0,zn=null;var O=M.sibling;if(O!==null)Gt=O;else{var K=M.return;K!==null?(Gt=K,Eu(K)):Gt=null}break e}}ce=0,zn=null,Io(r,o,C,5);break;case 6:ce=0,zn=null,Io(r,o,C,6);break;case 8:Lp(),Ee=6;break t;default:throw Error(i(462))}}tN();break}catch(it){Y_(r,it)}while(!0);return er=Ca=null,D.H=p,D.A=_,ie=u,Gt!==null?0:(ge=null,Wt=0,Gc(),Ee)}function tN(){for(;Gt!==null&&!wc();)K_(Gt)}function K_(r){var o=x_(r.alternate,r,hr);r.memoizedProps=r.pendingProps,o===null?Eu(r):Gt=o}function Q_(r){var o=r,u=o.alternate;switch(o.tag){case 15:case 0:o=p_(u,o,o.pendingProps,o.type,void 0,Wt);break;case 11:o=p_(u,o,o.pendingProps,o.type.render,o.ref,Wt);break;case 5:Xd(o);default:S_(u,o),o=Gt=J0(o,hr),o=x_(u,o,hr)}r.memoizedProps=r.pendingProps,o===null?Eu(r):Gt=o}function Io(r,o,u,p){er=Ca=null,Xd(o),bo=null,Qs=0;var _=o.return;try{if(qR(r,_,o,u,Wt)){Ee=1,fu(r,Zn(u,r.current)),Gt=null;return}}catch(C){if(_!==null)throw Gt=_,C;Ee=1,fu(r,Zn(u,r.current)),Gt=null;return}o.flags&32768?(Jt||p===1?r=!0:Ro||(Wt&536870912)!==0?r=!1:(zr=r=!0,(p===2||p===9||p===3||p===6)&&(p=Un.current,p!==null&&p.tag===13&&(p.flags|=16384))),Z_(o,r)):Eu(o)}function Eu(r){var o=r;do{if((o.flags&32768)!==0){Z_(o,zr);return}r=o.return;var u=VR(o.alternate,o,hr);if(u!==null){Gt=u;return}if(o=o.sibling,o!==null){Gt=o;return}Gt=o=r}while(o!==null);Ee===0&&(Ee=5)}function Z_(r,o){do{var u=YR(r.alternate,r);if(u!==null){u.flags&=32767,Gt=u;return}if(u=r.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!o&&(r=r.sibling,r!==null)){Gt=r;return}Gt=r=u}while(r!==null);Ee=6,Gt=null}function j_(r,o,u,p,_,C,w,M,O){r.cancelPendingCommit=null;do wu();while(Pe!==0);if((ie&6)!==0)throw Error(i(327));if(o!==null){if(o===r.current)throw Error(i(177));if(C=o.lanes|o.childLanes,C|=Cd,Ns(r,u,C,w,M,O),r===ge&&(Gt=ge=null,Wt=0),Lo=o,Gr=r,fr=u,Mp=C,Rp=_,q_=p,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,rN(kr,function(){return rx(),null})):(r.callbackNode=null,r.callbackPriority=0),p=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||p){p=D.T,D.T=null,_=P.p,P.p=2,w=ie,ie|=4;try{WR(r,o,u)}finally{ie=w,P.p=_,D.T=p}}Pe=1,tx(),ex(),nx()}}function tx(){if(Pe===1){Pe=0;var r=Gr,o=Lo,u=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||u){u=D.T,D.T=null;var p=P.p;P.p=2;var _=ie;ie|=4;try{I_(o,r);var C=Vp,w=$0(r.containerInfo),M=C.focusedElem,O=C.selectionRange;if(w!==M&&M&&M.ownerDocument&&U0(M.ownerDocument.documentElement,M)){if(O!==null&&md(M)){var K=O.start,it=O.end;if(it===void 0&&(it=K),"selectionStart"in M)M.selectionStart=K,M.selectionEnd=Math.min(it,M.value.length);else{var ot=M.ownerDocument||document,Z=ot&&ot.defaultView||window;if(Z.getSelection){var tt=Z.getSelection(),xt=M.textContent.length,Lt=Math.min(O.start,xt),de=O.end===void 0?Lt:Math.min(O.end,xt);!tt.extend&&Lt>de&&(w=de,de=Lt,Lt=w);var q=P0(M,Lt),$=P0(M,de);if(q&&$&&(tt.rangeCount!==1||tt.anchorNode!==q.node||tt.anchorOffset!==q.offset||tt.focusNode!==$.node||tt.focusOffset!==$.offset)){var J=ot.createRange();J.setStart(q.node,q.offset),tt.removeAllRanges(),Lt>de?(tt.addRange(J),tt.extend($.node,$.offset)):(J.setEnd($.node,$.offset),tt.addRange(J))}}}}for(ot=[],tt=M;tt=tt.parentNode;)tt.nodeType===1&&ot.push({element:tt,left:tt.scrollLeft,top:tt.scrollTop});for(typeof M.focus=="function"&&M.focus(),M=0;M<ot.length;M++){var rt=ot[M];rt.element.scrollLeft=rt.left,rt.element.scrollTop=rt.top}}Pu=!!Gp,Vp=Gp=null}finally{ie=_,P.p=p,D.T=u}}r.current=o,Pe=2}}function ex(){if(Pe===2){Pe=0;var r=Gr,o=Lo,u=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||u){u=D.T,D.T=null;var p=P.p;P.p=2;var _=ie;ie|=4;try{M_(r,o.alternate,o)}finally{ie=_,P.p=p,D.T=u}}Pe=3}}function nx(){if(Pe===4||Pe===3){Pe=0,Zf();var r=Gr,o=Lo,u=fr,p=q_;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?Pe=5:(Pe=0,Lo=Gr=null,ix(r,r.pendingLanes));var _=r.pendingLanes;if(_===0&&(Hr=null),fi(u),o=o.stateNode,Ge&&typeof Ge.onCommitFiberRoot=="function")try{Ge.onCommitFiberRoot(ki,o,void 0,(o.current.flags&128)===128)}catch{}if(p!==null){o=D.T,_=P.p,P.p=2,D.T=null;try{for(var C=r.onRecoverableError,w=0;w<p.length;w++){var M=p[w];C(M.value,{componentStack:M.stack})}}finally{D.T=o,P.p=_}}(fr&3)!==0&&wu(),Di(r),_=r.pendingLanes,(u&261930)!==0&&(_&42)!==0?r===Np?pl++:(pl=0,Np=r):pl=0,gl(0)}}function ix(r,o){(r.pooledCacheLanes&=o)===0&&(o=r.pooledCache,o!=null&&(r.pooledCache=null,Js(o)))}function wu(){return tx(),ex(),nx(),rx()}function rx(){if(Pe!==5)return!1;var r=Gr,o=Mp;Mp=0;var u=fi(fr),p=D.T,_=P.p;try{P.p=32>u?32:u,D.T=null,u=Rp,Rp=null;var C=Gr,w=fr;if(Pe=0,Lo=Gr=null,fr=0,(ie&6)!==0)throw Error(i(331));var M=ie;if(ie|=4,U_(C.current),F_(C,C.current,w,u),ie=M,gl(0,!1),Ge&&typeof Ge.onPostCommitFiberRoot=="function")try{Ge.onPostCommitFiberRoot(ki,C)}catch{}return!0}finally{P.p=_,D.T=p,ix(r,o)}}function ax(r,o,u){o=Zn(u,o),o=cp(r.stateNode,o,2),r=Or(r,o,2),r!==null&&(Mr(r,2),Di(r))}function ue(r,o,u){if(r.tag===3)ax(r,r,u);else for(;o!==null;){if(o.tag===3){ax(o,r,u);break}else if(o.tag===1){var p=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(Hr===null||!Hr.has(p))){r=Zn(u,r),u=o_(2),p=Or(o,u,2),p!==null&&(s_(u,p,o,r),Mr(p,2),Di(p));break}}o=o.return}}function Ip(r,o,u){var p=r.pingCache;if(p===null){p=r.pingCache=new KR;var _=new Set;p.set(o,_)}else _=p.get(o),_===void 0&&(_=new Set,p.set(o,_));_.has(u)||(wp=!0,_.add(u),r=eN.bind(null,r,o,u),o.then(r,r))}function eN(r,o,u){var p=r.pingCache;p!==null&&p.delete(o),r.pingedLanes|=r.suspendedLanes&u,r.warmLanes&=~u,ge===r&&(Wt&u)===u&&(Ee===4||Ee===3&&(Wt&62914560)===Wt&&300>Xe()-xu?(ie&2)===0&&Do(r,0):Ap|=u,No===Wt&&(No=0)),Di(r)}function ox(r,o){o===0&&(o=Xi()),r=va(r,o),r!==null&&(Mr(r,o),Di(r))}function nN(r){var o=r.memoizedState,u=0;o!==null&&(u=o.retryLane),ox(r,u)}function iN(r,o){var u=0;switch(r.tag){case 31:case 13:var p=r.stateNode,_=r.memoizedState;_!==null&&(u=_.retryLane);break;case 19:p=r.stateNode;break;case 22:p=r.stateNode._retryCache;break;default:throw Error(i(314))}p!==null&&p.delete(o),ox(r,u)}function rN(r,o){return Ar(r,o)}var Au=null,Bo=null,Bp=!1,ku=!1,Fp=!1,Yr=0;function Di(r){r!==Bo&&r.next===null&&(Bo===null?Au=Bo=r:Bo=Bo.next=r),ku=!0,Bp||(Bp=!0,oN())}function gl(r,o){if(!Fp&&ku){Fp=!0;do for(var u=!1,p=Au;p!==null;){if(r!==0){var _=p.pendingLanes;if(_===0)var C=0;else{var w=p.suspendedLanes,M=p.pingedLanes;C=(1<<31-Re(42|r)+1)-1,C&=_&~(w&~M),C=C&201326741?C&201326741|1:C?C|2:0}C!==0&&(u=!0,ux(p,C))}else C=Wt,C=ro(p,p===ge?C:0,p.cancelPendingCommit!==null||p.timeoutHandle!==-1),(C&3)===0||pa(p,C)||(u=!0,ux(p,C));p=p.next}while(u);Fp=!1}}function aN(){sx()}function sx(){ku=Bp=!1;var r=0;Yr!==0&&mN()&&(r=Yr);for(var o=Xe(),u=null,p=Au;p!==null;){var _=p.next,C=lx(p,o);C===0?(p.next=null,u===null?Au=_:u.next=_,_===null&&(Bo=u)):(u=p,(r!==0||(C&3)!==0)&&(ku=!0)),p=_}Pe!==0&&Pe!==5||gl(r),Yr!==0&&(Yr=0)}function lx(r,o){for(var u=r.suspendedLanes,p=r.pingedLanes,_=r.expirationTimes,C=r.pendingLanes&-62914561;0<C;){var w=31-Re(C),M=1<<w,O=_[w];O===-1?((M&u)===0||(M&p)!==0)&&(_[w]=we(M,o)):O<=o&&(r.expiredLanes|=M),C&=~M}if(o=ge,u=Wt,u=ro(r,r===o?u:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),p=r.callbackNode,u===0||r===o&&(ce===2||ce===9)||r.cancelPendingCommit!==null)return p!==null&&p!==null&&no(p),r.callbackNode=null,r.callbackPriority=0;if((u&3)===0||pa(r,u)){if(o=u&-u,o===r.callbackPriority)return o;switch(p!==null&&no(p),fi(u)){case 2:case 8:u=Bn;break;case 32:u=kr;break;case 268435456:u=ws;break;default:u=kr}return p=cx.bind(null,r),u=Ar(u,p),r.callbackPriority=o,r.callbackNode=u,o}return p!==null&&p!==null&&no(p),r.callbackPriority=2,r.callbackNode=null,2}function cx(r,o){if(Pe!==0&&Pe!==5)return r.callbackNode=null,r.callbackPriority=0,null;var u=r.callbackNode;if(wu()&&r.callbackNode!==u)return null;var p=Wt;return p=ro(r,r===ge?p:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),p===0?null:(G_(r,p,o),lx(r,Xe()),r.callbackNode!=null&&r.callbackNode===u?cx.bind(null,r):null)}function ux(r,o){if(wu())return null;G_(r,o,!0)}function oN(){vN(function(){(ie&6)!==0?Ar(Vi,aN):sx()})}function Op(){if(Yr===0){var r=xo;r===0&&(r=Yi,Yi<<=1,(Yi&261888)===0&&(Yi=256)),Yr=r}return Yr}function hx(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:Fc(""+r)}function fx(r,o){var u=o.ownerDocument.createElement("input");return u.name=o.name,u.value=o.value,r.id&&u.setAttribute("form",r.id),o.parentNode.insertBefore(u,o),r=new FormData(r),u.parentNode.removeChild(u),r}function sN(r,o,u,p,_){if(o==="submit"&&u&&u.stateNode===_){var C=hx((_[xe]||null).action),w=p.submitter;w&&(o=(o=w[xe]||null)?hx(o.formAction):w.getAttribute("formAction"),o!==null&&(C=o,w=null));var M=new $c("action","action",null,p,_);r.push({event:M,listeners:[{instance:null,listener:function(){if(p.defaultPrevented){if(Yr!==0){var O=w?fx(_,w):new FormData(_);ip(u,{pending:!0,data:O,method:_.method,action:C},null,O)}}else typeof C=="function"&&(M.preventDefault(),O=w?fx(_,w):new FormData(_),ip(u,{pending:!0,data:O,method:_.method,action:C},C,O))},currentTarget:_}]})}}for(var Pp=0;Pp<xd.length;Pp++){var Up=xd[Pp],lN=Up.toLowerCase(),cN=Up[0].toUpperCase()+Up.slice(1);di(lN,"on"+cN)}di(H0,"onAnimationEnd"),di(G0,"onAnimationIteration"),di(V0,"onAnimationStart"),di("dblclick","onDoubleClick"),di("focusin","onFocus"),di("focusout","onBlur"),di(ER,"onTransitionRun"),di(wR,"onTransitionStart"),di(AR,"onTransitionCancel"),di(Y0,"onTransitionEnd"),Mi("onMouseEnter",["mouseout","mouseover"]),Mi("onMouseLeave",["mouseout","mouseover"]),Mi("onPointerEnter",["pointerout","pointerover"]),Mi("onPointerLeave",["pointerout","pointerover"]),Tn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Tn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Tn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Tn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Tn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Tn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ml="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),uN=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ml));function dx(r,o){o=(o&4)!==0;for(var u=0;u<r.length;u++){var p=r[u],_=p.event;p=p.listeners;t:{var C=void 0;if(o)for(var w=p.length-1;0<=w;w--){var M=p[w],O=M.instance,K=M.currentTarget;if(M=M.listener,O!==C&&_.isPropagationStopped())break t;C=M,_.currentTarget=K;try{C(_)}catch(it){Hc(it)}_.currentTarget=null,C=O}else for(w=0;w<p.length;w++){if(M=p[w],O=M.instance,K=M.currentTarget,M=M.listener,O!==C&&_.isPropagationStopped())break t;C=M,_.currentTarget=K;try{C(_)}catch(it){Hc(it)}_.currentTarget=null,C=O}}}}function Vt(r,o){var u=o[ao];u===void 0&&(u=o[ao]=new Set);var p=r+"__bubble";u.has(p)||(px(o,r,2,!1),u.add(p))}function $p(r,o,u){var p=0;o&&(p|=4),px(u,r,p,o)}var Mu="_reactListening"+Math.random().toString(36).slice(2);function zp(r){if(!r[Mu]){r[Mu]=!0,Je.forEach(function(u){u!=="selectionchange"&&(uN.has(u)||$p(u,!1,r),$p(u,!0,r))});var o=r.nodeType===9?r:r.ownerDocument;o===null||o[Mu]||(o[Mu]=!0,$p("selectionchange",!1,o))}}function px(r,o,u,p){switch(Hx(o)){case 2:var _=PN;break;case 8:_=UN;break;default:_=ng}u=_.bind(null,o,u,r),_=void 0,!sd||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(_=!0),p?_!==void 0?r.addEventListener(o,u,{capture:!0,passive:_}):r.addEventListener(o,u,!0):_!==void 0?r.addEventListener(o,u,{passive:_}):r.addEventListener(o,u,!1)}function qp(r,o,u,p,_){var C=p;if((o&1)===0&&(o&2)===0&&p!==null)t:for(;;){if(p===null)return;var w=p.tag;if(w===3||w===4){var M=p.stateNode.containerInfo;if(M===_)break;if(w===4)for(w=p.return;w!==null;){var O=w.tag;if((O===3||O===4)&&w.stateNode.containerInfo===_)return;w=w.return}for(;M!==null;){if(w=ut(M),w===null)return;if(O=w.tag,O===5||O===6||O===26||O===27){p=C=w;continue t}M=M.parentNode}}p=p.return}_0(function(){var K=C,it=ad(u),ot=[];t:{var Z=W0.get(r);if(Z!==void 0){var tt=$c,xt=r;switch(r){case"keypress":if(Pc(u)===0)break t;case"keydown":case"keyup":tt=iR;break;case"focusin":xt="focus",tt=hd;break;case"focusout":xt="blur",tt=hd;break;case"beforeblur":case"afterblur":tt=hd;break;case"click":if(u.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":tt=S0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":tt=VM;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":tt=oR;break;case H0:case G0:case V0:tt=XM;break;case Y0:tt=lR;break;case"scroll":case"scrollend":tt=HM;break;case"wheel":tt=uR;break;case"copy":case"cut":case"paste":tt=KM;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":tt=T0;break;case"toggle":case"beforetoggle":tt=fR}var Lt=(o&4)!==0,de=!Lt&&(r==="scroll"||r==="scrollend"),q=Lt?Z!==null?Z+"Capture":null:Z;Lt=[];for(var $=K,J;$!==null;){var rt=$;if(J=rt.stateNode,rt=rt.tag,rt!==5&&rt!==26&&rt!==27||J===null||q===null||(rt=Ps($,q),rt!=null&&Lt.push(yl($,rt,J))),de)break;$=$.return}0<Lt.length&&(Z=new tt(Z,xt,null,u,it),ot.push({event:Z,listeners:Lt}))}}if((o&7)===0){t:{if(Z=r==="mouseover"||r==="pointerover",tt=r==="mouseout"||r==="pointerout",Z&&u!==rd&&(xt=u.relatedTarget||u.fromElement)&&(ut(xt)||xt[Ji]))break t;if((tt||Z)&&(Z=it.window===it?it:(Z=it.ownerDocument)?Z.defaultView||Z.parentWindow:window,tt?(xt=u.relatedTarget||u.toElement,tt=K,xt=xt?ut(xt):null,xt!==null&&(de=s(xt),Lt=xt.tag,xt!==de||Lt!==5&&Lt!==27&&Lt!==6)&&(xt=null)):(tt=null,xt=K),tt!==xt)){if(Lt=S0,rt="onMouseLeave",q="onMouseEnter",$="mouse",(r==="pointerout"||r==="pointerover")&&(Lt=T0,rt="onPointerLeave",q="onPointerEnter",$="pointer"),de=tt==null?Z:re(tt),J=xt==null?Z:re(xt),Z=new Lt(rt,$+"leave",tt,u,it),Z.target=de,Z.relatedTarget=J,rt=null,ut(it)===K&&(Lt=new Lt(q,$+"enter",xt,u,it),Lt.target=J,Lt.relatedTarget=de,rt=Lt),de=rt,tt&&xt)e:{for(Lt=hN,q=tt,$=xt,J=0,rt=q;rt;rt=Lt(rt))J++;rt=0;for(var Mt=$;Mt;Mt=Lt(Mt))rt++;for(;0<J-rt;)q=Lt(q),J--;for(;0<rt-J;)$=Lt($),rt--;for(;J--;){if(q===$||$!==null&&q===$.alternate){Lt=q;break e}q=Lt(q),$=Lt($)}Lt=null}else Lt=null;tt!==null&&gx(ot,Z,tt,Lt,!1),xt!==null&&de!==null&&gx(ot,de,xt,Lt,!0)}}t:{if(Z=K?re(K):window,tt=Z.nodeName&&Z.nodeName.toLowerCase(),tt==="select"||tt==="input"&&Z.type==="file")var jt=L0;else if(R0(Z))if(D0)jt=SR;else{jt=xR;var At=_R}else tt=Z.nodeName,!tt||tt.toLowerCase()!=="input"||Z.type!=="checkbox"&&Z.type!=="radio"?K&&id(K.elementType)&&(jt=L0):jt=CR;if(jt&&(jt=jt(r,K))){N0(ot,jt,u,it);break t}At&&At(r,Z,K),r==="focusout"&&K&&Z.type==="number"&&K.memoizedProps.value!=null&&nd(Z,"number",Z.value)}switch(At=K?re(K):window,r){case"focusin":(R0(At)||At.contentEditable==="true")&&(ho=At,yd=K,Ys=null);break;case"focusout":Ys=yd=ho=null;break;case"mousedown":vd=!0;break;case"contextmenu":case"mouseup":case"dragend":vd=!1,z0(ot,u,it);break;case"selectionchange":if(TR)break;case"keydown":case"keyup":z0(ot,u,it)}var zt;if(dd)t:{switch(r){case"compositionstart":var Xt="onCompositionStart";break t;case"compositionend":Xt="onCompositionEnd";break t;case"compositionupdate":Xt="onCompositionUpdate";break t}Xt=void 0}else uo?k0(r,u)&&(Xt="onCompositionEnd"):r==="keydown"&&u.keyCode===229&&(Xt="onCompositionStart");Xt&&(E0&&u.locale!=="ko"&&(uo||Xt!=="onCompositionStart"?Xt==="onCompositionEnd"&&uo&&(zt=x0()):(Rr=it,ld="value"in Rr?Rr.value:Rr.textContent,uo=!0)),At=Ru(K,Xt),0<At.length&&(Xt=new b0(Xt,r,null,u,it),ot.push({event:Xt,listeners:At}),zt?Xt.data=zt:(zt=M0(u),zt!==null&&(Xt.data=zt)))),(zt=pR?gR(r,u):mR(r,u))&&(Xt=Ru(K,"onBeforeInput"),0<Xt.length&&(At=new b0("onBeforeInput","beforeinput",null,u,it),ot.push({event:At,listeners:Xt}),At.data=zt)),sN(ot,r,K,u,it)}dx(ot,o)})}function yl(r,o,u){return{instance:r,listener:o,currentTarget:u}}function Ru(r,o){for(var u=o+"Capture",p=[];r!==null;){var _=r,C=_.stateNode;if(_=_.tag,_!==5&&_!==26&&_!==27||C===null||(_=Ps(r,u),_!=null&&p.unshift(yl(r,_,C)),_=Ps(r,o),_!=null&&p.push(yl(r,_,C))),r.tag===3)return p;r=r.return}return[]}function hN(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function gx(r,o,u,p,_){for(var C=o._reactName,w=[];u!==null&&u!==p;){var M=u,O=M.alternate,K=M.stateNode;if(M=M.tag,O!==null&&O===p)break;M!==5&&M!==26&&M!==27||K===null||(O=K,_?(K=Ps(u,C),K!=null&&w.unshift(yl(u,K,O))):_||(K=Ps(u,C),K!=null&&w.push(yl(u,K,O)))),u=u.return}w.length!==0&&r.push({event:o,listeners:w})}var fN=/\r\n?/g,dN=/\u0000|\uFFFD/g;function mx(r){return(typeof r=="string"?r:""+r).replace(fN,`
`).replace(dN,"")}function yx(r,o){return o=mx(o),mx(r)===o}function fe(r,o,u,p,_,C){switch(u){case"children":typeof p=="string"?o==="body"||o==="textarea"&&p===""||so(r,p):(typeof p=="number"||typeof p=="bigint")&&o!=="body"&&so(r,""+p);break;case"className":Ic(r,"class",p);break;case"tabIndex":Ic(r,"tabindex",p);break;case"dir":case"role":case"viewBox":case"width":case"height":Ic(r,u,p);break;case"style":y0(r,p,C);break;case"data":if(o!=="object"){Ic(r,"data",p);break}case"src":case"href":if(p===""&&(o!=="a"||u!=="href")){r.removeAttribute(u);break}if(p==null||typeof p=="function"||typeof p=="symbol"||typeof p=="boolean"){r.removeAttribute(u);break}p=Fc(""+p),r.setAttribute(u,p);break;case"action":case"formAction":if(typeof p=="function"){r.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof C=="function"&&(u==="formAction"?(o!=="input"&&fe(r,o,"name",_.name,_,null),fe(r,o,"formEncType",_.formEncType,_,null),fe(r,o,"formMethod",_.formMethod,_,null),fe(r,o,"formTarget",_.formTarget,_,null)):(fe(r,o,"encType",_.encType,_,null),fe(r,o,"method",_.method,_,null),fe(r,o,"target",_.target,_,null)));if(p==null||typeof p=="symbol"||typeof p=="boolean"){r.removeAttribute(u);break}p=Fc(""+p),r.setAttribute(u,p);break;case"onClick":p!=null&&(r.onclick=Qi);break;case"onScroll":p!=null&&Vt("scroll",r);break;case"onScrollEnd":p!=null&&Vt("scrollend",r);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(i(61));if(u=p.__html,u!=null){if(_.children!=null)throw Error(i(60));r.innerHTML=u}}break;case"multiple":r.multiple=p&&typeof p!="function"&&typeof p!="symbol";break;case"muted":r.muted=p&&typeof p!="function"&&typeof p!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(p==null||typeof p=="function"||typeof p=="boolean"||typeof p=="symbol"){r.removeAttribute("xlink:href");break}u=Fc(""+p),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":p!=null&&typeof p!="function"&&typeof p!="symbol"?r.setAttribute(u,""+p):r.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":p&&typeof p!="function"&&typeof p!="symbol"?r.setAttribute(u,""):r.removeAttribute(u);break;case"capture":case"download":p===!0?r.setAttribute(u,""):p!==!1&&p!=null&&typeof p!="function"&&typeof p!="symbol"?r.setAttribute(u,p):r.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":p!=null&&typeof p!="function"&&typeof p!="symbol"&&!isNaN(p)&&1<=p?r.setAttribute(u,p):r.removeAttribute(u);break;case"rowSpan":case"start":p==null||typeof p=="function"||typeof p=="symbol"||isNaN(p)?r.removeAttribute(u):r.setAttribute(u,p);break;case"popover":Vt("beforetoggle",r),Vt("toggle",r),Dc(r,"popover",p);break;case"xlinkActuate":Ki(r,"http://www.w3.org/1999/xlink","xlink:actuate",p);break;case"xlinkArcrole":Ki(r,"http://www.w3.org/1999/xlink","xlink:arcrole",p);break;case"xlinkRole":Ki(r,"http://www.w3.org/1999/xlink","xlink:role",p);break;case"xlinkShow":Ki(r,"http://www.w3.org/1999/xlink","xlink:show",p);break;case"xlinkTitle":Ki(r,"http://www.w3.org/1999/xlink","xlink:title",p);break;case"xlinkType":Ki(r,"http://www.w3.org/1999/xlink","xlink:type",p);break;case"xmlBase":Ki(r,"http://www.w3.org/XML/1998/namespace","xml:base",p);break;case"xmlLang":Ki(r,"http://www.w3.org/XML/1998/namespace","xml:lang",p);break;case"xmlSpace":Ki(r,"http://www.w3.org/XML/1998/namespace","xml:space",p);break;case"is":Dc(r,"is",p);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=zM.get(u)||u,Dc(r,u,p))}}function Hp(r,o,u,p,_,C){switch(u){case"style":y0(r,p,C);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(i(61));if(u=p.__html,u!=null){if(_.children!=null)throw Error(i(60));r.innerHTML=u}}break;case"children":typeof p=="string"?so(r,p):(typeof p=="number"||typeof p=="bigint")&&so(r,""+p);break;case"onScroll":p!=null&&Vt("scroll",r);break;case"onScrollEnd":p!=null&&Vt("scrollend",r);break;case"onClick":p!=null&&(r.onclick=Qi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Xn.hasOwnProperty(u))t:{if(u[0]==="o"&&u[1]==="n"&&(_=u.endsWith("Capture"),o=u.slice(2,_?u.length-7:void 0),C=r[xe]||null,C=C!=null?C[u]:null,typeof C=="function"&&r.removeEventListener(o,C,_),typeof p=="function")){typeof C!="function"&&C!==null&&(u in r?r[u]=null:r.hasAttribute(u)&&r.removeAttribute(u)),r.addEventListener(o,p,_);break t}u in r?r[u]=p:p===!0?r.setAttribute(u,""):Dc(r,u,p)}}}function je(r,o,u){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Vt("error",r),Vt("load",r);var p=!1,_=!1,C;for(C in u)if(u.hasOwnProperty(C)){var w=u[C];if(w!=null)switch(C){case"src":p=!0;break;case"srcSet":_=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,o));default:fe(r,o,C,w,u,null)}}_&&fe(r,o,"srcSet",u.srcSet,u,null),p&&fe(r,o,"src",u.src,u,null);return;case"input":Vt("invalid",r);var M=C=w=_=null,O=null,K=null;for(p in u)if(u.hasOwnProperty(p)){var it=u[p];if(it!=null)switch(p){case"name":_=it;break;case"type":w=it;break;case"checked":O=it;break;case"defaultChecked":K=it;break;case"value":C=it;break;case"defaultValue":M=it;break;case"children":case"dangerouslySetInnerHTML":if(it!=null)throw Error(i(137,o));break;default:fe(r,o,p,it,u,null)}}d0(r,C,M,O,K,w,_,!1);return;case"select":Vt("invalid",r),p=w=C=null;for(_ in u)if(u.hasOwnProperty(_)&&(M=u[_],M!=null))switch(_){case"value":C=M;break;case"defaultValue":w=M;break;case"multiple":p=M;default:fe(r,o,_,M,u,null)}o=C,u=w,r.multiple=!!p,o!=null?oo(r,!!p,o,!1):u!=null&&oo(r,!!p,u,!0);return;case"textarea":Vt("invalid",r),C=_=p=null;for(w in u)if(u.hasOwnProperty(w)&&(M=u[w],M!=null))switch(w){case"value":p=M;break;case"defaultValue":_=M;break;case"children":C=M;break;case"dangerouslySetInnerHTML":if(M!=null)throw Error(i(91));break;default:fe(r,o,w,M,u,null)}g0(r,p,_,C);return;case"option":for(O in u)if(u.hasOwnProperty(O)&&(p=u[O],p!=null))switch(O){case"selected":r.selected=p&&typeof p!="function"&&typeof p!="symbol";break;default:fe(r,o,O,p,u,null)}return;case"dialog":Vt("beforetoggle",r),Vt("toggle",r),Vt("cancel",r),Vt("close",r);break;case"iframe":case"object":Vt("load",r);break;case"video":case"audio":for(p=0;p<ml.length;p++)Vt(ml[p],r);break;case"image":Vt("error",r),Vt("load",r);break;case"details":Vt("toggle",r);break;case"embed":case"source":case"link":Vt("error",r),Vt("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(K in u)if(u.hasOwnProperty(K)&&(p=u[K],p!=null))switch(K){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,o));default:fe(r,o,K,p,u,null)}return;default:if(id(o)){for(it in u)u.hasOwnProperty(it)&&(p=u[it],p!==void 0&&Hp(r,o,it,p,u,void 0));return}}for(M in u)u.hasOwnProperty(M)&&(p=u[M],p!=null&&fe(r,o,M,p,u,null))}function pN(r,o,u,p){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var _=null,C=null,w=null,M=null,O=null,K=null,it=null;for(tt in u){var ot=u[tt];if(u.hasOwnProperty(tt)&&ot!=null)switch(tt){case"checked":break;case"value":break;case"defaultValue":O=ot;default:p.hasOwnProperty(tt)||fe(r,o,tt,null,p,ot)}}for(var Z in p){var tt=p[Z];if(ot=u[Z],p.hasOwnProperty(Z)&&(tt!=null||ot!=null))switch(Z){case"type":C=tt;break;case"name":_=tt;break;case"checked":K=tt;break;case"defaultChecked":it=tt;break;case"value":w=tt;break;case"defaultValue":M=tt;break;case"children":case"dangerouslySetInnerHTML":if(tt!=null)throw Error(i(137,o));break;default:tt!==ot&&fe(r,o,Z,tt,p,ot)}}ed(r,w,M,O,K,it,C,_);return;case"select":tt=w=M=Z=null;for(C in u)if(O=u[C],u.hasOwnProperty(C)&&O!=null)switch(C){case"value":break;case"multiple":tt=O;default:p.hasOwnProperty(C)||fe(r,o,C,null,p,O)}for(_ in p)if(C=p[_],O=u[_],p.hasOwnProperty(_)&&(C!=null||O!=null))switch(_){case"value":Z=C;break;case"defaultValue":M=C;break;case"multiple":w=C;default:C!==O&&fe(r,o,_,C,p,O)}o=M,u=w,p=tt,Z!=null?oo(r,!!u,Z,!1):!!p!=!!u&&(o!=null?oo(r,!!u,o,!0):oo(r,!!u,u?[]:"",!1));return;case"textarea":tt=Z=null;for(M in u)if(_=u[M],u.hasOwnProperty(M)&&_!=null&&!p.hasOwnProperty(M))switch(M){case"value":break;case"children":break;default:fe(r,o,M,null,p,_)}for(w in p)if(_=p[w],C=u[w],p.hasOwnProperty(w)&&(_!=null||C!=null))switch(w){case"value":Z=_;break;case"defaultValue":tt=_;break;case"children":break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(i(91));break;default:_!==C&&fe(r,o,w,_,p,C)}p0(r,Z,tt);return;case"option":for(var xt in u)if(Z=u[xt],u.hasOwnProperty(xt)&&Z!=null&&!p.hasOwnProperty(xt))switch(xt){case"selected":r.selected=!1;break;default:fe(r,o,xt,null,p,Z)}for(O in p)if(Z=p[O],tt=u[O],p.hasOwnProperty(O)&&Z!==tt&&(Z!=null||tt!=null))switch(O){case"selected":r.selected=Z&&typeof Z!="function"&&typeof Z!="symbol";break;default:fe(r,o,O,Z,p,tt)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Lt in u)Z=u[Lt],u.hasOwnProperty(Lt)&&Z!=null&&!p.hasOwnProperty(Lt)&&fe(r,o,Lt,null,p,Z);for(K in p)if(Z=p[K],tt=u[K],p.hasOwnProperty(K)&&Z!==tt&&(Z!=null||tt!=null))switch(K){case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(i(137,o));break;default:fe(r,o,K,Z,p,tt)}return;default:if(id(o)){for(var de in u)Z=u[de],u.hasOwnProperty(de)&&Z!==void 0&&!p.hasOwnProperty(de)&&Hp(r,o,de,void 0,p,Z);for(it in p)Z=p[it],tt=u[it],!p.hasOwnProperty(it)||Z===tt||Z===void 0&&tt===void 0||Hp(r,o,it,Z,p,tt);return}}for(var q in u)Z=u[q],u.hasOwnProperty(q)&&Z!=null&&!p.hasOwnProperty(q)&&fe(r,o,q,null,p,Z);for(ot in p)Z=p[ot],tt=u[ot],!p.hasOwnProperty(ot)||Z===tt||Z==null&&tt==null||fe(r,o,ot,Z,p,tt)}function vx(r){switch(r){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function gN(){if(typeof performance.getEntriesByType=="function"){for(var r=0,o=0,u=performance.getEntriesByType("resource"),p=0;p<u.length;p++){var _=u[p],C=_.transferSize,w=_.initiatorType,M=_.duration;if(C&&M&&vx(w)){for(w=0,M=_.responseEnd,p+=1;p<u.length;p++){var O=u[p],K=O.startTime;if(K>M)break;var it=O.transferSize,ot=O.initiatorType;it&&vx(ot)&&(O=O.responseEnd,w+=it*(O<M?1:(M-K)/(O-K)))}if(--p,o+=8*(C+w)/(_.duration/1e3),r++,10<r)break}}if(0<r)return o/r/1e6}return navigator.connection&&(r=navigator.connection.downlink,typeof r=="number")?r:5}var Gp=null,Vp=null;function Nu(r){return r.nodeType===9?r:r.ownerDocument}function _x(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function xx(r,o){if(r===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&o==="foreignObject"?0:r}function Yp(r,o){return r==="textarea"||r==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Wp=null;function mN(){var r=window.event;return r&&r.type==="popstate"?r===Wp?!1:(Wp=r,!0):(Wp=null,!1)}var Cx=typeof setTimeout=="function"?setTimeout:void 0,yN=typeof clearTimeout=="function"?clearTimeout:void 0,Sx=typeof Promise=="function"?Promise:void 0,vN=typeof queueMicrotask=="function"?queueMicrotask:typeof Sx<"u"?function(r){return Sx.resolve(null).then(r).catch(_N)}:Cx;function _N(r){setTimeout(function(){throw r})}function Wr(r){return r==="head"}function bx(r,o){var u=o,p=0;do{var _=u.nextSibling;if(r.removeChild(u),_&&_.nodeType===8)if(u=_.data,u==="/$"||u==="/&"){if(p===0){r.removeChild(_),Uo(o);return}p--}else if(u==="$"||u==="$?"||u==="$~"||u==="$!"||u==="&")p++;else if(u==="html")vl(r.ownerDocument.documentElement);else if(u==="head"){u=r.ownerDocument.head,vl(u);for(var C=u.firstChild;C;){var w=C.nextSibling,M=C.nodeName;C[wt]||M==="SCRIPT"||M==="STYLE"||M==="LINK"&&C.rel.toLowerCase()==="stylesheet"||u.removeChild(C),C=w}}else u==="body"&&vl(r.ownerDocument.body);u=_}while(u);Uo(o)}function Tx(r,o){var u=r;r=0;do{var p=u.nextSibling;if(u.nodeType===1?o?(u._stashedDisplay=u.style.display,u.style.display="none"):(u.style.display=u._stashedDisplay||"",u.getAttribute("style")===""&&u.removeAttribute("style")):u.nodeType===3&&(o?(u._stashedText=u.nodeValue,u.nodeValue=""):u.nodeValue=u._stashedText||""),p&&p.nodeType===8)if(u=p.data,u==="/$"){if(r===0)break;r--}else u!=="$"&&u!=="$?"&&u!=="$~"&&u!=="$!"||r++;u=p}while(u)}function Xp(r){var o=r.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var u=o;switch(o=o.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":Xp(u),U(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}r.removeChild(u)}}function xN(r,o,u,p){for(;r.nodeType===1;){var _=u;if(r.nodeName.toLowerCase()!==o.toLowerCase()){if(!p&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(p){if(!r[wt])switch(o){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(C=r.getAttribute("rel"),C==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(C!==_.rel||r.getAttribute("href")!==(_.href==null||_.href===""?null:_.href)||r.getAttribute("crossorigin")!==(_.crossOrigin==null?null:_.crossOrigin)||r.getAttribute("title")!==(_.title==null?null:_.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(C=r.getAttribute("src"),(C!==(_.src==null?null:_.src)||r.getAttribute("type")!==(_.type==null?null:_.type)||r.getAttribute("crossorigin")!==(_.crossOrigin==null?null:_.crossOrigin))&&C&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(o==="input"&&r.type==="hidden"){var C=_.name==null?null:""+_.name;if(_.type==="hidden"&&r.getAttribute("name")===C)return r}else return r;if(r=ii(r.nextSibling),r===null)break}return null}function CN(r,o,u){if(o==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!u||(r=ii(r.nextSibling),r===null))return null;return r}function Ex(r,o){for(;r.nodeType!==8;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!o||(r=ii(r.nextSibling),r===null))return null;return r}function Jp(r){return r.data==="$?"||r.data==="$~"}function Kp(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState!=="loading"}function SN(r,o){var u=r.ownerDocument;if(r.data==="$~")r._reactRetry=o;else if(r.data!=="$?"||u.readyState!=="loading")o();else{var p=function(){o(),u.removeEventListener("DOMContentLoaded",p)};u.addEventListener("DOMContentLoaded",p),r._reactRetry=p}}function ii(r){for(;r!=null;r=r.nextSibling){var o=r.nodeType;if(o===1||o===3)break;if(o===8){if(o=r.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return r}var Qp=null;function wx(r){r=r.nextSibling;for(var o=0;r;){if(r.nodeType===8){var u=r.data;if(u==="/$"||u==="/&"){if(o===0)return ii(r.nextSibling);o--}else u!=="$"&&u!=="$!"&&u!=="$?"&&u!=="$~"&&u!=="&"||o++}r=r.nextSibling}return null}function Ax(r){r=r.previousSibling;for(var o=0;r;){if(r.nodeType===8){var u=r.data;if(u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"){if(o===0)return r;o--}else u!=="/$"&&u!=="/&"||o++}r=r.previousSibling}return null}function kx(r,o,u){switch(o=Nu(u),r){case"html":if(r=o.documentElement,!r)throw Error(i(452));return r;case"head":if(r=o.head,!r)throw Error(i(453));return r;case"body":if(r=o.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}function vl(r){for(var o=r.attributes;o.length;)r.removeAttributeNode(o[0]);U(r)}var ri=new Map,Mx=new Set;function Lu(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var dr=P.d;P.d={f:bN,r:TN,D:EN,C:wN,L:AN,m:kN,X:RN,S:MN,M:NN};function bN(){var r=dr.f(),o=bu();return r||o}function TN(r){var o=vt(r);o!==null&&o.tag===5&&o.type==="form"?Yv(o):dr.r(r)}var Fo=typeof document>"u"?null:document;function Rx(r,o,u){var p=Fo;if(p&&typeof o=="string"&&o){var _=Kn(o);_='link[rel="'+r+'"][href="'+_+'"]',typeof u=="string"&&(_+='[crossorigin="'+u+'"]'),Mx.has(_)||(Mx.add(_),r={rel:r,crossOrigin:u,href:o},p.querySelector(_)===null&&(o=p.createElement("link"),je(o,"link",r),qt(o),p.head.appendChild(o)))}}function EN(r){dr.D(r),Rx("dns-prefetch",r,null)}function wN(r,o){dr.C(r,o),Rx("preconnect",r,o)}function AN(r,o,u){dr.L(r,o,u);var p=Fo;if(p&&r&&o){var _='link[rel="preload"][as="'+Kn(o)+'"]';o==="image"&&u&&u.imageSrcSet?(_+='[imagesrcset="'+Kn(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(_+='[imagesizes="'+Kn(u.imageSizes)+'"]')):_+='[href="'+Kn(r)+'"]';var C=_;switch(o){case"style":C=Oo(r);break;case"script":C=Po(r)}ri.has(C)||(r=m({rel:"preload",href:o==="image"&&u&&u.imageSrcSet?void 0:r,as:o},u),ri.set(C,r),p.querySelector(_)!==null||o==="style"&&p.querySelector(_l(C))||o==="script"&&p.querySelector(xl(C))||(o=p.createElement("link"),je(o,"link",r),qt(o),p.head.appendChild(o)))}}function kN(r,o){dr.m(r,o);var u=Fo;if(u&&r){var p=o&&typeof o.as=="string"?o.as:"script",_='link[rel="modulepreload"][as="'+Kn(p)+'"][href="'+Kn(r)+'"]',C=_;switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":C=Po(r)}if(!ri.has(C)&&(r=m({rel:"modulepreload",href:r},o),ri.set(C,r),u.querySelector(_)===null)){switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(xl(C)))return}p=u.createElement("link"),je(p,"link",r),qt(p),u.head.appendChild(p)}}}function MN(r,o,u){dr.S(r,o,u);var p=Fo;if(p&&r){var _=be(p).hoistableStyles,C=Oo(r);o=o||"default";var w=_.get(C);if(!w){var M={loading:0,preload:null};if(w=p.querySelector(_l(C)))M.loading=5;else{r=m({rel:"stylesheet",href:r,"data-precedence":o},u),(u=ri.get(C))&&Zp(r,u);var O=w=p.createElement("link");qt(O),je(O,"link",r),O._p=new Promise(function(K,it){O.onload=K,O.onerror=it}),O.addEventListener("load",function(){M.loading|=1}),O.addEventListener("error",function(){M.loading|=2}),M.loading|=4,Du(w,o,p)}w={type:"stylesheet",instance:w,count:1,state:M},_.set(C,w)}}}function RN(r,o){dr.X(r,o);var u=Fo;if(u&&r){var p=be(u).hoistableScripts,_=Po(r),C=p.get(_);C||(C=u.querySelector(xl(_)),C||(r=m({src:r,async:!0},o),(o=ri.get(_))&&jp(r,o),C=u.createElement("script"),qt(C),je(C,"link",r),u.head.appendChild(C)),C={type:"script",instance:C,count:1,state:null},p.set(_,C))}}function NN(r,o){dr.M(r,o);var u=Fo;if(u&&r){var p=be(u).hoistableScripts,_=Po(r),C=p.get(_);C||(C=u.querySelector(xl(_)),C||(r=m({src:r,async:!0,type:"module"},o),(o=ri.get(_))&&jp(r,o),C=u.createElement("script"),qt(C),je(C,"link",r),u.head.appendChild(C)),C={type:"script",instance:C,count:1,state:null},p.set(_,C))}}function Nx(r,o,u,p){var _=(_=pt.current)?Lu(_):null;if(!_)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(o=Oo(u.href),u=be(_).hoistableStyles,p=u.get(o),p||(p={type:"style",instance:null,count:0,state:null},u.set(o,p)),p):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){r=Oo(u.href);var C=be(_).hoistableStyles,w=C.get(r);if(w||(_=_.ownerDocument||_,w={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},C.set(r,w),(C=_.querySelector(_l(r)))&&!C._p&&(w.instance=C,w.state.loading=5),ri.has(r)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},ri.set(r,u),C||LN(_,r,u,w.state))),o&&p===null)throw Error(i(528,""));return w}if(o&&p!==null)throw Error(i(529,""));return null;case"script":return o=u.async,u=u.src,typeof u=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=Po(u),u=be(_).hoistableScripts,p=u.get(o),p||(p={type:"script",instance:null,count:0,state:null},u.set(o,p)),p):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function Oo(r){return'href="'+Kn(r)+'"'}function _l(r){return'link[rel="stylesheet"]['+r+"]"}function Lx(r){return m({},r,{"data-precedence":r.precedence,precedence:null})}function LN(r,o,u,p){r.querySelector('link[rel="preload"][as="style"]['+o+"]")?p.loading=1:(o=r.createElement("link"),p.preload=o,o.addEventListener("load",function(){return p.loading|=1}),o.addEventListener("error",function(){return p.loading|=2}),je(o,"link",u),qt(o),r.head.appendChild(o))}function Po(r){return'[src="'+Kn(r)+'"]'}function xl(r){return"script[async]"+r}function Dx(r,o,u){if(o.count++,o.instance===null)switch(o.type){case"style":var p=r.querySelector('style[data-href~="'+Kn(u.href)+'"]');if(p)return o.instance=p,qt(p),p;var _=m({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return p=(r.ownerDocument||r).createElement("style"),qt(p),je(p,"style",_),Du(p,u.precedence,r),o.instance=p;case"stylesheet":_=Oo(u.href);var C=r.querySelector(_l(_));if(C)return o.state.loading|=4,o.instance=C,qt(C),C;p=Lx(u),(_=ri.get(_))&&Zp(p,_),C=(r.ownerDocument||r).createElement("link"),qt(C);var w=C;return w._p=new Promise(function(M,O){w.onload=M,w.onerror=O}),je(C,"link",p),o.state.loading|=4,Du(C,u.precedence,r),o.instance=C;case"script":return C=Po(u.src),(_=r.querySelector(xl(C)))?(o.instance=_,qt(_),_):(p=u,(_=ri.get(C))&&(p=m({},u),jp(p,_)),r=r.ownerDocument||r,_=r.createElement("script"),qt(_),je(_,"link",p),r.head.appendChild(_),o.instance=_);case"void":return null;default:throw Error(i(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(p=o.instance,o.state.loading|=4,Du(p,u.precedence,r));return o.instance}function Du(r,o,u){for(var p=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),_=p.length?p[p.length-1]:null,C=_,w=0;w<p.length;w++){var M=p[w];if(M.dataset.precedence===o)C=M;else if(C!==_)break}C?C.parentNode.insertBefore(r,C.nextSibling):(o=u.nodeType===9?u.head:u,o.insertBefore(r,o.firstChild))}function Zp(r,o){r.crossOrigin==null&&(r.crossOrigin=o.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=o.referrerPolicy),r.title==null&&(r.title=o.title)}function jp(r,o){r.crossOrigin==null&&(r.crossOrigin=o.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=o.referrerPolicy),r.integrity==null&&(r.integrity=o.integrity)}var Iu=null;function Ix(r,o,u){if(Iu===null){var p=new Map,_=Iu=new Map;_.set(u,p)}else _=Iu,p=_.get(u),p||(p=new Map,_.set(u,p));if(p.has(r))return p;for(p.set(r,null),u=u.getElementsByTagName(r),_=0;_<u.length;_++){var C=u[_];if(!(C[wt]||C[Ne]||r==="link"&&C.getAttribute("rel")==="stylesheet")&&C.namespaceURI!=="http://www.w3.org/2000/svg"){var w=C.getAttribute(o)||"";w=r+w;var M=p.get(w);M?M.push(C):p.set(w,[C])}}return p}function Bx(r,o,u){r=r.ownerDocument||r,r.head.insertBefore(u,o==="title"?r.querySelector("head > title"):null)}function DN(r,o,u){if(u===1||o.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return r=o.disabled,typeof o.precedence=="string"&&r==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function Fx(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}function IN(r,o,u,p){if(u.type==="stylesheet"&&(typeof p.media!="string"||matchMedia(p.media).matches!==!1)&&(u.state.loading&4)===0){if(u.instance===null){var _=Oo(p.href),C=o.querySelector(_l(_));if(C){o=C._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(r.count++,r=Bu.bind(r),o.then(r,r)),u.state.loading|=4,u.instance=C,qt(C);return}C=o.ownerDocument||o,p=Lx(p),(_=ri.get(_))&&Zp(p,_),C=C.createElement("link"),qt(C);var w=C;w._p=new Promise(function(M,O){w.onload=M,w.onerror=O}),je(C,"link",p),u.instance=C}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(u,o),(o=u.state.preload)&&(u.state.loading&3)===0&&(r.count++,u=Bu.bind(r),o.addEventListener("load",u),o.addEventListener("error",u))}}var tg=0;function BN(r,o){return r.stylesheets&&r.count===0&&Ou(r,r.stylesheets),0<r.count||0<r.imgCount?function(u){var p=setTimeout(function(){if(r.stylesheets&&Ou(r,r.stylesheets),r.unsuspend){var C=r.unsuspend;r.unsuspend=null,C()}},6e4+o);0<r.imgBytes&&tg===0&&(tg=62500*gN());var _=setTimeout(function(){if(r.waitingForImages=!1,r.count===0&&(r.stylesheets&&Ou(r,r.stylesheets),r.unsuspend)){var C=r.unsuspend;r.unsuspend=null,C()}},(r.imgBytes>tg?50:800)+o);return r.unsuspend=u,function(){r.unsuspend=null,clearTimeout(p),clearTimeout(_)}}:null}function Bu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ou(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var Fu=null;function Ou(r,o){r.stylesheets=null,r.unsuspend!==null&&(r.count++,Fu=new Map,o.forEach(FN,r),Fu=null,Bu.call(r))}function FN(r,o){if(!(o.state.loading&4)){var u=Fu.get(r);if(u)var p=u.get(null);else{u=new Map,Fu.set(r,u);for(var _=r.querySelectorAll("link[data-precedence],style[data-precedence]"),C=0;C<_.length;C++){var w=_[C];(w.nodeName==="LINK"||w.getAttribute("media")!=="not all")&&(u.set(w.dataset.precedence,w),p=w)}p&&u.set(null,p)}_=o.instance,w=_.getAttribute("data-precedence"),C=u.get(w)||p,C===p&&u.set(null,_),u.set(w,_),this.count++,p=Bu.bind(this),_.addEventListener("load",p),_.addEventListener("error",p),C?C.parentNode.insertBefore(_,C.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(_,r.firstChild)),o.state.loading|=4}}var Cl={$$typeof:R,Provider:null,Consumer:null,_currentValue:z,_currentValue2:z,_threadCount:0};function ON(r,o,u,p,_,C,w,M,O){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Rs(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Rs(0),this.hiddenUpdates=Rs(null),this.identifierPrefix=p,this.onUncaughtError=_,this.onCaughtError=C,this.onRecoverableError=w,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=O,this.incompleteTransitions=new Map}function Ox(r,o,u,p,_,C,w,M,O,K,it,ot){return r=new ON(r,o,u,w,O,K,it,ot,M),o=1,C===!0&&(o|=24),C=Pn(3,null,null,o),r.current=C,C.stateNode=r,o=Dd(),o.refCount++,r.pooledCache=o,o.refCount++,C.memoizedState={element:p,isDehydrated:u,cache:o},Od(C),r}function Px(r){return r?(r=go,r):go}function Ux(r,o,u,p,_,C){_=Px(_),p.context===null?p.context=_:p.pendingContext=_,p=Fr(o),p.payload={element:u},C=C===void 0?null:C,C!==null&&(p.callback=C),u=Or(r,p,o),u!==null&&(Rn(u,r,o),js(u,r,o))}function $x(r,o){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var u=r.retryLane;r.retryLane=u!==0&&u<o?u:o}}function eg(r,o){$x(r,o),(r=r.alternate)&&$x(r,o)}function zx(r){if(r.tag===13||r.tag===31){var o=va(r,67108864);o!==null&&Rn(o,r,67108864),eg(r,67108864)}}function qx(r){if(r.tag===13||r.tag===31){var o=Hn();o=bn(o);var u=va(r,o);u!==null&&Rn(u,r,o),eg(r,o)}}var Pu=!0;function PN(r,o,u,p){var _=D.T;D.T=null;var C=P.p;try{P.p=2,ng(r,o,u,p)}finally{P.p=C,D.T=_}}function UN(r,o,u,p){var _=D.T;D.T=null;var C=P.p;try{P.p=8,ng(r,o,u,p)}finally{P.p=C,D.T=_}}function ng(r,o,u,p){if(Pu){var _=ig(p);if(_===null)qp(r,o,p,Uu,u),Gx(r,p);else if(zN(_,r,o,u,p))p.stopPropagation();else if(Gx(r,p),o&4&&-1<$N.indexOf(r)){for(;_!==null;){var C=vt(_);if(C!==null)switch(C.tag){case 3:if(C=C.stateNode,C.current.memoizedState.isDehydrated){var w=Fn(C.pendingLanes);if(w!==0){var M=C;for(M.pendingLanes|=2,M.entangledLanes|=2;w;){var O=1<<31-Re(w);M.entanglements[1]|=O,w&=~O}Di(C),(ie&6)===0&&(Cu=Xe()+500,gl(0))}}break;case 31:case 13:M=va(C,2),M!==null&&Rn(M,C,2),bu(),eg(C,2)}if(C=ig(p),C===null&&qp(r,o,p,Uu,u),C===_)break;_=C}_!==null&&p.stopPropagation()}else qp(r,o,p,null,u)}}function ig(r){return r=ad(r),rg(r)}var Uu=null;function rg(r){if(Uu=null,r=ut(r),r!==null){var o=s(r);if(o===null)r=null;else{var u=o.tag;if(u===13){if(r=l(o),r!==null)return r;r=null}else if(u===31){if(r=c(o),r!==null)return r;r=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;r=null}else o!==r&&(r=null)}}return Uu=r,null}function Hx(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(da()){case Vi:return 2;case Bn:return 8;case kr:case Ac:return 32;case ws:return 268435456;default:return 32}default:return 32}}var ag=!1,Xr=null,Jr=null,Kr=null,Sl=new Map,bl=new Map,Qr=[],$N="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Gx(r,o){switch(r){case"focusin":case"focusout":Xr=null;break;case"dragenter":case"dragleave":Jr=null;break;case"mouseover":case"mouseout":Kr=null;break;case"pointerover":case"pointerout":Sl.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":bl.delete(o.pointerId)}}function Tl(r,o,u,p,_,C){return r===null||r.nativeEvent!==C?(r={blockedOn:o,domEventName:u,eventSystemFlags:p,nativeEvent:C,targetContainers:[_]},o!==null&&(o=vt(o),o!==null&&zx(o)),r):(r.eventSystemFlags|=p,o=r.targetContainers,_!==null&&o.indexOf(_)===-1&&o.push(_),r)}function zN(r,o,u,p,_){switch(o){case"focusin":return Xr=Tl(Xr,r,o,u,p,_),!0;case"dragenter":return Jr=Tl(Jr,r,o,u,p,_),!0;case"mouseover":return Kr=Tl(Kr,r,o,u,p,_),!0;case"pointerover":var C=_.pointerId;return Sl.set(C,Tl(Sl.get(C)||null,r,o,u,p,_)),!0;case"gotpointercapture":return C=_.pointerId,bl.set(C,Tl(bl.get(C)||null,r,o,u,p,_)),!0}return!1}function Vx(r){var o=ut(r.target);if(o!==null){var u=s(o);if(u!==null){if(o=u.tag,o===13){if(o=l(u),o!==null){r.blockedOn=o,Bs(r.priority,function(){qx(u)});return}}else if(o===31){if(o=c(u),o!==null){r.blockedOn=o,Bs(r.priority,function(){qx(u)});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){r.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}r.blockedOn=null}function $u(r){if(r.blockedOn!==null)return!1;for(var o=r.targetContainers;0<o.length;){var u=ig(r.nativeEvent);if(u===null){u=r.nativeEvent;var p=new u.constructor(u.type,u);rd=p,u.target.dispatchEvent(p),rd=null}else return o=vt(u),o!==null&&zx(o),r.blockedOn=u,!1;o.shift()}return!0}function Yx(r,o,u){$u(r)&&u.delete(o)}function qN(){ag=!1,Xr!==null&&$u(Xr)&&(Xr=null),Jr!==null&&$u(Jr)&&(Jr=null),Kr!==null&&$u(Kr)&&(Kr=null),Sl.forEach(Yx),bl.forEach(Yx)}function zu(r,o){r.blockedOn===o&&(r.blockedOn=null,ag||(ag=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,qN)))}var qu=null;function Wx(r){qu!==r&&(qu=r,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){qu===r&&(qu=null);for(var o=0;o<r.length;o+=3){var u=r[o],p=r[o+1],_=r[o+2];if(typeof p!="function"){if(rg(p||u)===null)continue;break}var C=vt(u);C!==null&&(r.splice(o,3),o-=3,ip(C,{pending:!0,data:_,method:u.method,action:p},p,_))}}))}function Uo(r){function o(O){return zu(O,r)}Xr!==null&&zu(Xr,r),Jr!==null&&zu(Jr,r),Kr!==null&&zu(Kr,r),Sl.forEach(o),bl.forEach(o);for(var u=0;u<Qr.length;u++){var p=Qr[u];p.blockedOn===r&&(p.blockedOn=null)}for(;0<Qr.length&&(u=Qr[0],u.blockedOn===null);)Vx(u),u.blockedOn===null&&Qr.shift();if(u=(r.ownerDocument||r).$$reactFormReplay,u!=null)for(p=0;p<u.length;p+=3){var _=u[p],C=u[p+1],w=_[xe]||null;if(typeof C=="function")w||Wx(u);else if(w){var M=null;if(C&&C.hasAttribute("formAction")){if(_=C,w=C[xe]||null)M=w.formAction;else if(rg(_)!==null)continue}else M=w.action;typeof M=="function"?u[p+1]=M:(u.splice(p,3),p-=3),Wx(u)}}}function Xx(){function r(C){C.canIntercept&&C.info==="react-transition"&&C.intercept({handler:function(){return new Promise(function(w){return _=w})},focusReset:"manual",scroll:"manual"})}function o(){_!==null&&(_(),_=null),p||setTimeout(u,20)}function u(){if(!p&&!navigation.transition){var C=navigation.currentEntry;C&&C.url!=null&&navigation.navigate(C.url,{state:C.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var p=!1,_=null;return navigation.addEventListener("navigate",r),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(u,100),function(){p=!0,navigation.removeEventListener("navigate",r),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),_!==null&&(_(),_=null)}}}function og(r){this._internalRoot=r}Hu.prototype.render=og.prototype.render=function(r){var o=this._internalRoot;if(o===null)throw Error(i(409));var u=o.current,p=Hn();Ux(u,p,r,o,null,null)},Hu.prototype.unmount=og.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var o=r.containerInfo;Ux(r.current,2,null,r,null,null),bu(),o[Ji]=null}};function Hu(r){this._internalRoot=r}Hu.prototype.unstable_scheduleHydration=function(r){if(r){var o=Is();r={blockedOn:null,target:r,priority:o};for(var u=0;u<Qr.length&&o!==0&&o<Qr[u].priority;u++);Qr.splice(u,0,r),u===0&&Vx(r)}};var Jx=t.version;if(Jx!=="19.2.3")throw Error(i(527,Jx,"19.2.3"));P.findDOMNode=function(r){var o=r._reactInternals;if(o===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=h(o),r=r!==null?d(r):null,r=r===null?null:r.stateNode,r};var HN={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:D,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Gu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Gu.isDisabled&&Gu.supportsFiber)try{ki=Gu.inject(HN),Ge=Gu}catch{}}return wl.createRoot=function(r,o){if(!a(r))throw Error(i(299));var u=!1,p="",_=n_,C=i_,w=r_;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onUncaughtError!==void 0&&(_=o.onUncaughtError),o.onCaughtError!==void 0&&(C=o.onCaughtError),o.onRecoverableError!==void 0&&(w=o.onRecoverableError)),o=Ox(r,1,!1,null,null,u,p,null,_,C,w,Xx),r[Ji]=o.current,zp(r),new og(o)},wl.hydrateRoot=function(r,o,u){if(!a(r))throw Error(i(299));var p=!1,_="",C=n_,w=i_,M=r_,O=null;return u!=null&&(u.unstable_strictMode===!0&&(p=!0),u.identifierPrefix!==void 0&&(_=u.identifierPrefix),u.onUncaughtError!==void 0&&(C=u.onUncaughtError),u.onCaughtError!==void 0&&(w=u.onCaughtError),u.onRecoverableError!==void 0&&(M=u.onRecoverableError),u.formState!==void 0&&(O=u.formState)),o=Ox(r,1,!0,o,u??null,p,_,O,C,w,M,Xx),o.context=Px(null),u=o.current,p=Hn(),p=bn(p),_=Fr(p),_.callback=null,Or(u,_,p),u=p,o.current.lanes=u,Mr(o,u),Di(o),r[Ji]=o.current,zp(r),new Hu(o)},wl.version="19.2.3",wl}var aC;function eL(){if(aC)return cg.exports;aC=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),cg.exports=tL(),cg.exports}var nL=eL();const iL=Km(nL);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rL=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),aL=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,i)=>i?i.toUpperCase():n.toLowerCase()),oC=e=>{const t=aL(e);return t.charAt(0).toUpperCase()+t.slice(1)},T1=(...e)=>e.filter((t,n,i)=>!!t&&t.trim()!==""&&i.indexOf(t)===n).join(" ").trim(),oL=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var sL={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lL=ae.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:a="",children:s,iconNode:l,...c},f)=>ae.createElement("svg",{ref:f,...sL,width:t,height:t,stroke:e,strokeWidth:i?Number(n)*24/Number(t):n,className:T1("lucide",a),...!s&&!oL(c)&&{"aria-hidden":"true"},...c},[...l.map(([h,d])=>ae.createElement(h,d)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const He=(e,t)=>{const n=ae.forwardRef(({className:i,...a},s)=>ae.createElement(lL,{ref:s,iconNode:t,className:T1(`lucide-${rL(oC(e))}`,`lucide-${e}`,i),...a}));return n.displayName=oC(e),n};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cL=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],Vu=He("bot",cL);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uL=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],hL=He("chevron-down",uL);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fL=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],dL=He("chevron-left",fL);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pL=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],uh=He("chevron-right",pL);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gL=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],mL=He("circle-alert",gL);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yL=[["path",{d:"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z",key:"kmsa83"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],vL=He("circle-play",yL);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _L=[["path",{d:"m18 16 4-4-4-4",key:"1inbqp"}],["path",{d:"m6 8-4 4 4 4",key:"15zrgr"}],["path",{d:"m14.5 4-5 16",key:"e7oirm"}]],xL=He("code-xml",_L);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CL=[["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M17 20v2",key:"1rnc9c"}],["path",{d:"M17 2v2",key:"11trls"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M2 17h2",key:"7oei6x"}],["path",{d:"M2 7h2",key:"asdhe0"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"M20 17h2",key:"1fpfkl"}],["path",{d:"M20 7h2",key:"1o8tra"}],["path",{d:"M7 20v2",key:"4gnj0m"}],["path",{d:"M7 2v2",key:"1i4yhu"}],["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"8",y:"8",width:"8",height:"8",rx:"1",key:"z9xiuo"}]],SL=He("cpu",CL);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bL=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 12.5 8 15l2 2.5",key:"1tg20x"}],["path",{d:"m14 12.5 2 2.5-2 2.5",key:"yinavb"}]],TL=He("file-code",bL);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EL=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],wL=He("layers",EL);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AL=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],kh=He("loader-circle",AL);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kL=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],ML=He("message-circle",kL);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RL=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],NL=He("pause",RL);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LL=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],DL=He("play",LL);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IL=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],BL=He("rotate-ccw",IL);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FL=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],OL=He("search",FL);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PL=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],UL=He("send",PL);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $L=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],zL=He("sparkles",$L);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qL=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],HL=He("user",qL);var mi=(e=>(e.DIAGRAMS="DIAGRAMS",e.VISUALIZER="VISUALIZER",e.CHAT="CHAT",e))(mi||{}),GL={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let VL,YL;function WL(){return{geminiUrl:VL,vertexUrl:YL}}function XL(e,t,n,i){var a,s;if(!(e!=null&&e.baseUrl)){const l=WL();return t?(a=l.vertexUrl)!==null&&a!==void 0?a:n:(s=l.geminiUrl)!==null&&s!==void 0?s:i}return e.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class br{}function mt(e,t){const n=/\{([^}]+)\}/g;return e.replace(n,(i,a)=>{if(Object.prototype.hasOwnProperty.call(t,a)){const s=t[a];return s!=null?String(s):""}else throw new Error(`Key '${a}' not found in valueMap.`)})}function y(e,t,n){for(let s=0;s<t.length-1;s++){const l=t[s];if(l.endsWith("[]")){const c=l.slice(0,-2);if(!(c in e))if(Array.isArray(n))e[c]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${l}`);if(Array.isArray(e[c])){const f=e[c];if(Array.isArray(n))for(let h=0;h<f.length;h++){const d=f[h];y(d,t.slice(s+1),n[h])}else for(const h of f)y(h,t.slice(s+1),n)}return}else if(l.endsWith("[0]")){const c=l.slice(0,-3);c in e||(e[c]=[{}]);const f=e[c];y(f[0],t.slice(s+1),n);return}(!e[l]||typeof e[l]!="object")&&(e[l]={}),e=e[l]}const i=t[t.length-1],a=e[i];if(a!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===a)return;if(typeof a=="object"&&typeof n=="object"&&a!==null&&n!==null)Object.assign(a,n);else throw new Error(`Cannot set value for an existing key. Key: ${i}`)}else i==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(e,n):e[i]=n}function g(e,t,n=void 0){try{if(t.length===1&&t[0]==="_self")return e;for(let i=0;i<t.length;i++){if(typeof e!="object"||e===null)return n;const a=t[i];if(a.endsWith("[]")){const s=a.slice(0,-2);if(s in e){const l=e[s];return Array.isArray(l)?l.map(c=>g(c,t.slice(i+1),n)):n}else return n}else e=e[a]}return e}catch(i){if(i instanceof TypeError)return n;throw i}}function JL(e,t){for(const[n,i]of Object.entries(t)){const a=n.split("."),s=i.split("."),l=new Set;let c=-1;for(let f=0;f<a.length;f++)if(a[f]==="*"){c=f;break}if(c!==-1&&s.length>c)for(let f=c;f<s.length;f++){const h=s[f];h!=="*"&&!h.endsWith("[]")&&!h.endsWith("[0]")&&l.add(h)}Og(e,a,s,0,l)}}function Og(e,t,n,i,a){if(i>=t.length||typeof e!="object"||e===null)return;const s=t[i];if(s.endsWith("[]")){const l=s.slice(0,-2),c=e;if(l in c&&Array.isArray(c[l]))for(const f of c[l])Og(f,t,n,i+1,a)}else if(s==="*"){if(typeof e=="object"&&e!==null&&!Array.isArray(e)){const l=e,c=Object.keys(l).filter(h=>!h.startsWith("_")&&!a.has(h)),f={};for(const h of c)f[h]=l[h];for(const[h,d]of Object.entries(f)){const m=[];for(const v of n.slice(i))v==="*"?m.push(h):m.push(v);y(l,m,d)}for(const h of c)delete l[h]}}else{const l=e;s in l&&Og(l[s],t,n,i+1,a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Zm(e){if(typeof e!="string")throw new Error("fromImageBytes must be a string");return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function KL(e){const t={},n=g(e,["operationName"]);n!=null&&y(t,["operationName"],n);const i=g(e,["resourceName"]);return i!=null&&y(t,["_url","resourceName"],i),t}function QL(e){const t={},n=g(e,["name"]);n!=null&&y(t,["name"],n);const i=g(e,["metadata"]);i!=null&&y(t,["metadata"],i);const a=g(e,["done"]);a!=null&&y(t,["done"],a);const s=g(e,["error"]);s!=null&&y(t,["error"],s);const l=g(e,["response","generateVideoResponse"]);return l!=null&&y(t,["response"],jL(l)),t}function ZL(e){const t={},n=g(e,["name"]);n!=null&&y(t,["name"],n);const i=g(e,["metadata"]);i!=null&&y(t,["metadata"],i);const a=g(e,["done"]);a!=null&&y(t,["done"],a);const s=g(e,["error"]);s!=null&&y(t,["error"],s);const l=g(e,["response"]);return l!=null&&y(t,["response"],tD(l)),t}function jL(e){const t={},n=g(e,["generatedSamples"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(l=>eD(l))),y(t,["generatedVideos"],s)}const i=g(e,["raiMediaFilteredCount"]);i!=null&&y(t,["raiMediaFilteredCount"],i);const a=g(e,["raiMediaFilteredReasons"]);return a!=null&&y(t,["raiMediaFilteredReasons"],a),t}function tD(e){const t={},n=g(e,["videos"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(l=>nD(l))),y(t,["generatedVideos"],s)}const i=g(e,["raiMediaFilteredCount"]);i!=null&&y(t,["raiMediaFilteredCount"],i);const a=g(e,["raiMediaFilteredReasons"]);return a!=null&&y(t,["raiMediaFilteredReasons"],a),t}function eD(e){const t={},n=g(e,["video"]);return n!=null&&y(t,["video"],lD(n)),t}function nD(e){const t={},n=g(e,["_self"]);return n!=null&&y(t,["video"],cD(n)),t}function iD(e){const t={},n=g(e,["operationName"]);return n!=null&&y(t,["_url","operationName"],n),t}function rD(e){const t={},n=g(e,["operationName"]);return n!=null&&y(t,["_url","operationName"],n),t}function aD(e){const t={},n=g(e,["name"]);n!=null&&y(t,["name"],n);const i=g(e,["metadata"]);i!=null&&y(t,["metadata"],i);const a=g(e,["done"]);a!=null&&y(t,["done"],a);const s=g(e,["error"]);s!=null&&y(t,["error"],s);const l=g(e,["response"]);return l!=null&&y(t,["response"],oD(l)),t}function oD(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const i=g(e,["parent"]);i!=null&&y(t,["parent"],i);const a=g(e,["documentName"]);return a!=null&&y(t,["documentName"],a),t}function E1(e){const t={},n=g(e,["name"]);n!=null&&y(t,["name"],n);const i=g(e,["metadata"]);i!=null&&y(t,["metadata"],i);const a=g(e,["done"]);a!=null&&y(t,["done"],a);const s=g(e,["error"]);s!=null&&y(t,["error"],s);const l=g(e,["response"]);return l!=null&&y(t,["response"],sD(l)),t}function sD(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const i=g(e,["parent"]);i!=null&&y(t,["parent"],i);const a=g(e,["documentName"]);return a!=null&&y(t,["documentName"],a),t}function lD(e){const t={},n=g(e,["uri"]);n!=null&&y(t,["uri"],n);const i=g(e,["encodedVideo"]);i!=null&&y(t,["videoBytes"],Zm(i));const a=g(e,["encoding"]);return a!=null&&y(t,["mimeType"],a),t}function cD(e){const t={},n=g(e,["gcsUri"]);n!=null&&y(t,["uri"],n);const i=g(e,["bytesBase64Encoded"]);i!=null&&y(t,["videoBytes"],Zm(i));const a=g(e,["mimeType"]);return a!=null&&y(t,["mimeType"],a),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var sC;(function(e){e.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",e.OUTCOME_OK="OUTCOME_OK",e.OUTCOME_FAILED="OUTCOME_FAILED",e.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(sC||(sC={}));var lC;(function(e){e.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",e.PYTHON="PYTHON"})(lC||(lC={}));var cC;(function(e){e.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",e.SILENT="SILENT",e.WHEN_IDLE="WHEN_IDLE",e.INTERRUPT="INTERRUPT"})(cC||(cC={}));var Kt;(function(e){e.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",e.STRING="STRING",e.NUMBER="NUMBER",e.INTEGER="INTEGER",e.BOOLEAN="BOOLEAN",e.ARRAY="ARRAY",e.OBJECT="OBJECT",e.NULL="NULL"})(Kt||(Kt={}));var uC;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(uC||(uC={}));var hC;(function(e){e.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",e.SIMPLE_SEARCH="SIMPLE_SEARCH",e.ELASTIC_SEARCH="ELASTIC_SEARCH"})(hC||(hC={}));var fC;(function(e){e.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",e.NO_AUTH="NO_AUTH",e.API_KEY_AUTH="API_KEY_AUTH",e.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",e.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",e.OAUTH="OAUTH",e.OIDC_AUTH="OIDC_AUTH"})(fC||(fC={}));var dC;(function(e){e.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",e.HTTP_IN_QUERY="HTTP_IN_QUERY",e.HTTP_IN_HEADER="HTTP_IN_HEADER",e.HTTP_IN_PATH="HTTP_IN_PATH",e.HTTP_IN_BODY="HTTP_IN_BODY",e.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(dC||(dC={}));var pC;(function(e){e.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",e.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",e.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",e.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(pC||(pC={}));var gC;(function(e){e.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH",e.MINIMAL="MINIMAL"})(gC||(gC={}));var mC;(function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",e.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",e.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",e.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",e.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",e.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(mC||(mC={}));var yC;(function(e){e.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",e.SEVERITY="SEVERITY",e.PROBABILITY="PROBABILITY"})(yC||(yC={}));var vC;(function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE",e.OFF="OFF"})(vC||(vC={}));var _C;(function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.SPII="SPII",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.IMAGE_SAFETY="IMAGE_SAFETY",e.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",e.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",e.NO_IMAGE="NO_IMAGE",e.IMAGE_RECITATION="IMAGE_RECITATION",e.IMAGE_OTHER="IMAGE_OTHER"})(_C||(_C={}));var xC;(function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"})(xC||(xC={}));var CC;(function(e){e.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",e.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",e.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",e.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",e.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(CC||(CC={}));var SC;(function(e){e.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",e.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",e.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",e.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",e.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(SC||(SC={}));var bC;(function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.IMAGE_SAFETY="IMAGE_SAFETY",e.MODEL_ARMOR="MODEL_ARMOR",e.JAILBREAK="JAILBREAK"})(bC||(bC={}));var TC;(function(e){e.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",e.ON_DEMAND="ON_DEMAND",e.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(TC||(TC={}));var Mh;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.AUDIO="AUDIO"})(Mh||(Mh={}));var EC;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(EC||(EC={}));var wC;(function(e){e.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",e.TUNING_MODE_FULL="TUNING_MODE_FULL",e.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(wC||(wC={}));var AC;(function(e){e.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",e.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",e.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",e.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",e.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",e.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",e.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(AC||(AC={}));var Pg;(function(e){e.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",e.JOB_STATE_QUEUED="JOB_STATE_QUEUED",e.JOB_STATE_PENDING="JOB_STATE_PENDING",e.JOB_STATE_RUNNING="JOB_STATE_RUNNING",e.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",e.JOB_STATE_FAILED="JOB_STATE_FAILED",e.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",e.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",e.JOB_STATE_PAUSED="JOB_STATE_PAUSED",e.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",e.JOB_STATE_UPDATING="JOB_STATE_UPDATING",e.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Pg||(Pg={}));var kC;(function(e){e.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",e.TUNING_TASK_I2V="TUNING_TASK_I2V",e.TUNING_TASK_T2V="TUNING_TASK_T2V",e.TUNING_TASK_R2V="TUNING_TASK_R2V"})(kC||(kC={}));var MC;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",e.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(MC||(MC={}));var RC;(function(e){e.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",e.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",e.BALANCED="BALANCED",e.PRIORITIZE_COST="PRIORITIZE_COST"})(RC||(RC={}));var NC;(function(e){e.UNSPECIFIED="UNSPECIFIED",e.BLOCKING="BLOCKING",e.NON_BLOCKING="NON_BLOCKING"})(NC||(NC={}));var LC;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(LC||(LC={}));var DC;(function(e){e.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",e.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(DC||(DC={}));var IC;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE",e.VALIDATED="VALIDATED"})(IC||(IC={}));var BC;(function(e){e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"})(BC||(BC={}));var FC;(function(e){e.DONT_ALLOW="DONT_ALLOW",e.ALLOW_ADULT="ALLOW_ADULT",e.ALLOW_ALL="ALLOW_ALL"})(FC||(FC={}));var OC;(function(e){e.auto="auto",e.en="en",e.ja="ja",e.ko="ko",e.hi="hi",e.zh="zh",e.pt="pt",e.es="es"})(OC||(OC={}));var PC;(function(e){e.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",e.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",e.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",e.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",e.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(PC||(PC={}));var UC;(function(e){e.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",e.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",e.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",e.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(UC||(UC={}));var $C;(function(e){e.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",e.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",e.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",e.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})($C||($C={}));var zC;(function(e){e.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",e.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",e.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",e.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",e.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",e.EDIT_MODE_STYLE="EDIT_MODE_STYLE",e.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",e.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(zC||(zC={}));var qC;(function(e){e.FOREGROUND="FOREGROUND",e.BACKGROUND="BACKGROUND",e.PROMPT="PROMPT",e.SEMANTIC="SEMANTIC",e.INTERACTIVE="INTERACTIVE"})(qC||(qC={}));var HC;(function(e){e.ASSET="ASSET",e.STYLE="STYLE"})(HC||(HC={}));var GC;(function(e){e.INSERT="INSERT",e.REMOVE="REMOVE",e.REMOVE_STATIC="REMOVE_STATIC",e.OUTPAINT="OUTPAINT"})(GC||(GC={}));var VC;(function(e){e.OPTIMIZED="OPTIMIZED",e.LOSSLESS="LOSSLESS"})(VC||(VC={}));var YC;(function(e){e.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",e.PREFERENCE_TUNING="PREFERENCE_TUNING"})(YC||(YC={}));var WC;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.STATE_PENDING="STATE_PENDING",e.STATE_ACTIVE="STATE_ACTIVE",e.STATE_FAILED="STATE_FAILED"})(WC||(WC={}));var XC;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.PROCESSING="PROCESSING",e.ACTIVE="ACTIVE",e.FAILED="FAILED"})(XC||(XC={}));var JC;(function(e){e.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",e.UPLOADED="UPLOADED",e.GENERATED="GENERATED"})(JC||(JC={}));var KC;(function(e){e.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.RESPONSE_REJECTED="RESPONSE_REJECTED",e.NEED_MORE_INPUT="NEED_MORE_INPUT"})(KC||(KC={}));var QC;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.VIDEO="VIDEO",e.AUDIO="AUDIO",e.DOCUMENT="DOCUMENT"})(QC||(QC={}));var ZC;(function(e){e.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",e.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",e.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(ZC||(ZC={}));var jC;(function(e){e.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",e.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",e.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(jC||(jC={}));var tS;(function(e){e.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",e.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",e.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(tS||(tS={}));var eS;(function(e){e.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",e.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",e.NO_INTERRUPTION="NO_INTERRUPTION"})(eS||(eS={}));var nS;(function(e){e.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",e.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",e.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(nS||(nS={}));var iS;(function(e){e.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",e.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",e.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",e.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",e.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",e.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",e.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",e.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",e.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",e.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",e.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",e.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",e.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(iS||(iS={}));var rS;(function(e){e.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",e.QUALITY="QUALITY",e.DIVERSITY="DIVERSITY",e.VOCALIZATION="VOCALIZATION"})(rS||(rS={}));var Vo;(function(e){e.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",e.PLAY="PLAY",e.PAUSE="PAUSE",e.STOP="STOP",e.RESET_CONTEXT="RESET_CONTEXT"})(Vo||(Vo={}));class Ug{constructor(t){const n={};for(const i of t.headers.entries())n[i[0]]=i[1];this.headers=n,this.responseInternal=t}json(){return this.responseInternal.json()}}class Al{get text(){var t,n,i,a,s,l,c,f;if(((a=(i=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let h="",d=!1;const m=[];for(const v of(f=(c=(l=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||l===void 0?void 0:l.content)===null||c===void 0?void 0:c.parts)!==null&&f!==void 0?f:[]){for(const[x,S]of Object.entries(v))x!=="text"&&x!=="thought"&&x!=="thoughtSignature"&&(S!==null||S!==void 0)&&m.push(x);if(typeof v.text=="string"){if(typeof v.thought=="boolean"&&v.thought)continue;d=!0,h+=v.text}}return m.length>0&&console.warn(`there are non-text parts ${m} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),d?h:void 0}get data(){var t,n,i,a,s,l,c,f;if(((a=(i=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let h="";const d=[];for(const m of(f=(c=(l=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||l===void 0?void 0:l.content)===null||c===void 0?void 0:c.parts)!==null&&f!==void 0?f:[]){for(const[v,x]of Object.entries(m))v!=="inlineData"&&(x!==null||x!==void 0)&&d.push(v);m.inlineData&&typeof m.inlineData.data=="string"&&(h+=atob(m.inlineData.data))}return d.length>0&&console.warn(`there are non-data parts ${d} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),h.length>0?btoa(h):void 0}get functionCalls(){var t,n,i,a,s,l,c,f;if(((a=(i=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const h=(f=(c=(l=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||l===void 0?void 0:l.content)===null||c===void 0?void 0:c.parts)===null||f===void 0?void 0:f.filter(d=>d.functionCall).map(d=>d.functionCall).filter(d=>d!==void 0);if((h==null?void 0:h.length)!==0)return h}get executableCode(){var t,n,i,a,s,l,c,f,h;if(((a=(i=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const d=(f=(c=(l=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||l===void 0?void 0:l.content)===null||c===void 0?void 0:c.parts)===null||f===void 0?void 0:f.filter(m=>m.executableCode).map(m=>m.executableCode).filter(m=>m!==void 0);if((d==null?void 0:d.length)!==0)return(h=d==null?void 0:d[0])===null||h===void 0?void 0:h.code}get codeExecutionResult(){var t,n,i,a,s,l,c,f,h;if(((a=(i=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const d=(f=(c=(l=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||l===void 0?void 0:l.content)===null||c===void 0?void 0:c.parts)===null||f===void 0?void 0:f.filter(m=>m.codeExecutionResult).map(m=>m.codeExecutionResult).filter(m=>m!==void 0);if((d==null?void 0:d.length)!==0)return(h=d==null?void 0:d[0])===null||h===void 0?void 0:h.output}}class aS{}class oS{}class uD{}class hD{}class fD{}class dD{}class sS{}class lS{}class cS{}class pD{}class Rh{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){const i=new Rh;let a;const s=t;return n?a=ZL(s):a=QL(s),Object.assign(i,a),i}}class uS{}class hS{}class fS{}class dS{}class gD{}class mD{}class yD{}class jm{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){const i=new jm,s=aD(t);return Object.assign(i,s),i}}class vD{}class _D{}class xD{}class pS{}class CD{get text(){var t,n,i;let a="",s=!1;const l=[];for(const c of(i=(n=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&i!==void 0?i:[]){for(const[f,h]of Object.entries(c))f!=="text"&&f!=="thought"&&h!==null&&l.push(f);if(typeof c.text=="string"){if(typeof c.thought=="boolean"&&c.thought)continue;s=!0,a+=c.text}}return l.length>0&&console.warn(`there are non-text parts ${l} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),s?a:void 0}get data(){var t,n,i;let a="";const s=[];for(const l of(i=(n=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&i!==void 0?i:[]){for(const[c,f]of Object.entries(l))c!=="inlineData"&&f!==null&&s.push(c);l.inlineData&&typeof l.inlineData.data=="string"&&(a+=atob(l.inlineData.data))}return s.length>0&&console.warn(`there are non-data parts ${s} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),a.length>0?btoa(a):void 0}}class SD{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class ty{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){const i=new ty,s=E1(t);return Object.assign(i,s),i}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ee(e,t){if(!t||typeof t!="string")throw new Error("model is required and must be a string");if(t.includes("..")||t.includes("?")||t.includes("&"))throw new Error("invalid model parameter");if(e.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const n=t.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${t}`}else return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function w1(e,t){const n=ee(e,t);return n?n.startsWith("publishers/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}`:n.startsWith("models/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/publishers/google/${n}`:n:""}function A1(e){return Array.isArray(e)?e.map(t=>Nh(t)):[Nh(e)]}function Nh(e){if(typeof e=="object"&&e!==null)return e;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof e}`)}function k1(e){const t=Nh(e);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function M1(e){const t=Nh(e);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function gS(e){if(e==null)throw new Error("PartUnion is required");if(typeof e=="object")return e;if(typeof e=="string")return{text:e};throw new Error(`Unsupported part type: ${typeof e}`)}function R1(e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("PartListUnion is required");return Array.isArray(e)?e.map(t=>gS(t)):[gS(e)]}function $g(e){return e!=null&&typeof e=="object"&&"parts"in e&&Array.isArray(e.parts)}function mS(e){return e!=null&&typeof e=="object"&&"functionCall"in e}function yS(e){return e!=null&&typeof e=="object"&&"functionResponse"in e}function sn(e){if(e==null)throw new Error("ContentUnion is required");return $g(e)?e:{role:"user",parts:R1(e)}}function ey(e,t){if(!t)return[];if(e.isVertexAI()&&Array.isArray(t))return t.flatMap(n=>{const i=sn(n);return i.parts&&i.parts.length>0&&i.parts[0].text!==void 0?[i.parts[0].text]:[]});if(e.isVertexAI()){const n=sn(t);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(t)?t.map(n=>sn(n)):[sn(t)]}function oi(e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("contents are required");if(!Array.isArray(e)){if(mS(e)||yS(e))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[sn(e)]}const t=[],n=[],i=$g(e[0]);for(const a of e){const s=$g(a);if(s!=i)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(s)t.push(a);else{if(mS(a)||yS(a))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(a)}}return i||t.push({role:"user",parts:R1(n)}),t}function bD(e,t){e.includes("null")&&(t.nullable=!0);const n=e.filter(i=>i!=="null");if(n.length===1)t.type=Object.values(Kt).includes(n[0].toUpperCase())?n[0].toUpperCase():Kt.TYPE_UNSPECIFIED;else{t.anyOf=[];for(const i of n)t.anyOf.push({type:Object.values(Kt).includes(i.toUpperCase())?i.toUpperCase():Kt.TYPE_UNSPECIFIED})}}function Xo(e){const t={},n=["items"],i=["anyOf"],a=["properties"];if(e.type&&e.anyOf)throw new Error("type and anyOf cannot be both populated.");const s=e.anyOf;s!=null&&s.length==2&&(s[0].type==="null"?(t.nullable=!0,e=s[1]):s[1].type==="null"&&(t.nullable=!0,e=s[0])),e.type instanceof Array&&bD(e.type,t);for(const[l,c]of Object.entries(e))if(c!=null)if(l=="type"){if(c==="null")throw new Error("type: null can not be the only possible type for the field.");if(c instanceof Array)continue;t.type=Object.values(Kt).includes(c.toUpperCase())?c.toUpperCase():Kt.TYPE_UNSPECIFIED}else if(n.includes(l))t[l]=Xo(c);else if(i.includes(l)){const f=[];for(const h of c){if(h.type=="null"){t.nullable=!0;continue}f.push(Xo(h))}t[l]=f}else if(a.includes(l)){const f={};for(const[h,d]of Object.entries(c))f[h]=Xo(d);t[l]=f}else{if(l==="additionalProperties")continue;t[l]=c}return t}function ny(e){return Xo(e)}function iy(e){if(typeof e=="object")return e;if(typeof e=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:e}}};throw new Error(`Unsupported speechConfig type: ${typeof e}`)}function ry(e){if("multiSpeakerVoiceConfig"in e)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return e}function ms(e){if(e.functionDeclarations)for(const t of e.functionDeclarations)t.parameters&&(Object.keys(t.parameters).includes("$schema")?t.parametersJsonSchema||(t.parametersJsonSchema=t.parameters,delete t.parameters):t.parameters=Xo(t.parameters)),t.response&&(Object.keys(t.response).includes("$schema")?t.responseJsonSchema||(t.responseJsonSchema=t.response,delete t.response):t.response=Xo(t.response));return e}function ys(e){if(e==null)throw new Error("tools is required");if(!Array.isArray(e))throw new Error("tools is required and must be an array of Tools");const t=[];for(const n of e)t.push(n);return t}function TD(e,t,n,i=1){const a=!t.startsWith(`${n}/`)&&t.split("/").length===i;return e.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?`projects/${e.getProject()}/${t}`:t.startsWith(`${n}/`)?`projects/${e.getProject()}/locations/${e.getLocation()}/${t}`:a?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}/${t}`:t:a?`${n}/${t}`:t}function Tr(e,t){if(typeof t!="string")throw new Error("name must be a string");return TD(e,t,"cachedContents")}function N1(e){switch(e){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return e}}function sa(e){return Zm(e)}function ED(e){return e!=null&&typeof e=="object"&&"name"in e}function wD(e){return e!=null&&typeof e=="object"&&"video"in e}function AD(e){return e!=null&&typeof e=="object"&&"uri"in e}function L1(e){var t;let n;if(ED(e)&&(n=e.name),!(AD(e)&&(n=e.uri,n===void 0))&&!(wD(e)&&(n=(t=e.video)===null||t===void 0?void 0:t.uri,n===void 0))){if(typeof e=="string"&&(n=e),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const a=n.split("files/")[1].match(/[a-z0-9]+/);if(a===null)throw new Error(`Could not extract file name from URI ${n}`);n=a[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function D1(e,t){let n;return e.isVertexAI()?n=t?"publishers/google/models":"models":n=t?"models":"tunedModels",n}function I1(e){for(const t of["models","tunedModels","publisherModels"])if(kD(e,t))return e[t];return[]}function kD(e,t){return e!==null&&typeof e=="object"&&t in e}function MD(e,t={}){const n=e,i={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(i.responseJsonSchema=n.outputSchema),t.behavior&&(i.behavior=t.behavior),{functionDeclarations:[i]}}function RD(e,t={}){const n=[],i=new Set;for(const a of e){const s=a.name;if(i.has(s))throw new Error(`Duplicate function name ${s} found in MCP tools. Please ensure function names are unique.`);i.add(s);const l=MD(a,t);l.functionDeclarations&&n.push(...l.functionDeclarations)}return{functionDeclarations:n}}function B1(e,t){let n;if(typeof t=="string")if(e.isVertexAI())if(t.startsWith("gs://"))n={format:"jsonl",gcsUri:[t]};else if(t.startsWith("bq://"))n={format:"bigquery",bigqueryUri:t};else throw new Error(`Unsupported string source for Vertex AI: ${t}`);else if(t.startsWith("files/"))n={fileName:t};else throw new Error(`Unsupported string source for Gemini API: ${t}`);else if(Array.isArray(t)){if(e.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:t}}else n=t;const i=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,a=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(e.isVertexAI()){if(a>0||i!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(i>0||a!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function ND(e){if(typeof e!="string")return e;const t=e;if(t.startsWith("gs://"))return{format:"jsonl",gcsUri:t};if(t.startsWith("bq://"))return{format:"bigquery",bigqueryUri:t};throw new Error(`Unsupported destination: ${t}`)}function F1(e){if(typeof e!="object"||e===null)return{};const t=e,n=t.inlinedResponses;if(typeof n!="object"||n===null)return e;const a=n.inlinedResponses;if(!Array.isArray(a)||a.length===0)return e;let s=!1;for(const l of a){if(typeof l!="object"||l===null)continue;const f=l.response;if(typeof f!="object"||f===null)continue;if(f.embedding!==void 0){s=!0;break}}return s&&(t.inlinedEmbedContentResponses=t.inlinedResponses,delete t.inlinedResponses),e}function vs(e,t){const n=t;if(!e.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function O1(e){const t=e;return t==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":t==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":t==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":t==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":t==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":t==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":t==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function LD(e){const t={},n=g(e,["responsesFile"]);n!=null&&y(t,["fileName"],n);const i=g(e,["inlinedResponses","inlinedResponses"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(l=>fI(l))),y(t,["inlinedResponses"],s)}const a=g(e,["inlinedEmbedContentResponses","inlinedResponses"]);if(a!=null){let s=a;Array.isArray(s)&&(s=s.map(l=>l)),y(t,["inlinedEmbedContentResponses"],s)}return t}function DD(e){const t={},n=g(e,["predictionsFormat"]);n!=null&&y(t,["format"],n);const i=g(e,["gcsDestination","outputUriPrefix"]);i!=null&&y(t,["gcsUri"],i);const a=g(e,["bigqueryDestination","outputUri"]);return a!=null&&y(t,["bigqueryUri"],a),t}function ID(e){const t={},n=g(e,["format"]);n!=null&&y(t,["predictionsFormat"],n);const i=g(e,["gcsUri"]);i!=null&&y(t,["gcsDestination","outputUriPrefix"],i);const a=g(e,["bigqueryUri"]);if(a!=null&&y(t,["bigqueryDestination","outputUri"],a),g(e,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(g(e,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(g(e,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return t}function hh(e){const t={},n=g(e,["name"]);n!=null&&y(t,["name"],n);const i=g(e,["metadata","displayName"]);i!=null&&y(t,["displayName"],i);const a=g(e,["metadata","state"]);a!=null&&y(t,["state"],O1(a));const s=g(e,["metadata","createTime"]);s!=null&&y(t,["createTime"],s);const l=g(e,["metadata","endTime"]);l!=null&&y(t,["endTime"],l);const c=g(e,["metadata","updateTime"]);c!=null&&y(t,["updateTime"],c);const f=g(e,["metadata","model"]);f!=null&&y(t,["model"],f);const h=g(e,["metadata","output"]);return h!=null&&y(t,["dest"],LD(F1(h))),t}function zg(e){const t={},n=g(e,["name"]);n!=null&&y(t,["name"],n);const i=g(e,["displayName"]);i!=null&&y(t,["displayName"],i);const a=g(e,["state"]);a!=null&&y(t,["state"],O1(a));const s=g(e,["error"]);s!=null&&y(t,["error"],s);const l=g(e,["createTime"]);l!=null&&y(t,["createTime"],l);const c=g(e,["startTime"]);c!=null&&y(t,["startTime"],c);const f=g(e,["endTime"]);f!=null&&y(t,["endTime"],f);const h=g(e,["updateTime"]);h!=null&&y(t,["updateTime"],h);const d=g(e,["model"]);d!=null&&y(t,["model"],d);const m=g(e,["inputConfig"]);m!=null&&y(t,["src"],BD(m));const v=g(e,["outputConfig"]);v!=null&&y(t,["dest"],DD(F1(v)));const x=g(e,["completionStats"]);return x!=null&&y(t,["completionStats"],x),t}function BD(e){const t={},n=g(e,["instancesFormat"]);n!=null&&y(t,["format"],n);const i=g(e,["gcsSource","uris"]);i!=null&&y(t,["gcsUri"],i);const a=g(e,["bigquerySource","inputUri"]);return a!=null&&y(t,["bigqueryUri"],a),t}function FD(e,t){const n={};if(g(t,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(g(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(g(t,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const i=g(t,["fileName"]);i!=null&&y(n,["fileName"],i);const a=g(t,["inlinedRequests"]);if(a!=null){let s=a;Array.isArray(s)&&(s=s.map(l=>hI(e,l))),y(n,["requests","requests"],s)}return n}function OD(e){const t={},n=g(e,["format"]);n!=null&&y(t,["instancesFormat"],n);const i=g(e,["gcsUri"]);i!=null&&y(t,["gcsSource","uris"],i);const a=g(e,["bigqueryUri"]);if(a!=null&&y(t,["bigquerySource","inputUri"],a),g(e,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(g(e,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return t}function PD(e){const t={},n=g(e,["data"]);if(n!=null&&y(t,["data"],n),g(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=g(e,["mimeType"]);return i!=null&&y(t,["mimeType"],i),t}function UD(e,t){const n={},i=g(t,["name"]);return i!=null&&y(n,["_url","name"],vs(e,i)),n}function $D(e,t){const n={},i=g(t,["name"]);return i!=null&&y(n,["_url","name"],vs(e,i)),n}function zD(e){const t={},n=g(e,["content"]);n!=null&&y(t,["content"],n);const i=g(e,["citationMetadata"]);i!=null&&y(t,["citationMetadata"],qD(i));const a=g(e,["tokenCount"]);a!=null&&y(t,["tokenCount"],a);const s=g(e,["finishReason"]);s!=null&&y(t,["finishReason"],s);const l=g(e,["avgLogprobs"]);l!=null&&y(t,["avgLogprobs"],l);const c=g(e,["groundingMetadata"]);c!=null&&y(t,["groundingMetadata"],c);const f=g(e,["index"]);f!=null&&y(t,["index"],f);const h=g(e,["logprobsResult"]);h!=null&&y(t,["logprobsResult"],h);const d=g(e,["safetyRatings"]);if(d!=null){let v=d;Array.isArray(v)&&(v=v.map(x=>x)),y(t,["safetyRatings"],v)}const m=g(e,["urlContextMetadata"]);return m!=null&&y(t,["urlContextMetadata"],m),t}function qD(e){const t={},n=g(e,["citationSources"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>a)),y(t,["citations"],i)}return t}function P1(e){const t={},n=g(e,["parts"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(s=>_I(s))),y(t,["parts"],a)}const i=g(e,["role"]);return i!=null&&y(t,["role"],i),t}function HD(e,t){const n={},i=g(e,["displayName"]);if(t!==void 0&&i!=null&&y(t,["batch","displayName"],i),g(e,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function GD(e,t){const n={},i=g(e,["displayName"]);t!==void 0&&i!=null&&y(t,["displayName"],i);const a=g(e,["dest"]);return t!==void 0&&a!=null&&y(t,["outputConfig"],ID(ND(a))),n}function vS(e,t){const n={},i=g(t,["model"]);i!=null&&y(n,["_url","model"],ee(e,i));const a=g(t,["src"]);a!=null&&y(n,["batch","inputConfig"],FD(e,B1(e,a)));const s=g(t,["config"]);return s!=null&&HD(s,n),n}function VD(e,t){const n={},i=g(t,["model"]);i!=null&&y(n,["model"],ee(e,i));const a=g(t,["src"]);a!=null&&y(n,["inputConfig"],OD(B1(e,a)));const s=g(t,["config"]);return s!=null&&GD(s,n),n}function YD(e,t){const n={},i=g(e,["displayName"]);return t!==void 0&&i!=null&&y(t,["batch","displayName"],i),n}function WD(e,t){const n={},i=g(t,["model"]);i!=null&&y(n,["_url","model"],ee(e,i));const a=g(t,["src"]);a!=null&&y(n,["batch","inputConfig"],tI(e,a));const s=g(t,["config"]);return s!=null&&YD(s,n),n}function XD(e,t){const n={},i=g(t,["name"]);return i!=null&&y(n,["_url","name"],vs(e,i)),n}function JD(e,t){const n={},i=g(t,["name"]);return i!=null&&y(n,["_url","name"],vs(e,i)),n}function KD(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const i=g(e,["name"]);i!=null&&y(t,["name"],i);const a=g(e,["done"]);a!=null&&y(t,["done"],a);const s=g(e,["error"]);return s!=null&&y(t,["error"],s),t}function QD(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const i=g(e,["name"]);i!=null&&y(t,["name"],i);const a=g(e,["done"]);a!=null&&y(t,["done"],a);const s=g(e,["error"]);return s!=null&&y(t,["error"],s),t}function ZD(e,t){const n={},i=g(t,["contents"]);if(i!=null){let s=ey(e,i);Array.isArray(s)&&(s=s.map(l=>l)),y(n,["requests[]","request","content"],s)}const a=g(t,["config"]);return a!=null&&(y(n,["_self"],jD(a,n)),JL(n,{"requests[].*":"requests[].request.*"})),n}function jD(e,t){const n={},i=g(e,["taskType"]);t!==void 0&&i!=null&&y(t,["requests[]","taskType"],i);const a=g(e,["title"]);t!==void 0&&a!=null&&y(t,["requests[]","title"],a);const s=g(e,["outputDimensionality"]);if(t!==void 0&&s!=null&&y(t,["requests[]","outputDimensionality"],s),g(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(g(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function tI(e,t){const n={},i=g(t,["fileName"]);i!=null&&y(n,["file_name"],i);const a=g(t,["inlinedRequests"]);return a!=null&&y(n,["requests"],ZD(e,a)),n}function eI(e){const t={};if(g(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=g(e,["fileUri"]);n!=null&&y(t,["fileUri"],n);const i=g(e,["mimeType"]);return i!=null&&y(t,["mimeType"],i),t}function nI(e){const t={},n=g(e,["id"]);n!=null&&y(t,["id"],n);const i=g(e,["args"]);i!=null&&y(t,["args"],i);const a=g(e,["name"]);if(a!=null&&y(t,["name"],a),g(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(g(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function iI(e){const t={},n=g(e,["mode"]);n!=null&&y(t,["mode"],n);const i=g(e,["allowedFunctionNames"]);if(i!=null&&y(t,["allowedFunctionNames"],i),g(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function rI(e,t,n){const i={},a=g(t,["systemInstruction"]);n!==void 0&&a!=null&&y(n,["systemInstruction"],P1(sn(a)));const s=g(t,["temperature"]);s!=null&&y(i,["temperature"],s);const l=g(t,["topP"]);l!=null&&y(i,["topP"],l);const c=g(t,["topK"]);c!=null&&y(i,["topK"],c);const f=g(t,["candidateCount"]);f!=null&&y(i,["candidateCount"],f);const h=g(t,["maxOutputTokens"]);h!=null&&y(i,["maxOutputTokens"],h);const d=g(t,["stopSequences"]);d!=null&&y(i,["stopSequences"],d);const m=g(t,["responseLogprobs"]);m!=null&&y(i,["responseLogprobs"],m);const v=g(t,["logprobs"]);v!=null&&y(i,["logprobs"],v);const x=g(t,["presencePenalty"]);x!=null&&y(i,["presencePenalty"],x);const S=g(t,["frequencyPenalty"]);S!=null&&y(i,["frequencyPenalty"],S);const b=g(t,["seed"]);b!=null&&y(i,["seed"],b);const E=g(t,["responseMimeType"]);E!=null&&y(i,["responseMimeType"],E);const A=g(t,["responseSchema"]);A!=null&&y(i,["responseSchema"],ny(A));const k=g(t,["responseJsonSchema"]);if(k!=null&&y(i,["responseJsonSchema"],k),g(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(g(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const R=g(t,["safetySettings"]);if(n!==void 0&&R!=null){let nt=R;Array.isArray(nt)&&(nt=nt.map(W=>xI(W))),y(n,["safetySettings"],nt)}const I=g(t,["tools"]);if(n!==void 0&&I!=null){let nt=ys(I);Array.isArray(nt)&&(nt=nt.map(W=>SI(ms(W)))),y(n,["tools"],nt)}const B=g(t,["toolConfig"]);if(n!==void 0&&B!=null&&y(n,["toolConfig"],CI(B)),g(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const L=g(t,["cachedContent"]);n!==void 0&&L!=null&&y(n,["cachedContent"],Tr(e,L));const N=g(t,["responseModalities"]);N!=null&&y(i,["responseModalities"],N);const V=g(t,["mediaResolution"]);V!=null&&y(i,["mediaResolution"],V);const Q=g(t,["speechConfig"]);if(Q!=null&&y(i,["speechConfig"],iy(Q)),g(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const et=g(t,["thinkingConfig"]);et!=null&&y(i,["thinkingConfig"],et);const Y=g(t,["imageConfig"]);Y!=null&&y(i,["imageConfig"],uI(Y));const ct=g(t,["enableEnhancedCivicAnswers"]);return ct!=null&&y(i,["enableEnhancedCivicAnswers"],ct),i}function aI(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const i=g(e,["candidates"]);if(i!=null){let f=i;Array.isArray(f)&&(f=f.map(h=>zD(h))),y(t,["candidates"],f)}const a=g(e,["modelVersion"]);a!=null&&y(t,["modelVersion"],a);const s=g(e,["promptFeedback"]);s!=null&&y(t,["promptFeedback"],s);const l=g(e,["responseId"]);l!=null&&y(t,["responseId"],l);const c=g(e,["usageMetadata"]);return c!=null&&y(t,["usageMetadata"],c),t}function oI(e,t){const n={},i=g(t,["name"]);return i!=null&&y(n,["_url","name"],vs(e,i)),n}function sI(e,t){const n={},i=g(t,["name"]);return i!=null&&y(n,["_url","name"],vs(e,i)),n}function lI(e){const t={};if(g(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=g(e,["enableWidget"]);return n!=null&&y(t,["enableWidget"],n),t}function cI(e){const t={};if(g(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(g(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=g(e,["timeRangeFilter"]);return n!=null&&y(t,["timeRangeFilter"],n),t}function uI(e){const t={},n=g(e,["aspectRatio"]);n!=null&&y(t,["aspectRatio"],n);const i=g(e,["imageSize"]);if(i!=null&&y(t,["imageSize"],i),g(e,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(g(e,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function hI(e,t){const n={},i=g(t,["model"]);i!=null&&y(n,["request","model"],ee(e,i));const a=g(t,["contents"]);if(a!=null){let c=oi(a);Array.isArray(c)&&(c=c.map(f=>P1(f))),y(n,["request","contents"],c)}const s=g(t,["metadata"]);s!=null&&y(n,["metadata"],s);const l=g(t,["config"]);return l!=null&&y(n,["request","generationConfig"],rI(e,l,g(n,["request"],{}))),n}function fI(e){const t={},n=g(e,["response"]);n!=null&&y(t,["response"],aI(n));const i=g(e,["error"]);return i!=null&&y(t,["error"],i),t}function dI(e,t){const n={},i=g(e,["pageSize"]);t!==void 0&&i!=null&&y(t,["_query","pageSize"],i);const a=g(e,["pageToken"]);if(t!==void 0&&a!=null&&y(t,["_query","pageToken"],a),g(e,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function pI(e,t){const n={},i=g(e,["pageSize"]);t!==void 0&&i!=null&&y(t,["_query","pageSize"],i);const a=g(e,["pageToken"]);t!==void 0&&a!=null&&y(t,["_query","pageToken"],a);const s=g(e,["filter"]);return t!==void 0&&s!=null&&y(t,["_query","filter"],s),n}function gI(e){const t={},n=g(e,["config"]);return n!=null&&dI(n,t),t}function mI(e){const t={},n=g(e,["config"]);return n!=null&&pI(n,t),t}function yI(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const i=g(e,["nextPageToken"]);i!=null&&y(t,["nextPageToken"],i);const a=g(e,["operations"]);if(a!=null){let s=a;Array.isArray(s)&&(s=s.map(l=>hh(l))),y(t,["batchJobs"],s)}return t}function vI(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const i=g(e,["nextPageToken"]);i!=null&&y(t,["nextPageToken"],i);const a=g(e,["batchPredictionJobs"]);if(a!=null){let s=a;Array.isArray(s)&&(s=s.map(l=>zg(l))),y(t,["batchJobs"],s)}return t}function _I(e){const t={},n=g(e,["mediaResolution"]);n!=null&&y(t,["mediaResolution"],n);const i=g(e,["codeExecutionResult"]);i!=null&&y(t,["codeExecutionResult"],i);const a=g(e,["executableCode"]);a!=null&&y(t,["executableCode"],a);const s=g(e,["fileData"]);s!=null&&y(t,["fileData"],eI(s));const l=g(e,["functionCall"]);l!=null&&y(t,["functionCall"],nI(l));const c=g(e,["functionResponse"]);c!=null&&y(t,["functionResponse"],c);const f=g(e,["inlineData"]);f!=null&&y(t,["inlineData"],PD(f));const h=g(e,["text"]);h!=null&&y(t,["text"],h);const d=g(e,["thought"]);d!=null&&y(t,["thought"],d);const m=g(e,["thoughtSignature"]);m!=null&&y(t,["thoughtSignature"],m);const v=g(e,["videoMetadata"]);return v!=null&&y(t,["videoMetadata"],v),t}function xI(e){const t={},n=g(e,["category"]);if(n!=null&&y(t,["category"],n),g(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const i=g(e,["threshold"]);return i!=null&&y(t,["threshold"],i),t}function CI(e){const t={},n=g(e,["functionCallingConfig"]);n!=null&&y(t,["functionCallingConfig"],iI(n));const i=g(e,["retrievalConfig"]);return i!=null&&y(t,["retrievalConfig"],i),t}function SI(e){const t={},n=g(e,["functionDeclarations"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(m=>m)),y(t,["functionDeclarations"],d)}if(g(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=g(e,["googleSearchRetrieval"]);i!=null&&y(t,["googleSearchRetrieval"],i);const a=g(e,["computerUse"]);a!=null&&y(t,["computerUse"],a);const s=g(e,["fileSearch"]);s!=null&&y(t,["fileSearch"],s);const l=g(e,["codeExecution"]);if(l!=null&&y(t,["codeExecution"],l),g(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=g(e,["googleMaps"]);c!=null&&y(t,["googleMaps"],lI(c));const f=g(e,["googleSearch"]);f!=null&&y(t,["googleSearch"],cI(f));const h=g(e,["urlContext"]);return h!=null&&y(t,["urlContext"],h),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var xr;(function(e){e.PAGED_ITEM_BATCH_JOBS="batchJobs",e.PAGED_ITEM_MODELS="models",e.PAGED_ITEM_TUNING_JOBS="tuningJobs",e.PAGED_ITEM_FILES="files",e.PAGED_ITEM_CACHED_CONTENTS="cachedContents",e.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",e.PAGED_ITEM_DOCUMENTS="documents"})(xr||(xr={}));class Ka{constructor(t,n,i,a){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(t,i,a)}init(t,n,i){var a,s;this.nameInternal=t,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let l={config:{}};!i||Object.keys(i).length===0?l={config:{}}:typeof i=="object"?l=Object.assign({},i):l=i,l.config&&(l.config.pageToken=n.nextPageToken),this.paramsInternal=l,this.pageInternalSize=(s=(a=l.config)===null||a===void 0?void 0:a.pageSize)!==null&&s!==void 0?s:this.pageInternal.length}initNextPage(t){this.init(this.nameInternal,t,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(t){return this.pageInternal[t]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const t=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:t,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const t=await this.requestInternal(this.params);return this.initNextPage(t),this.page}hasNextPage(){var t;return((t=this.params.config)===null||t===void 0?void 0:t.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class bI extends br{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new Ka(xr.PAGED_ITEM_BATCH_JOBS,i=>this.listInternal(i),await this.listInternal(n),n),this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)}}createInlinedGenerateContentRequest(t){const n=vS(this.apiClient,t),i=n._url,a=mt("{model}:batchGenerateContent",i),c=n.batch.inputConfig.requests,f=c.requests,h=[];for(const d of f){const m=Object.assign({},d);if(m.systemInstruction){const v=m.systemInstruction;delete m.systemInstruction;const x=m.request;x.systemInstruction=v,m.request=x}h.push(m)}return c.requests=h,delete n.config,delete n._url,delete n._query,{path:a,body:n}}getGcsUri(t){if(typeof t=="string")return t.startsWith("gs://")?t:void 0;if(!Array.isArray(t)&&t.gcsUri&&t.gcsUri.length>0)return t.gcsUri[0]}getBigqueryUri(t){if(typeof t=="string")return t.startsWith("bq://")?t:void 0;if(!Array.isArray(t))return t.bigqueryUri}formatDestination(t,n){const i=n?Object.assign({},n):{},a=Date.now().toString();if(i.displayName||(i.displayName=`genaiBatchJob_${a}`),i.dest===void 0){const s=this.getGcsUri(t),l=this.getBigqueryUri(t);if(s)s.endsWith(".jsonl")?i.dest=`${s.slice(0,-6)}/dest`:i.dest=`${s}_dest_${a}`;else if(l)i.dest=`${l}_dest_${a}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return i}async createInternal(t){var n,i,a,s;let l,c="",f={};if(this.apiClient.isVertexAI()){const h=VD(this.apiClient,t);return c=mt("batchPredictionJobs",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),l.then(d=>zg(d))}else{const h=vS(this.apiClient,t);return c=mt("{model}:batchGenerateContent",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),l.then(d=>hh(d))}}async createEmbeddingsInternal(t){var n,i;let a,s="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=WD(this.apiClient,t);return s=mt("{model}:asyncBatchEmbedContent",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),a.then(f=>hh(f))}}async get(t){var n,i,a,s;let l,c="",f={};if(this.apiClient.isVertexAI()){const h=sI(this.apiClient,t);return c=mt("batchPredictionJobs/{name}",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),l.then(d=>zg(d))}else{const h=oI(this.apiClient,t);return c=mt("batches/{name}",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),l.then(d=>hh(d))}}async cancel(t){var n,i,a,s;let l="",c={};if(this.apiClient.isVertexAI()){const f=$D(this.apiClient,t);l=mt("batchPredictionJobs/{name}:cancel",f._url),c=f._query,delete f._url,delete f._query,await this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal})}else{const f=UD(this.apiClient,t);l=mt("batches/{name}:cancel",f._url),c=f._query,delete f._url,delete f._query,await this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal})}}async listInternal(t){var n,i,a,s;let l,c="",f={};if(this.apiClient.isVertexAI()){const h=mI(t);return c=mt("batchPredictionJobs",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:d.headers},v})),l.then(d=>{const m=vI(d),v=new pS;return Object.assign(v,m),v})}else{const h=gI(t);return c=mt("batches",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:d.headers},v})),l.then(d=>{const m=yI(d),v=new pS;return Object.assign(v,m),v})}}async delete(t){var n,i,a,s;let l,c="",f={};if(this.apiClient.isVertexAI()){const h=JD(this.apiClient,t);return c=mt("batchPredictionJobs/{name}",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:d.headers},v})),l.then(d=>QD(d))}else{const h=XD(this.apiClient,t);return c=mt("batches/{name}",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:d.headers},v})),l.then(d=>KD(d))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function TI(e){const t={},n=g(e,["data"]);if(n!=null&&y(t,["data"],n),g(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=g(e,["mimeType"]);return i!=null&&y(t,["mimeType"],i),t}function _S(e){const t={},n=g(e,["parts"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(s=>WI(s))),y(t,["parts"],a)}const i=g(e,["role"]);return i!=null&&y(t,["role"],i),t}function EI(e,t){const n={},i=g(e,["ttl"]);t!==void 0&&i!=null&&y(t,["ttl"],i);const a=g(e,["expireTime"]);t!==void 0&&a!=null&&y(t,["expireTime"],a);const s=g(e,["displayName"]);t!==void 0&&s!=null&&y(t,["displayName"],s);const l=g(e,["contents"]);if(t!==void 0&&l!=null){let d=oi(l);Array.isArray(d)&&(d=d.map(m=>_S(m))),y(t,["contents"],d)}const c=g(e,["systemInstruction"]);t!==void 0&&c!=null&&y(t,["systemInstruction"],_S(sn(c)));const f=g(e,["tools"]);if(t!==void 0&&f!=null){let d=f;Array.isArray(d)&&(d=d.map(m=>JI(m))),y(t,["tools"],d)}const h=g(e,["toolConfig"]);if(t!==void 0&&h!=null&&y(t,["toolConfig"],XI(h)),g(e,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function wI(e,t){const n={},i=g(e,["ttl"]);t!==void 0&&i!=null&&y(t,["ttl"],i);const a=g(e,["expireTime"]);t!==void 0&&a!=null&&y(t,["expireTime"],a);const s=g(e,["displayName"]);t!==void 0&&s!=null&&y(t,["displayName"],s);const l=g(e,["contents"]);if(t!==void 0&&l!=null){let m=oi(l);Array.isArray(m)&&(m=m.map(v=>v)),y(t,["contents"],m)}const c=g(e,["systemInstruction"]);t!==void 0&&c!=null&&y(t,["systemInstruction"],sn(c));const f=g(e,["tools"]);if(t!==void 0&&f!=null){let m=f;Array.isArray(m)&&(m=m.map(v=>KI(v))),y(t,["tools"],m)}const h=g(e,["toolConfig"]);t!==void 0&&h!=null&&y(t,["toolConfig"],h);const d=g(e,["kmsKeyName"]);return t!==void 0&&d!=null&&y(t,["encryption_spec","kmsKeyName"],d),n}function AI(e,t){const n={},i=g(t,["model"]);i!=null&&y(n,["model"],w1(e,i));const a=g(t,["config"]);return a!=null&&EI(a,n),n}function kI(e,t){const n={},i=g(t,["model"]);i!=null&&y(n,["model"],w1(e,i));const a=g(t,["config"]);return a!=null&&wI(a,n),n}function MI(e,t){const n={},i=g(t,["name"]);return i!=null&&y(n,["_url","name"],Tr(e,i)),n}function RI(e,t){const n={},i=g(t,["name"]);return i!=null&&y(n,["_url","name"],Tr(e,i)),n}function NI(e){const t={},n=g(e,["sdkHttpResponse"]);return n!=null&&y(t,["sdkHttpResponse"],n),t}function LI(e){const t={},n=g(e,["sdkHttpResponse"]);return n!=null&&y(t,["sdkHttpResponse"],n),t}function DI(e){const t={};if(g(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=g(e,["fileUri"]);n!=null&&y(t,["fileUri"],n);const i=g(e,["mimeType"]);return i!=null&&y(t,["mimeType"],i),t}function II(e){const t={},n=g(e,["id"]);n!=null&&y(t,["id"],n);const i=g(e,["args"]);i!=null&&y(t,["args"],i);const a=g(e,["name"]);if(a!=null&&y(t,["name"],a),g(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(g(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function BI(e){const t={},n=g(e,["mode"]);n!=null&&y(t,["mode"],n);const i=g(e,["allowedFunctionNames"]);if(i!=null&&y(t,["allowedFunctionNames"],i),g(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function FI(e){const t={};if(g(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=g(e,["description"]);n!=null&&y(t,["description"],n);const i=g(e,["name"]);i!=null&&y(t,["name"],i);const a=g(e,["parameters"]);a!=null&&y(t,["parameters"],a);const s=g(e,["parametersJsonSchema"]);s!=null&&y(t,["parametersJsonSchema"],s);const l=g(e,["response"]);l!=null&&y(t,["response"],l);const c=g(e,["responseJsonSchema"]);return c!=null&&y(t,["responseJsonSchema"],c),t}function OI(e,t){const n={},i=g(t,["name"]);return i!=null&&y(n,["_url","name"],Tr(e,i)),n}function PI(e,t){const n={},i=g(t,["name"]);return i!=null&&y(n,["_url","name"],Tr(e,i)),n}function UI(e){const t={};if(g(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=g(e,["enableWidget"]);return n!=null&&y(t,["enableWidget"],n),t}function $I(e){const t={};if(g(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(g(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=g(e,["timeRangeFilter"]);return n!=null&&y(t,["timeRangeFilter"],n),t}function zI(e,t){const n={},i=g(e,["pageSize"]);t!==void 0&&i!=null&&y(t,["_query","pageSize"],i);const a=g(e,["pageToken"]);return t!==void 0&&a!=null&&y(t,["_query","pageToken"],a),n}function qI(e,t){const n={},i=g(e,["pageSize"]);t!==void 0&&i!=null&&y(t,["_query","pageSize"],i);const a=g(e,["pageToken"]);return t!==void 0&&a!=null&&y(t,["_query","pageToken"],a),n}function HI(e){const t={},n=g(e,["config"]);return n!=null&&zI(n,t),t}function GI(e){const t={},n=g(e,["config"]);return n!=null&&qI(n,t),t}function VI(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const i=g(e,["nextPageToken"]);i!=null&&y(t,["nextPageToken"],i);const a=g(e,["cachedContents"]);if(a!=null){let s=a;Array.isArray(s)&&(s=s.map(l=>l)),y(t,["cachedContents"],s)}return t}function YI(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const i=g(e,["nextPageToken"]);i!=null&&y(t,["nextPageToken"],i);const a=g(e,["cachedContents"]);if(a!=null){let s=a;Array.isArray(s)&&(s=s.map(l=>l)),y(t,["cachedContents"],s)}return t}function WI(e){const t={},n=g(e,["mediaResolution"]);n!=null&&y(t,["mediaResolution"],n);const i=g(e,["codeExecutionResult"]);i!=null&&y(t,["codeExecutionResult"],i);const a=g(e,["executableCode"]);a!=null&&y(t,["executableCode"],a);const s=g(e,["fileData"]);s!=null&&y(t,["fileData"],DI(s));const l=g(e,["functionCall"]);l!=null&&y(t,["functionCall"],II(l));const c=g(e,["functionResponse"]);c!=null&&y(t,["functionResponse"],c);const f=g(e,["inlineData"]);f!=null&&y(t,["inlineData"],TI(f));const h=g(e,["text"]);h!=null&&y(t,["text"],h);const d=g(e,["thought"]);d!=null&&y(t,["thought"],d);const m=g(e,["thoughtSignature"]);m!=null&&y(t,["thoughtSignature"],m);const v=g(e,["videoMetadata"]);return v!=null&&y(t,["videoMetadata"],v),t}function XI(e){const t={},n=g(e,["functionCallingConfig"]);n!=null&&y(t,["functionCallingConfig"],BI(n));const i=g(e,["retrievalConfig"]);return i!=null&&y(t,["retrievalConfig"],i),t}function JI(e){const t={},n=g(e,["functionDeclarations"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(m=>m)),y(t,["functionDeclarations"],d)}if(g(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=g(e,["googleSearchRetrieval"]);i!=null&&y(t,["googleSearchRetrieval"],i);const a=g(e,["computerUse"]);a!=null&&y(t,["computerUse"],a);const s=g(e,["fileSearch"]);s!=null&&y(t,["fileSearch"],s);const l=g(e,["codeExecution"]);if(l!=null&&y(t,["codeExecution"],l),g(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=g(e,["googleMaps"]);c!=null&&y(t,["googleMaps"],UI(c));const f=g(e,["googleSearch"]);f!=null&&y(t,["googleSearch"],$I(f));const h=g(e,["urlContext"]);return h!=null&&y(t,["urlContext"],h),t}function KI(e){const t={},n=g(e,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(v=>FI(v))),y(t,["functionDeclarations"],m)}const i=g(e,["retrieval"]);i!=null&&y(t,["retrieval"],i);const a=g(e,["googleSearchRetrieval"]);a!=null&&y(t,["googleSearchRetrieval"],a);const s=g(e,["computerUse"]);if(s!=null&&y(t,["computerUse"],s),g(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const l=g(e,["codeExecution"]);l!=null&&y(t,["codeExecution"],l);const c=g(e,["enterpriseWebSearch"]);c!=null&&y(t,["enterpriseWebSearch"],c);const f=g(e,["googleMaps"]);f!=null&&y(t,["googleMaps"],f);const h=g(e,["googleSearch"]);h!=null&&y(t,["googleSearch"],h);const d=g(e,["urlContext"]);return d!=null&&y(t,["urlContext"],d),t}function QI(e,t){const n={},i=g(e,["ttl"]);t!==void 0&&i!=null&&y(t,["ttl"],i);const a=g(e,["expireTime"]);return t!==void 0&&a!=null&&y(t,["expireTime"],a),n}function ZI(e,t){const n={},i=g(e,["ttl"]);t!==void 0&&i!=null&&y(t,["ttl"],i);const a=g(e,["expireTime"]);return t!==void 0&&a!=null&&y(t,["expireTime"],a),n}function jI(e,t){const n={},i=g(t,["name"]);i!=null&&y(n,["_url","name"],Tr(e,i));const a=g(t,["config"]);return a!=null&&QI(a,n),n}function tB(e,t){const n={},i=g(t,["name"]);i!=null&&y(n,["_url","name"],Tr(e,i));const a=g(t,["config"]);return a!=null&&ZI(a,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class eB extends br{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new Ka(xr.PAGED_ITEM_CACHED_CONTENTS,i=>this.listInternal(i),await this.listInternal(n),n)}async create(t){var n,i,a,s;let l,c="",f={};if(this.apiClient.isVertexAI()){const h=kI(this.apiClient,t);return c=mt("cachedContents",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),l.then(d=>d)}else{const h=AI(this.apiClient,t);return c=mt("cachedContents",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),l.then(d=>d)}}async get(t){var n,i,a,s;let l,c="",f={};if(this.apiClient.isVertexAI()){const h=PI(this.apiClient,t);return c=mt("{name}",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),l.then(d=>d)}else{const h=OI(this.apiClient,t);return c=mt("{name}",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),l.then(d=>d)}}async delete(t){var n,i,a,s;let l,c="",f={};if(this.apiClient.isVertexAI()){const h=RI(this.apiClient,t);return c=mt("{name}",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:d.headers},v})),l.then(d=>{const m=LI(d),v=new fS;return Object.assign(v,m),v})}else{const h=MI(this.apiClient,t);return c=mt("{name}",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:d.headers},v})),l.then(d=>{const m=NI(d),v=new fS;return Object.assign(v,m),v})}}async update(t){var n,i,a,s;let l,c="",f={};if(this.apiClient.isVertexAI()){const h=tB(this.apiClient,t);return c=mt("{name}",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),l.then(d=>d)}else{const h=jI(this.apiClient,t);return c=mt("{name}",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),l.then(d=>d)}}async listInternal(t){var n,i,a,s;let l,c="",f={};if(this.apiClient.isVertexAI()){const h=GI(t);return c=mt("cachedContents",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:d.headers},v})),l.then(d=>{const m=YI(d),v=new dS;return Object.assign(v,m),v})}else{const h=HI(t);return c=mt("cachedContents",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:d.headers},v})),l.then(d=>{const m=VI(d),v=new dS;return Object.assign(v,m),v})}}}function Lh(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,i=Object.getOwnPropertySymbols(e);a<i.length;a++)t.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(e,i[a])&&(n[i[a]]=e[i[a]]);return n}function xS(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ot(e){return this instanceof Ot?(this.v=e,this):new Ot(e)}function Si(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(e,t||[]),a,s=[];return a=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",l),a[Symbol.asyncIterator]=function(){return this},a;function l(x){return function(S){return Promise.resolve(S).then(x,m)}}function c(x,S){i[x]&&(a[x]=function(b){return new Promise(function(E,A){s.push([x,b,E,A])>1||f(x,b)})},S&&(a[x]=S(a[x])))}function f(x,S){try{h(i[x](S))}catch(b){v(s[0][3],b)}}function h(x){x.value instanceof Ot?Promise.resolve(x.value.v).then(d,m):v(s[0][2],x)}function d(x){f("next",x)}function m(x){f("throw",x)}function v(x,S){x(S),s.shift(),s.length&&f(s[0][0],s[0][1])}}function bi(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof xS=="function"?xS(e):e[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(s){n[s]=e[s]&&function(l){return new Promise(function(c,f){l=e[s](l),a(c,f,l.done,l.value)})}}function a(s,l,c,f){Promise.resolve(f).then(function(h){s({value:h,done:c})},l)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function nB(e){var t;if(e.candidates==null||e.candidates.length===0)return!1;const n=(t=e.candidates[0])===null||t===void 0?void 0:t.content;return n===void 0?!1:U1(n)}function U1(e){if(e.parts===void 0||e.parts.length===0)return!1;for(const t of e.parts)if(t===void 0||Object.keys(t).length===0)return!1;return!0}function iB(e){if(e.length!==0){for(const t of e)if(t.role!=="user"&&t.role!=="model")throw new Error(`Role must be user or model, but got ${t.role}.`)}}function CS(e){if(e===void 0||e.length===0)return[];const t=[],n=e.length;let i=0;for(;i<n;)if(e[i].role==="user")t.push(e[i]),i++;else{const a=[];let s=!0;for(;i<n&&e[i].role==="model";)a.push(e[i]),s&&!U1(e[i])&&(s=!1),i++;s?t.push(...a):t.pop()}return t}class rB{constructor(t,n){this.modelsModule=t,this.apiClient=n}create(t){return new aB(this.apiClient,this.modelsModule,t.model,t.config,structuredClone(t.history))}}class aB{constructor(t,n,i,a={},s=[]){this.apiClient=t,this.modelsModule=n,this.model=i,this.config=a,this.history=s,this.sendPromise=Promise.resolve(),iB(s)}async sendMessage(t){var n;await this.sendPromise;const i=sn(t.message),a=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(i),config:(n=t.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var s,l,c;const f=await a,h=(l=(s=f.candidates)===null||s===void 0?void 0:s[0])===null||l===void 0?void 0:l.content,d=f.automaticFunctionCallingHistory,m=this.getHistory(!0).length;let v=[];d!=null&&(v=(c=d.slice(m))!==null&&c!==void 0?c:[]);const x=h?[h]:[];this.recordHistory(i,x,v)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),a}async sendMessageStream(t){var n;await this.sendPromise;const i=sn(t.message),a=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(i),config:(n=t.config)!==null&&n!==void 0?n:this.config});this.sendPromise=a.then(()=>{}).catch(()=>{});const s=await a;return this.processStreamResponse(s,i)}getHistory(t=!1){const n=t?CS(this.history):this.history;return structuredClone(n)}processStreamResponse(t,n){return Si(this,arguments,function*(){var a,s,l,c,f,h;const d=[];try{for(var m=!0,v=bi(t),x;x=yield Ot(v.next()),a=x.done,!a;m=!0){c=x.value,m=!1;const S=c;if(nB(S)){const b=(h=(f=S.candidates)===null||f===void 0?void 0:f[0])===null||h===void 0?void 0:h.content;b!==void 0&&d.push(b)}yield yield Ot(S)}}catch(S){s={error:S}}finally{try{!m&&!a&&(l=v.return)&&(yield Ot(l.call(v)))}finally{if(s)throw s.error}}this.recordHistory(n,d)})}recordHistory(t,n,i){let a=[];n.length>0&&n.every(s=>s.role!==void 0)?a=n:a.push({role:"model",parts:[]}),i&&i.length>0?this.history.push(...CS(i)):this.history.push(t),this.history.push(...a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class vf extends Error{constructor(t){super(t.message),this.name="ApiError",this.status=t.status,Object.setPrototypeOf(this,vf.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function oB(e){const t={},n=g(e,["file"]);return n!=null&&y(t,["file"],n),t}function sB(e){const t={},n=g(e,["sdkHttpResponse"]);return n!=null&&y(t,["sdkHttpResponse"],n),t}function lB(e){const t={},n=g(e,["name"]);return n!=null&&y(t,["_url","file"],L1(n)),t}function cB(e){const t={},n=g(e,["sdkHttpResponse"]);return n!=null&&y(t,["sdkHttpResponse"],n),t}function uB(e){const t={},n=g(e,["name"]);return n!=null&&y(t,["_url","file"],L1(n)),t}function hB(e,t){const n={},i=g(e,["pageSize"]);t!==void 0&&i!=null&&y(t,["_query","pageSize"],i);const a=g(e,["pageToken"]);return t!==void 0&&a!=null&&y(t,["_query","pageToken"],a),n}function fB(e){const t={},n=g(e,["config"]);return n!=null&&hB(n,t),t}function dB(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const i=g(e,["nextPageToken"]);i!=null&&y(t,["nextPageToken"],i);const a=g(e,["files"]);if(a!=null){let s=a;Array.isArray(s)&&(s=s.map(l=>l)),y(t,["files"],s)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class pB extends br{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new Ka(xr.PAGED_ITEM_FILES,i=>this.listInternal(i),await this.listInternal(n),n)}async upload(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(t.file,t.config).then(n=>n)}async download(t){await this.apiClient.downloadFile(t)}async listInternal(t){var n,i;let a,s="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=fB(t);return s=mt("files",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(h=>{const d=h;return d.sdkHttpResponse={headers:f.headers},d})),a.then(f=>{const h=dB(f),d=new vD;return Object.assign(d,h),d})}}async createInternal(t){var n,i;let a,s="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=oB(t);return s=mt("upload/v1beta/files",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),a.then(f=>{const h=sB(f),d=new _D;return Object.assign(d,h),d})}}async get(t){var n,i;let a,s="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=uB(t);return s=mt("files/{file}",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),a.then(f=>f)}}async delete(t){var n,i;let a,s="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=lB(t);return s=mt("files/{file}",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(h=>{const d=h;return d.sdkHttpResponse={headers:f.headers},d})),a.then(f=>{const h=cB(f),d=new xD;return Object.assign(d,h),d})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function fh(e){const t={},n=g(e,["data"]);if(n!=null&&y(t,["data"],n),g(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=g(e,["mimeType"]);return i!=null&&y(t,["mimeType"],i),t}function gB(e){const t={},n=g(e,["parts"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(s=>NB(s))),y(t,["parts"],a)}const i=g(e,["role"]);return i!=null&&y(t,["role"],i),t}function mB(e){const t={};if(g(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=g(e,["fileUri"]);n!=null&&y(t,["fileUri"],n);const i=g(e,["mimeType"]);return i!=null&&y(t,["mimeType"],i),t}function yB(e){const t={},n=g(e,["id"]);n!=null&&y(t,["id"],n);const i=g(e,["args"]);i!=null&&y(t,["args"],i);const a=g(e,["name"]);if(a!=null&&y(t,["name"],a),g(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(g(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function vB(e){const t={};if(g(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=g(e,["description"]);n!=null&&y(t,["description"],n);const i=g(e,["name"]);i!=null&&y(t,["name"],i);const a=g(e,["parameters"]);a!=null&&y(t,["parameters"],a);const s=g(e,["parametersJsonSchema"]);s!=null&&y(t,["parametersJsonSchema"],s);const l=g(e,["response"]);l!=null&&y(t,["response"],l);const c=g(e,["responseJsonSchema"]);return c!=null&&y(t,["responseJsonSchema"],c),t}function _B(e){const t={},n=g(e,["modelSelectionConfig"]);n!=null&&y(t,["modelConfig"],n);const i=g(e,["responseJsonSchema"]);i!=null&&y(t,["responseJsonSchema"],i);const a=g(e,["audioTimestamp"]);a!=null&&y(t,["audioTimestamp"],a);const s=g(e,["candidateCount"]);s!=null&&y(t,["candidateCount"],s);const l=g(e,["enableAffectiveDialog"]);l!=null&&y(t,["enableAffectiveDialog"],l);const c=g(e,["frequencyPenalty"]);c!=null&&y(t,["frequencyPenalty"],c);const f=g(e,["logprobs"]);f!=null&&y(t,["logprobs"],f);const h=g(e,["maxOutputTokens"]);h!=null&&y(t,["maxOutputTokens"],h);const d=g(e,["mediaResolution"]);d!=null&&y(t,["mediaResolution"],d);const m=g(e,["presencePenalty"]);m!=null&&y(t,["presencePenalty"],m);const v=g(e,["responseLogprobs"]);v!=null&&y(t,["responseLogprobs"],v);const x=g(e,["responseMimeType"]);x!=null&&y(t,["responseMimeType"],x);const S=g(e,["responseModalities"]);S!=null&&y(t,["responseModalities"],S);const b=g(e,["responseSchema"]);b!=null&&y(t,["responseSchema"],b);const E=g(e,["routingConfig"]);E!=null&&y(t,["routingConfig"],E);const A=g(e,["seed"]);A!=null&&y(t,["seed"],A);const k=g(e,["speechConfig"]);k!=null&&y(t,["speechConfig"],k);const R=g(e,["stopSequences"]);R!=null&&y(t,["stopSequences"],R);const I=g(e,["temperature"]);I!=null&&y(t,["temperature"],I);const B=g(e,["thinkingConfig"]);B!=null&&y(t,["thinkingConfig"],B);const L=g(e,["topK"]);L!=null&&y(t,["topK"],L);const N=g(e,["topP"]);if(N!=null&&y(t,["topP"],N),g(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function xB(e){const t={};if(g(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=g(e,["enableWidget"]);return n!=null&&y(t,["enableWidget"],n),t}function CB(e){const t={};if(g(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(g(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=g(e,["timeRangeFilter"]);return n!=null&&y(t,["timeRangeFilter"],n),t}function SB(e,t){const n={},i=g(e,["generationConfig"]);t!==void 0&&i!=null&&y(t,["setup","generationConfig"],i);const a=g(e,["responseModalities"]);t!==void 0&&a!=null&&y(t,["setup","generationConfig","responseModalities"],a);const s=g(e,["temperature"]);t!==void 0&&s!=null&&y(t,["setup","generationConfig","temperature"],s);const l=g(e,["topP"]);t!==void 0&&l!=null&&y(t,["setup","generationConfig","topP"],l);const c=g(e,["topK"]);t!==void 0&&c!=null&&y(t,["setup","generationConfig","topK"],c);const f=g(e,["maxOutputTokens"]);t!==void 0&&f!=null&&y(t,["setup","generationConfig","maxOutputTokens"],f);const h=g(e,["mediaResolution"]);t!==void 0&&h!=null&&y(t,["setup","generationConfig","mediaResolution"],h);const d=g(e,["seed"]);t!==void 0&&d!=null&&y(t,["setup","generationConfig","seed"],d);const m=g(e,["speechConfig"]);t!==void 0&&m!=null&&y(t,["setup","generationConfig","speechConfig"],ry(m));const v=g(e,["thinkingConfig"]);t!==void 0&&v!=null&&y(t,["setup","generationConfig","thinkingConfig"],v);const x=g(e,["enableAffectiveDialog"]);t!==void 0&&x!=null&&y(t,["setup","generationConfig","enableAffectiveDialog"],x);const S=g(e,["systemInstruction"]);t!==void 0&&S!=null&&y(t,["setup","systemInstruction"],gB(sn(S)));const b=g(e,["tools"]);if(t!==void 0&&b!=null){let L=ys(b);Array.isArray(L)&&(L=L.map(N=>DB(ms(N)))),y(t,["setup","tools"],L)}const E=g(e,["sessionResumption"]);t!==void 0&&E!=null&&y(t,["setup","sessionResumption"],LB(E));const A=g(e,["inputAudioTranscription"]);t!==void 0&&A!=null&&y(t,["setup","inputAudioTranscription"],A);const k=g(e,["outputAudioTranscription"]);t!==void 0&&k!=null&&y(t,["setup","outputAudioTranscription"],k);const R=g(e,["realtimeInputConfig"]);t!==void 0&&R!=null&&y(t,["setup","realtimeInputConfig"],R);const I=g(e,["contextWindowCompression"]);t!==void 0&&I!=null&&y(t,["setup","contextWindowCompression"],I);const B=g(e,["proactivity"]);if(t!==void 0&&B!=null&&y(t,["setup","proactivity"],B),g(e,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function bB(e,t){const n={},i=g(e,["generationConfig"]);t!==void 0&&i!=null&&y(t,["setup","generationConfig"],_B(i));const a=g(e,["responseModalities"]);t!==void 0&&a!=null&&y(t,["setup","generationConfig","responseModalities"],a);const s=g(e,["temperature"]);t!==void 0&&s!=null&&y(t,["setup","generationConfig","temperature"],s);const l=g(e,["topP"]);t!==void 0&&l!=null&&y(t,["setup","generationConfig","topP"],l);const c=g(e,["topK"]);t!==void 0&&c!=null&&y(t,["setup","generationConfig","topK"],c);const f=g(e,["maxOutputTokens"]);t!==void 0&&f!=null&&y(t,["setup","generationConfig","maxOutputTokens"],f);const h=g(e,["mediaResolution"]);t!==void 0&&h!=null&&y(t,["setup","generationConfig","mediaResolution"],h);const d=g(e,["seed"]);t!==void 0&&d!=null&&y(t,["setup","generationConfig","seed"],d);const m=g(e,["speechConfig"]);t!==void 0&&m!=null&&y(t,["setup","generationConfig","speechConfig"],ry(m));const v=g(e,["thinkingConfig"]);t!==void 0&&v!=null&&y(t,["setup","generationConfig","thinkingConfig"],v);const x=g(e,["enableAffectiveDialog"]);t!==void 0&&x!=null&&y(t,["setup","generationConfig","enableAffectiveDialog"],x);const S=g(e,["systemInstruction"]);t!==void 0&&S!=null&&y(t,["setup","systemInstruction"],sn(S));const b=g(e,["tools"]);if(t!==void 0&&b!=null){let N=ys(b);Array.isArray(N)&&(N=N.map(V=>IB(ms(V)))),y(t,["setup","tools"],N)}const E=g(e,["sessionResumption"]);t!==void 0&&E!=null&&y(t,["setup","sessionResumption"],E);const A=g(e,["inputAudioTranscription"]);t!==void 0&&A!=null&&y(t,["setup","inputAudioTranscription"],A);const k=g(e,["outputAudioTranscription"]);t!==void 0&&k!=null&&y(t,["setup","outputAudioTranscription"],k);const R=g(e,["realtimeInputConfig"]);t!==void 0&&R!=null&&y(t,["setup","realtimeInputConfig"],R);const I=g(e,["contextWindowCompression"]);t!==void 0&&I!=null&&y(t,["setup","contextWindowCompression"],I);const B=g(e,["proactivity"]);t!==void 0&&B!=null&&y(t,["setup","proactivity"],B);const L=g(e,["explicitVadSignal"]);return t!==void 0&&L!=null&&y(t,["setup","explicitVadSignal"],L),n}function TB(e,t){const n={},i=g(t,["model"]);i!=null&&y(n,["setup","model"],ee(e,i));const a=g(t,["config"]);return a!=null&&y(n,["config"],SB(a,n)),n}function EB(e,t){const n={},i=g(t,["model"]);i!=null&&y(n,["setup","model"],ee(e,i));const a=g(t,["config"]);return a!=null&&y(n,["config"],bB(a,n)),n}function wB(e){const t={},n=g(e,["musicGenerationConfig"]);return n!=null&&y(t,["musicGenerationConfig"],n),t}function AB(e){const t={},n=g(e,["weightedPrompts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>a)),y(t,["weightedPrompts"],i)}return t}function kB(e){const t={},n=g(e,["media"]);if(n!=null){let h=A1(n);Array.isArray(h)&&(h=h.map(d=>fh(d))),y(t,["mediaChunks"],h)}const i=g(e,["audio"]);i!=null&&y(t,["audio"],fh(M1(i)));const a=g(e,["audioStreamEnd"]);a!=null&&y(t,["audioStreamEnd"],a);const s=g(e,["video"]);s!=null&&y(t,["video"],fh(k1(s)));const l=g(e,["text"]);l!=null&&y(t,["text"],l);const c=g(e,["activityStart"]);c!=null&&y(t,["activityStart"],c);const f=g(e,["activityEnd"]);return f!=null&&y(t,["activityEnd"],f),t}function MB(e){const t={},n=g(e,["media"]);if(n!=null){let h=A1(n);Array.isArray(h)&&(h=h.map(d=>d)),y(t,["mediaChunks"],h)}const i=g(e,["audio"]);i!=null&&y(t,["audio"],M1(i));const a=g(e,["audioStreamEnd"]);a!=null&&y(t,["audioStreamEnd"],a);const s=g(e,["video"]);s!=null&&y(t,["video"],k1(s));const l=g(e,["text"]);l!=null&&y(t,["text"],l);const c=g(e,["activityStart"]);c!=null&&y(t,["activityStart"],c);const f=g(e,["activityEnd"]);return f!=null&&y(t,["activityEnd"],f),t}function RB(e){const t={},n=g(e,["setupComplete"]);n!=null&&y(t,["setupComplete"],n);const i=g(e,["serverContent"]);i!=null&&y(t,["serverContent"],i);const a=g(e,["toolCall"]);a!=null&&y(t,["toolCall"],a);const s=g(e,["toolCallCancellation"]);s!=null&&y(t,["toolCallCancellation"],s);const l=g(e,["usageMetadata"]);l!=null&&y(t,["usageMetadata"],BB(l));const c=g(e,["goAway"]);c!=null&&y(t,["goAway"],c);const f=g(e,["sessionResumptionUpdate"]);f!=null&&y(t,["sessionResumptionUpdate"],f);const h=g(e,["voiceActivityDetectionSignal"]);return h!=null&&y(t,["voiceActivityDetectionSignal"],h),t}function NB(e){const t={},n=g(e,["mediaResolution"]);n!=null&&y(t,["mediaResolution"],n);const i=g(e,["codeExecutionResult"]);i!=null&&y(t,["codeExecutionResult"],i);const a=g(e,["executableCode"]);a!=null&&y(t,["executableCode"],a);const s=g(e,["fileData"]);s!=null&&y(t,["fileData"],mB(s));const l=g(e,["functionCall"]);l!=null&&y(t,["functionCall"],yB(l));const c=g(e,["functionResponse"]);c!=null&&y(t,["functionResponse"],c);const f=g(e,["inlineData"]);f!=null&&y(t,["inlineData"],fh(f));const h=g(e,["text"]);h!=null&&y(t,["text"],h);const d=g(e,["thought"]);d!=null&&y(t,["thought"],d);const m=g(e,["thoughtSignature"]);m!=null&&y(t,["thoughtSignature"],m);const v=g(e,["videoMetadata"]);return v!=null&&y(t,["videoMetadata"],v),t}function LB(e){const t={},n=g(e,["handle"]);if(n!=null&&y(t,["handle"],n),g(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function DB(e){const t={},n=g(e,["functionDeclarations"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(m=>m)),y(t,["functionDeclarations"],d)}if(g(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=g(e,["googleSearchRetrieval"]);i!=null&&y(t,["googleSearchRetrieval"],i);const a=g(e,["computerUse"]);a!=null&&y(t,["computerUse"],a);const s=g(e,["fileSearch"]);s!=null&&y(t,["fileSearch"],s);const l=g(e,["codeExecution"]);if(l!=null&&y(t,["codeExecution"],l),g(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=g(e,["googleMaps"]);c!=null&&y(t,["googleMaps"],xB(c));const f=g(e,["googleSearch"]);f!=null&&y(t,["googleSearch"],CB(f));const h=g(e,["urlContext"]);return h!=null&&y(t,["urlContext"],h),t}function IB(e){const t={},n=g(e,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(v=>vB(v))),y(t,["functionDeclarations"],m)}const i=g(e,["retrieval"]);i!=null&&y(t,["retrieval"],i);const a=g(e,["googleSearchRetrieval"]);a!=null&&y(t,["googleSearchRetrieval"],a);const s=g(e,["computerUse"]);if(s!=null&&y(t,["computerUse"],s),g(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const l=g(e,["codeExecution"]);l!=null&&y(t,["codeExecution"],l);const c=g(e,["enterpriseWebSearch"]);c!=null&&y(t,["enterpriseWebSearch"],c);const f=g(e,["googleMaps"]);f!=null&&y(t,["googleMaps"],f);const h=g(e,["googleSearch"]);h!=null&&y(t,["googleSearch"],h);const d=g(e,["urlContext"]);return d!=null&&y(t,["urlContext"],d),t}function BB(e){const t={},n=g(e,["promptTokenCount"]);n!=null&&y(t,["promptTokenCount"],n);const i=g(e,["cachedContentTokenCount"]);i!=null&&y(t,["cachedContentTokenCount"],i);const a=g(e,["candidatesTokenCount"]);a!=null&&y(t,["responseTokenCount"],a);const s=g(e,["toolUsePromptTokenCount"]);s!=null&&y(t,["toolUsePromptTokenCount"],s);const l=g(e,["thoughtsTokenCount"]);l!=null&&y(t,["thoughtsTokenCount"],l);const c=g(e,["totalTokenCount"]);c!=null&&y(t,["totalTokenCount"],c);const f=g(e,["promptTokensDetails"]);if(f!=null){let x=f;Array.isArray(x)&&(x=x.map(S=>S)),y(t,["promptTokensDetails"],x)}const h=g(e,["cacheTokensDetails"]);if(h!=null){let x=h;Array.isArray(x)&&(x=x.map(S=>S)),y(t,["cacheTokensDetails"],x)}const d=g(e,["candidatesTokensDetails"]);if(d!=null){let x=d;Array.isArray(x)&&(x=x.map(S=>S)),y(t,["responseTokensDetails"],x)}const m=g(e,["toolUsePromptTokensDetails"]);if(m!=null){let x=m;Array.isArray(x)&&(x=x.map(S=>S)),y(t,["toolUsePromptTokensDetails"],x)}const v=g(e,["trafficType"]);return v!=null&&y(t,["trafficType"],v),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function FB(e){const t={},n=g(e,["data"]);if(n!=null&&y(t,["data"],n),g(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=g(e,["mimeType"]);return i!=null&&y(t,["mimeType"],i),t}function OB(e){const t={},n=g(e,["content"]);n!=null&&y(t,["content"],n);const i=g(e,["citationMetadata"]);i!=null&&y(t,["citationMetadata"],PB(i));const a=g(e,["tokenCount"]);a!=null&&y(t,["tokenCount"],a);const s=g(e,["finishReason"]);s!=null&&y(t,["finishReason"],s);const l=g(e,["avgLogprobs"]);l!=null&&y(t,["avgLogprobs"],l);const c=g(e,["groundingMetadata"]);c!=null&&y(t,["groundingMetadata"],c);const f=g(e,["index"]);f!=null&&y(t,["index"],f);const h=g(e,["logprobsResult"]);h!=null&&y(t,["logprobsResult"],h);const d=g(e,["safetyRatings"]);if(d!=null){let v=d;Array.isArray(v)&&(v=v.map(x=>x)),y(t,["safetyRatings"],v)}const m=g(e,["urlContextMetadata"]);return m!=null&&y(t,["urlContextMetadata"],m),t}function PB(e){const t={},n=g(e,["citationSources"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>a)),y(t,["citations"],i)}return t}function UB(e,t){const n={},i=g(t,["model"]);i!=null&&y(n,["_url","model"],ee(e,i));const a=g(t,["contents"]);if(a!=null){let s=oi(a);Array.isArray(s)&&(s=s.map(l=>l)),y(n,["contents"],s)}return n}function $B(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const i=g(e,["tokensInfo"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),y(t,["tokensInfo"],a)}return t}function zB(e){const t={},n=g(e,["values"]);n!=null&&y(t,["values"],n);const i=g(e,["statistics"]);return i!=null&&y(t,["statistics"],qB(i)),t}function qB(e){const t={},n=g(e,["truncated"]);n!=null&&y(t,["truncated"],n);const i=g(e,["token_count"]);return i!=null&&y(t,["tokenCount"],i),t}function _f(e){const t={},n=g(e,["parts"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(s=>Q3(s))),y(t,["parts"],a)}const i=g(e,["role"]);return i!=null&&y(t,["role"],i),t}function HB(e){const t={},n=g(e,["controlType"]);n!=null&&y(t,["controlType"],n);const i=g(e,["enableControlImageComputation"]);return i!=null&&y(t,["computeControl"],i),t}function GB(e){const t={};if(g(e,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(g(e,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(g(e,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return t}function VB(e,t){const n={},i=g(e,["systemInstruction"]);t!==void 0&&i!=null&&y(t,["systemInstruction"],sn(i));const a=g(e,["tools"]);if(t!==void 0&&a!=null){let l=a;Array.isArray(l)&&(l=l.map(c=>H1(c))),y(t,["tools"],l)}const s=g(e,["generationConfig"]);return t!==void 0&&s!=null&&y(t,["generationConfig"],F3(s)),n}function YB(e,t){const n={},i=g(t,["model"]);i!=null&&y(n,["_url","model"],ee(e,i));const a=g(t,["contents"]);if(a!=null){let l=oi(a);Array.isArray(l)&&(l=l.map(c=>_f(c))),y(n,["contents"],l)}const s=g(t,["config"]);return s!=null&&GB(s),n}function WB(e,t){const n={},i=g(t,["model"]);i!=null&&y(n,["_url","model"],ee(e,i));const a=g(t,["contents"]);if(a!=null){let l=oi(a);Array.isArray(l)&&(l=l.map(c=>c)),y(n,["contents"],l)}const s=g(t,["config"]);return s!=null&&VB(s,n),n}function XB(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const i=g(e,["totalTokens"]);i!=null&&y(t,["totalTokens"],i);const a=g(e,["cachedContentTokenCount"]);return a!=null&&y(t,["cachedContentTokenCount"],a),t}function JB(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const i=g(e,["totalTokens"]);return i!=null&&y(t,["totalTokens"],i),t}function KB(e,t){const n={},i=g(t,["model"]);return i!=null&&y(n,["_url","name"],ee(e,i)),n}function QB(e,t){const n={},i=g(t,["model"]);return i!=null&&y(n,["_url","name"],ee(e,i)),n}function ZB(e){const t={},n=g(e,["sdkHttpResponse"]);return n!=null&&y(t,["sdkHttpResponse"],n),t}function jB(e){const t={},n=g(e,["sdkHttpResponse"]);return n!=null&&y(t,["sdkHttpResponse"],n),t}function t3(e,t){const n={},i=g(e,["outputGcsUri"]);t!==void 0&&i!=null&&y(t,["parameters","storageUri"],i);const a=g(e,["negativePrompt"]);t!==void 0&&a!=null&&y(t,["parameters","negativePrompt"],a);const s=g(e,["numberOfImages"]);t!==void 0&&s!=null&&y(t,["parameters","sampleCount"],s);const l=g(e,["aspectRatio"]);t!==void 0&&l!=null&&y(t,["parameters","aspectRatio"],l);const c=g(e,["guidanceScale"]);t!==void 0&&c!=null&&y(t,["parameters","guidanceScale"],c);const f=g(e,["seed"]);t!==void 0&&f!=null&&y(t,["parameters","seed"],f);const h=g(e,["safetyFilterLevel"]);t!==void 0&&h!=null&&y(t,["parameters","safetySetting"],h);const d=g(e,["personGeneration"]);t!==void 0&&d!=null&&y(t,["parameters","personGeneration"],d);const m=g(e,["includeSafetyAttributes"]);t!==void 0&&m!=null&&y(t,["parameters","includeSafetyAttributes"],m);const v=g(e,["includeRaiReason"]);t!==void 0&&v!=null&&y(t,["parameters","includeRaiReason"],v);const x=g(e,["language"]);t!==void 0&&x!=null&&y(t,["parameters","language"],x);const S=g(e,["outputMimeType"]);t!==void 0&&S!=null&&y(t,["parameters","outputOptions","mimeType"],S);const b=g(e,["outputCompressionQuality"]);t!==void 0&&b!=null&&y(t,["parameters","outputOptions","compressionQuality"],b);const E=g(e,["addWatermark"]);t!==void 0&&E!=null&&y(t,["parameters","addWatermark"],E);const A=g(e,["labels"]);t!==void 0&&A!=null&&y(t,["labels"],A);const k=g(e,["editMode"]);t!==void 0&&k!=null&&y(t,["parameters","editMode"],k);const R=g(e,["baseSteps"]);return t!==void 0&&R!=null&&y(t,["parameters","editConfig","baseSteps"],R),n}function e3(e,t){const n={},i=g(t,["model"]);i!=null&&y(n,["_url","model"],ee(e,i));const a=g(t,["prompt"]);a!=null&&y(n,["instances[0]","prompt"],a);const s=g(t,["referenceImages"]);if(s!=null){let c=s;Array.isArray(c)&&(c=c.map(f=>i5(f))),y(n,["instances[0]","referenceImages"],c)}const l=g(t,["config"]);return l!=null&&t3(l,n),n}function n3(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const i=g(e,["predictions"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>xf(s))),y(t,["generatedImages"],a)}return t}function i3(e,t){const n={},i=g(e,["taskType"]);t!==void 0&&i!=null&&y(t,["requests[]","taskType"],i);const a=g(e,["title"]);t!==void 0&&a!=null&&y(t,["requests[]","title"],a);const s=g(e,["outputDimensionality"]);if(t!==void 0&&s!=null&&y(t,["requests[]","outputDimensionality"],s),g(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(g(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function r3(e,t){const n={},i=g(e,["taskType"]);t!==void 0&&i!=null&&y(t,["instances[]","task_type"],i);const a=g(e,["title"]);t!==void 0&&a!=null&&y(t,["instances[]","title"],a);const s=g(e,["outputDimensionality"]);t!==void 0&&s!=null&&y(t,["parameters","outputDimensionality"],s);const l=g(e,["mimeType"]);t!==void 0&&l!=null&&y(t,["instances[]","mimeType"],l);const c=g(e,["autoTruncate"]);return t!==void 0&&c!=null&&y(t,["parameters","autoTruncate"],c),n}function a3(e,t){const n={},i=g(t,["model"]);i!=null&&y(n,["_url","model"],ee(e,i));const a=g(t,["contents"]);if(a!=null){let c=ey(e,a);Array.isArray(c)&&(c=c.map(f=>f)),y(n,["requests[]","content"],c)}const s=g(t,["config"]);s!=null&&i3(s,n);const l=g(t,["model"]);return l!==void 0&&y(n,["requests[]","model"],ee(e,l)),n}function o3(e,t){const n={},i=g(t,["model"]);i!=null&&y(n,["_url","model"],ee(e,i));const a=g(t,["contents"]);if(a!=null){let l=ey(e,a);Array.isArray(l)&&(l=l.map(c=>c)),y(n,["instances[]","content"],l)}const s=g(t,["config"]);return s!=null&&r3(s,n),n}function s3(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const i=g(e,["embeddings"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(l=>l)),y(t,["embeddings"],s)}const a=g(e,["metadata"]);return a!=null&&y(t,["metadata"],a),t}function l3(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const i=g(e,["predictions[]","embeddings"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(l=>zB(l))),y(t,["embeddings"],s)}const a=g(e,["metadata"]);return a!=null&&y(t,["metadata"],a),t}function c3(e){const t={},n=g(e,["endpoint"]);n!=null&&y(t,["name"],n);const i=g(e,["deployedModelId"]);return i!=null&&y(t,["deployedModelId"],i),t}function u3(e){const t={};if(g(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=g(e,["fileUri"]);n!=null&&y(t,["fileUri"],n);const i=g(e,["mimeType"]);return i!=null&&y(t,["mimeType"],i),t}function h3(e){const t={},n=g(e,["id"]);n!=null&&y(t,["id"],n);const i=g(e,["args"]);i!=null&&y(t,["args"],i);const a=g(e,["name"]);if(a!=null&&y(t,["name"],a),g(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(g(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function f3(e){const t={},n=g(e,["mode"]);n!=null&&y(t,["mode"],n);const i=g(e,["allowedFunctionNames"]);if(i!=null&&y(t,["allowedFunctionNames"],i),g(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function d3(e){const t={};if(g(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=g(e,["description"]);n!=null&&y(t,["description"],n);const i=g(e,["name"]);i!=null&&y(t,["name"],i);const a=g(e,["parameters"]);a!=null&&y(t,["parameters"],a);const s=g(e,["parametersJsonSchema"]);s!=null&&y(t,["parametersJsonSchema"],s);const l=g(e,["response"]);l!=null&&y(t,["response"],l);const c=g(e,["responseJsonSchema"]);return c!=null&&y(t,["responseJsonSchema"],c),t}function p3(e,t,n){const i={},a=g(t,["systemInstruction"]);n!==void 0&&a!=null&&y(n,["systemInstruction"],_f(sn(a)));const s=g(t,["temperature"]);s!=null&&y(i,["temperature"],s);const l=g(t,["topP"]);l!=null&&y(i,["topP"],l);const c=g(t,["topK"]);c!=null&&y(i,["topK"],c);const f=g(t,["candidateCount"]);f!=null&&y(i,["candidateCount"],f);const h=g(t,["maxOutputTokens"]);h!=null&&y(i,["maxOutputTokens"],h);const d=g(t,["stopSequences"]);d!=null&&y(i,["stopSequences"],d);const m=g(t,["responseLogprobs"]);m!=null&&y(i,["responseLogprobs"],m);const v=g(t,["logprobs"]);v!=null&&y(i,["logprobs"],v);const x=g(t,["presencePenalty"]);x!=null&&y(i,["presencePenalty"],x);const S=g(t,["frequencyPenalty"]);S!=null&&y(i,["frequencyPenalty"],S);const b=g(t,["seed"]);b!=null&&y(i,["seed"],b);const E=g(t,["responseMimeType"]);E!=null&&y(i,["responseMimeType"],E);const A=g(t,["responseSchema"]);A!=null&&y(i,["responseSchema"],ny(A));const k=g(t,["responseJsonSchema"]);if(k!=null&&y(i,["responseJsonSchema"],k),g(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(g(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const R=g(t,["safetySettings"]);if(n!==void 0&&R!=null){let nt=R;Array.isArray(nt)&&(nt=nt.map(W=>r5(W))),y(n,["safetySettings"],nt)}const I=g(t,["tools"]);if(n!==void 0&&I!=null){let nt=ys(I);Array.isArray(nt)&&(nt=nt.map(W=>h5(ms(W)))),y(n,["tools"],nt)}const B=g(t,["toolConfig"]);if(n!==void 0&&B!=null&&y(n,["toolConfig"],u5(B)),g(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const L=g(t,["cachedContent"]);n!==void 0&&L!=null&&y(n,["cachedContent"],Tr(e,L));const N=g(t,["responseModalities"]);N!=null&&y(i,["responseModalities"],N);const V=g(t,["mediaResolution"]);V!=null&&y(i,["mediaResolution"],V);const Q=g(t,["speechConfig"]);if(Q!=null&&y(i,["speechConfig"],iy(Q)),g(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const et=g(t,["thinkingConfig"]);et!=null&&y(i,["thinkingConfig"],et);const Y=g(t,["imageConfig"]);Y!=null&&y(i,["imageConfig"],z3(Y));const ct=g(t,["enableEnhancedCivicAnswers"]);return ct!=null&&y(i,["enableEnhancedCivicAnswers"],ct),i}function g3(e,t,n){const i={},a=g(t,["systemInstruction"]);n!==void 0&&a!=null&&y(n,["systemInstruction"],sn(a));const s=g(t,["temperature"]);s!=null&&y(i,["temperature"],s);const l=g(t,["topP"]);l!=null&&y(i,["topP"],l);const c=g(t,["topK"]);c!=null&&y(i,["topK"],c);const f=g(t,["candidateCount"]);f!=null&&y(i,["candidateCount"],f);const h=g(t,["maxOutputTokens"]);h!=null&&y(i,["maxOutputTokens"],h);const d=g(t,["stopSequences"]);d!=null&&y(i,["stopSequences"],d);const m=g(t,["responseLogprobs"]);m!=null&&y(i,["responseLogprobs"],m);const v=g(t,["logprobs"]);v!=null&&y(i,["logprobs"],v);const x=g(t,["presencePenalty"]);x!=null&&y(i,["presencePenalty"],x);const S=g(t,["frequencyPenalty"]);S!=null&&y(i,["frequencyPenalty"],S);const b=g(t,["seed"]);b!=null&&y(i,["seed"],b);const E=g(t,["responseMimeType"]);E!=null&&y(i,["responseMimeType"],E);const A=g(t,["responseSchema"]);A!=null&&y(i,["responseSchema"],ny(A));const k=g(t,["responseJsonSchema"]);k!=null&&y(i,["responseJsonSchema"],k);const R=g(t,["routingConfig"]);R!=null&&y(i,["routingConfig"],R);const I=g(t,["modelSelectionConfig"]);I!=null&&y(i,["modelConfig"],I);const B=g(t,["safetySettings"]);if(n!==void 0&&B!=null){let D=B;Array.isArray(D)&&(D=D.map(P=>P)),y(n,["safetySettings"],D)}const L=g(t,["tools"]);if(n!==void 0&&L!=null){let D=ys(L);Array.isArray(D)&&(D=D.map(P=>H1(ms(P)))),y(n,["tools"],D)}const N=g(t,["toolConfig"]);n!==void 0&&N!=null&&y(n,["toolConfig"],N);const V=g(t,["labels"]);n!==void 0&&V!=null&&y(n,["labels"],V);const Q=g(t,["cachedContent"]);n!==void 0&&Q!=null&&y(n,["cachedContent"],Tr(e,Q));const et=g(t,["responseModalities"]);et!=null&&y(i,["responseModalities"],et);const Y=g(t,["mediaResolution"]);Y!=null&&y(i,["mediaResolution"],Y);const ct=g(t,["speechConfig"]);ct!=null&&y(i,["speechConfig"],iy(ct));const nt=g(t,["audioTimestamp"]);nt!=null&&y(i,["audioTimestamp"],nt);const W=g(t,["thinkingConfig"]);W!=null&&y(i,["thinkingConfig"],W);const H=g(t,["imageConfig"]);if(H!=null&&y(i,["imageConfig"],q3(H)),g(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return i}function SS(e,t){const n={},i=g(t,["model"]);i!=null&&y(n,["_url","model"],ee(e,i));const a=g(t,["contents"]);if(a!=null){let l=oi(a);Array.isArray(l)&&(l=l.map(c=>_f(c))),y(n,["contents"],l)}const s=g(t,["config"]);return s!=null&&y(n,["generationConfig"],p3(e,s,n)),n}function bS(e,t){const n={},i=g(t,["model"]);i!=null&&y(n,["_url","model"],ee(e,i));const a=g(t,["contents"]);if(a!=null){let l=oi(a);Array.isArray(l)&&(l=l.map(c=>c)),y(n,["contents"],l)}const s=g(t,["config"]);return s!=null&&y(n,["generationConfig"],g3(e,s,n)),n}function TS(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const i=g(e,["candidates"]);if(i!=null){let f=i;Array.isArray(f)&&(f=f.map(h=>OB(h))),y(t,["candidates"],f)}const a=g(e,["modelVersion"]);a!=null&&y(t,["modelVersion"],a);const s=g(e,["promptFeedback"]);s!=null&&y(t,["promptFeedback"],s);const l=g(e,["responseId"]);l!=null&&y(t,["responseId"],l);const c=g(e,["usageMetadata"]);return c!=null&&y(t,["usageMetadata"],c),t}function ES(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const i=g(e,["candidates"]);if(i!=null){let h=i;Array.isArray(h)&&(h=h.map(d=>d)),y(t,["candidates"],h)}const a=g(e,["createTime"]);a!=null&&y(t,["createTime"],a);const s=g(e,["modelVersion"]);s!=null&&y(t,["modelVersion"],s);const l=g(e,["promptFeedback"]);l!=null&&y(t,["promptFeedback"],l);const c=g(e,["responseId"]);c!=null&&y(t,["responseId"],c);const f=g(e,["usageMetadata"]);return f!=null&&y(t,["usageMetadata"],f),t}function m3(e,t){const n={};if(g(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(g(e,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const i=g(e,["numberOfImages"]);t!==void 0&&i!=null&&y(t,["parameters","sampleCount"],i);const a=g(e,["aspectRatio"]);t!==void 0&&a!=null&&y(t,["parameters","aspectRatio"],a);const s=g(e,["guidanceScale"]);if(t!==void 0&&s!=null&&y(t,["parameters","guidanceScale"],s),g(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const l=g(e,["safetyFilterLevel"]);t!==void 0&&l!=null&&y(t,["parameters","safetySetting"],l);const c=g(e,["personGeneration"]);t!==void 0&&c!=null&&y(t,["parameters","personGeneration"],c);const f=g(e,["includeSafetyAttributes"]);t!==void 0&&f!=null&&y(t,["parameters","includeSafetyAttributes"],f);const h=g(e,["includeRaiReason"]);t!==void 0&&h!=null&&y(t,["parameters","includeRaiReason"],h);const d=g(e,["language"]);t!==void 0&&d!=null&&y(t,["parameters","language"],d);const m=g(e,["outputMimeType"]);t!==void 0&&m!=null&&y(t,["parameters","outputOptions","mimeType"],m);const v=g(e,["outputCompressionQuality"]);if(t!==void 0&&v!=null&&y(t,["parameters","outputOptions","compressionQuality"],v),g(e,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(g(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const x=g(e,["imageSize"]);if(t!==void 0&&x!=null&&y(t,["parameters","sampleImageSize"],x),g(e,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function y3(e,t){const n={},i=g(e,["outputGcsUri"]);t!==void 0&&i!=null&&y(t,["parameters","storageUri"],i);const a=g(e,["negativePrompt"]);t!==void 0&&a!=null&&y(t,["parameters","negativePrompt"],a);const s=g(e,["numberOfImages"]);t!==void 0&&s!=null&&y(t,["parameters","sampleCount"],s);const l=g(e,["aspectRatio"]);t!==void 0&&l!=null&&y(t,["parameters","aspectRatio"],l);const c=g(e,["guidanceScale"]);t!==void 0&&c!=null&&y(t,["parameters","guidanceScale"],c);const f=g(e,["seed"]);t!==void 0&&f!=null&&y(t,["parameters","seed"],f);const h=g(e,["safetyFilterLevel"]);t!==void 0&&h!=null&&y(t,["parameters","safetySetting"],h);const d=g(e,["personGeneration"]);t!==void 0&&d!=null&&y(t,["parameters","personGeneration"],d);const m=g(e,["includeSafetyAttributes"]);t!==void 0&&m!=null&&y(t,["parameters","includeSafetyAttributes"],m);const v=g(e,["includeRaiReason"]);t!==void 0&&v!=null&&y(t,["parameters","includeRaiReason"],v);const x=g(e,["language"]);t!==void 0&&x!=null&&y(t,["parameters","language"],x);const S=g(e,["outputMimeType"]);t!==void 0&&S!=null&&y(t,["parameters","outputOptions","mimeType"],S);const b=g(e,["outputCompressionQuality"]);t!==void 0&&b!=null&&y(t,["parameters","outputOptions","compressionQuality"],b);const E=g(e,["addWatermark"]);t!==void 0&&E!=null&&y(t,["parameters","addWatermark"],E);const A=g(e,["labels"]);t!==void 0&&A!=null&&y(t,["labels"],A);const k=g(e,["imageSize"]);t!==void 0&&k!=null&&y(t,["parameters","sampleImageSize"],k);const R=g(e,["enhancePrompt"]);return t!==void 0&&R!=null&&y(t,["parameters","enhancePrompt"],R),n}function v3(e,t){const n={},i=g(t,["model"]);i!=null&&y(n,["_url","model"],ee(e,i));const a=g(t,["prompt"]);a!=null&&y(n,["instances[0]","prompt"],a);const s=g(t,["config"]);return s!=null&&m3(s,n),n}function _3(e,t){const n={},i=g(t,["model"]);i!=null&&y(n,["_url","model"],ee(e,i));const a=g(t,["prompt"]);a!=null&&y(n,["instances[0]","prompt"],a);const s=g(t,["config"]);return s!=null&&y3(s,n),n}function x3(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const i=g(e,["predictions"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(l=>L3(l))),y(t,["generatedImages"],s)}const a=g(e,["positivePromptSafetyAttributes"]);return a!=null&&y(t,["positivePromptSafetyAttributes"],z1(a)),t}function C3(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const i=g(e,["predictions"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(l=>xf(l))),y(t,["generatedImages"],s)}const a=g(e,["positivePromptSafetyAttributes"]);return a!=null&&y(t,["positivePromptSafetyAttributes"],q1(a)),t}function S3(e,t){const n={},i=g(e,["numberOfVideos"]);if(t!==void 0&&i!=null&&y(t,["parameters","sampleCount"],i),g(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(g(e,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const a=g(e,["durationSeconds"]);if(t!==void 0&&a!=null&&y(t,["parameters","durationSeconds"],a),g(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const s=g(e,["aspectRatio"]);t!==void 0&&s!=null&&y(t,["parameters","aspectRatio"],s);const l=g(e,["resolution"]);t!==void 0&&l!=null&&y(t,["parameters","resolution"],l);const c=g(e,["personGeneration"]);if(t!==void 0&&c!=null&&y(t,["parameters","personGeneration"],c),g(e,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const f=g(e,["negativePrompt"]);t!==void 0&&f!=null&&y(t,["parameters","negativePrompt"],f);const h=g(e,["enhancePrompt"]);if(t!==void 0&&h!=null&&y(t,["parameters","enhancePrompt"],h),g(e,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const d=g(e,["lastFrame"]);t!==void 0&&d!=null&&y(t,["instances[0]","lastFrame"],Cf(d));const m=g(e,["referenceImages"]);if(t!==void 0&&m!=null){let v=m;Array.isArray(v)&&(v=v.map(x=>T5(x))),y(t,["instances[0]","referenceImages"],v)}if(g(e,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(g(e,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function b3(e,t){const n={},i=g(e,["numberOfVideos"]);t!==void 0&&i!=null&&y(t,["parameters","sampleCount"],i);const a=g(e,["outputGcsUri"]);t!==void 0&&a!=null&&y(t,["parameters","storageUri"],a);const s=g(e,["fps"]);t!==void 0&&s!=null&&y(t,["parameters","fps"],s);const l=g(e,["durationSeconds"]);t!==void 0&&l!=null&&y(t,["parameters","durationSeconds"],l);const c=g(e,["seed"]);t!==void 0&&c!=null&&y(t,["parameters","seed"],c);const f=g(e,["aspectRatio"]);t!==void 0&&f!=null&&y(t,["parameters","aspectRatio"],f);const h=g(e,["resolution"]);t!==void 0&&h!=null&&y(t,["parameters","resolution"],h);const d=g(e,["personGeneration"]);t!==void 0&&d!=null&&y(t,["parameters","personGeneration"],d);const m=g(e,["pubsubTopic"]);t!==void 0&&m!=null&&y(t,["parameters","pubsubTopic"],m);const v=g(e,["negativePrompt"]);t!==void 0&&v!=null&&y(t,["parameters","negativePrompt"],v);const x=g(e,["enhancePrompt"]);t!==void 0&&x!=null&&y(t,["parameters","enhancePrompt"],x);const S=g(e,["generateAudio"]);t!==void 0&&S!=null&&y(t,["parameters","generateAudio"],S);const b=g(e,["lastFrame"]);t!==void 0&&b!=null&&y(t,["instances[0]","lastFrame"],wi(b));const E=g(e,["referenceImages"]);if(t!==void 0&&E!=null){let R=E;Array.isArray(R)&&(R=R.map(I=>E5(I))),y(t,["instances[0]","referenceImages"],R)}const A=g(e,["mask"]);t!==void 0&&A!=null&&y(t,["instances[0]","mask"],b5(A));const k=g(e,["compressionQuality"]);return t!==void 0&&k!=null&&y(t,["parameters","compressionQuality"],k),n}function T3(e){const t={},n=g(e,["name"]);n!=null&&y(t,["name"],n);const i=g(e,["metadata"]);i!=null&&y(t,["metadata"],i);const a=g(e,["done"]);a!=null&&y(t,["done"],a);const s=g(e,["error"]);s!=null&&y(t,["error"],s);const l=g(e,["response","generateVideoResponse"]);return l!=null&&y(t,["response"],k3(l)),t}function E3(e){const t={},n=g(e,["name"]);n!=null&&y(t,["name"],n);const i=g(e,["metadata"]);i!=null&&y(t,["metadata"],i);const a=g(e,["done"]);a!=null&&y(t,["done"],a);const s=g(e,["error"]);s!=null&&y(t,["error"],s);const l=g(e,["response"]);return l!=null&&y(t,["response"],M3(l)),t}function w3(e,t){const n={},i=g(t,["model"]);i!=null&&y(n,["_url","model"],ee(e,i));const a=g(t,["prompt"]);a!=null&&y(n,["instances[0]","prompt"],a);const s=g(t,["image"]);s!=null&&y(n,["instances[0]","image"],Cf(s));const l=g(t,["video"]);l!=null&&y(n,["instances[0]","video"],G1(l));const c=g(t,["source"]);c!=null&&R3(c,n);const f=g(t,["config"]);return f!=null&&S3(f,n),n}function A3(e,t){const n={},i=g(t,["model"]);i!=null&&y(n,["_url","model"],ee(e,i));const a=g(t,["prompt"]);a!=null&&y(n,["instances[0]","prompt"],a);const s=g(t,["image"]);s!=null&&y(n,["instances[0]","image"],wi(s));const l=g(t,["video"]);l!=null&&y(n,["instances[0]","video"],V1(l));const c=g(t,["source"]);c!=null&&N3(c,n);const f=g(t,["config"]);return f!=null&&b3(f,n),n}function k3(e){const t={},n=g(e,["generatedSamples"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(l=>I3(l))),y(t,["generatedVideos"],s)}const i=g(e,["raiMediaFilteredCount"]);i!=null&&y(t,["raiMediaFilteredCount"],i);const a=g(e,["raiMediaFilteredReasons"]);return a!=null&&y(t,["raiMediaFilteredReasons"],a),t}function M3(e){const t={},n=g(e,["videos"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(l=>B3(l))),y(t,["generatedVideos"],s)}const i=g(e,["raiMediaFilteredCount"]);i!=null&&y(t,["raiMediaFilteredCount"],i);const a=g(e,["raiMediaFilteredReasons"]);return a!=null&&y(t,["raiMediaFilteredReasons"],a),t}function R3(e,t){const n={},i=g(e,["prompt"]);t!==void 0&&i!=null&&y(t,["instances[0]","prompt"],i);const a=g(e,["image"]);t!==void 0&&a!=null&&y(t,["instances[0]","image"],Cf(a));const s=g(e,["video"]);return t!==void 0&&s!=null&&y(t,["instances[0]","video"],G1(s)),n}function N3(e,t){const n={},i=g(e,["prompt"]);t!==void 0&&i!=null&&y(t,["instances[0]","prompt"],i);const a=g(e,["image"]);t!==void 0&&a!=null&&y(t,["instances[0]","image"],wi(a));const s=g(e,["video"]);return t!==void 0&&s!=null&&y(t,["instances[0]","video"],V1(s)),n}function L3(e){const t={},n=g(e,["_self"]);n!=null&&y(t,["image"],H3(n));const i=g(e,["raiFilteredReason"]);i!=null&&y(t,["raiFilteredReason"],i);const a=g(e,["_self"]);return a!=null&&y(t,["safetyAttributes"],z1(a)),t}function xf(e){const t={},n=g(e,["_self"]);n!=null&&y(t,["image"],$1(n));const i=g(e,["raiFilteredReason"]);i!=null&&y(t,["raiFilteredReason"],i);const a=g(e,["_self"]);a!=null&&y(t,["safetyAttributes"],q1(a));const s=g(e,["prompt"]);return s!=null&&y(t,["enhancedPrompt"],s),t}function D3(e){const t={},n=g(e,["_self"]);n!=null&&y(t,["mask"],$1(n));const i=g(e,["labels"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),y(t,["labels"],a)}return t}function I3(e){const t={},n=g(e,["video"]);return n!=null&&y(t,["video"],C5(n)),t}function B3(e){const t={},n=g(e,["_self"]);return n!=null&&y(t,["video"],S5(n)),t}function F3(e){const t={},n=g(e,["modelSelectionConfig"]);n!=null&&y(t,["modelConfig"],n);const i=g(e,["responseJsonSchema"]);i!=null&&y(t,["responseJsonSchema"],i);const a=g(e,["audioTimestamp"]);a!=null&&y(t,["audioTimestamp"],a);const s=g(e,["candidateCount"]);s!=null&&y(t,["candidateCount"],s);const l=g(e,["enableAffectiveDialog"]);l!=null&&y(t,["enableAffectiveDialog"],l);const c=g(e,["frequencyPenalty"]);c!=null&&y(t,["frequencyPenalty"],c);const f=g(e,["logprobs"]);f!=null&&y(t,["logprobs"],f);const h=g(e,["maxOutputTokens"]);h!=null&&y(t,["maxOutputTokens"],h);const d=g(e,["mediaResolution"]);d!=null&&y(t,["mediaResolution"],d);const m=g(e,["presencePenalty"]);m!=null&&y(t,["presencePenalty"],m);const v=g(e,["responseLogprobs"]);v!=null&&y(t,["responseLogprobs"],v);const x=g(e,["responseMimeType"]);x!=null&&y(t,["responseMimeType"],x);const S=g(e,["responseModalities"]);S!=null&&y(t,["responseModalities"],S);const b=g(e,["responseSchema"]);b!=null&&y(t,["responseSchema"],b);const E=g(e,["routingConfig"]);E!=null&&y(t,["routingConfig"],E);const A=g(e,["seed"]);A!=null&&y(t,["seed"],A);const k=g(e,["speechConfig"]);k!=null&&y(t,["speechConfig"],k);const R=g(e,["stopSequences"]);R!=null&&y(t,["stopSequences"],R);const I=g(e,["temperature"]);I!=null&&y(t,["temperature"],I);const B=g(e,["thinkingConfig"]);B!=null&&y(t,["thinkingConfig"],B);const L=g(e,["topK"]);L!=null&&y(t,["topK"],L);const N=g(e,["topP"]);if(N!=null&&y(t,["topP"],N),g(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function O3(e,t){const n={},i=g(t,["model"]);return i!=null&&y(n,["_url","name"],ee(e,i)),n}function P3(e,t){const n={},i=g(t,["model"]);return i!=null&&y(n,["_url","name"],ee(e,i)),n}function U3(e){const t={};if(g(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=g(e,["enableWidget"]);return n!=null&&y(t,["enableWidget"],n),t}function $3(e){const t={};if(g(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(g(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=g(e,["timeRangeFilter"]);return n!=null&&y(t,["timeRangeFilter"],n),t}function z3(e){const t={},n=g(e,["aspectRatio"]);n!=null&&y(t,["aspectRatio"],n);const i=g(e,["imageSize"]);if(i!=null&&y(t,["imageSize"],i),g(e,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(g(e,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function q3(e){const t={},n=g(e,["aspectRatio"]);n!=null&&y(t,["aspectRatio"],n);const i=g(e,["imageSize"]);i!=null&&y(t,["imageSize"],i);const a=g(e,["outputMimeType"]);a!=null&&y(t,["imageOutputOptions","mimeType"],a);const s=g(e,["outputCompressionQuality"]);return s!=null&&y(t,["imageOutputOptions","compressionQuality"],s),t}function H3(e){const t={},n=g(e,["bytesBase64Encoded"]);n!=null&&y(t,["imageBytes"],sa(n));const i=g(e,["mimeType"]);return i!=null&&y(t,["mimeType"],i),t}function $1(e){const t={},n=g(e,["gcsUri"]);n!=null&&y(t,["gcsUri"],n);const i=g(e,["bytesBase64Encoded"]);i!=null&&y(t,["imageBytes"],sa(i));const a=g(e,["mimeType"]);return a!=null&&y(t,["mimeType"],a),t}function Cf(e){const t={};if(g(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=g(e,["imageBytes"]);n!=null&&y(t,["bytesBase64Encoded"],sa(n));const i=g(e,["mimeType"]);return i!=null&&y(t,["mimeType"],i),t}function wi(e){const t={},n=g(e,["gcsUri"]);n!=null&&y(t,["gcsUri"],n);const i=g(e,["imageBytes"]);i!=null&&y(t,["bytesBase64Encoded"],sa(i));const a=g(e,["mimeType"]);return a!=null&&y(t,["mimeType"],a),t}function G3(e,t,n){const i={},a=g(t,["pageSize"]);n!==void 0&&a!=null&&y(n,["_query","pageSize"],a);const s=g(t,["pageToken"]);n!==void 0&&s!=null&&y(n,["_query","pageToken"],s);const l=g(t,["filter"]);n!==void 0&&l!=null&&y(n,["_query","filter"],l);const c=g(t,["queryBase"]);return n!==void 0&&c!=null&&y(n,["_url","models_url"],D1(e,c)),i}function V3(e,t,n){const i={},a=g(t,["pageSize"]);n!==void 0&&a!=null&&y(n,["_query","pageSize"],a);const s=g(t,["pageToken"]);n!==void 0&&s!=null&&y(n,["_query","pageToken"],s);const l=g(t,["filter"]);n!==void 0&&l!=null&&y(n,["_query","filter"],l);const c=g(t,["queryBase"]);return n!==void 0&&c!=null&&y(n,["_url","models_url"],D1(e,c)),i}function Y3(e,t){const n={},i=g(t,["config"]);return i!=null&&G3(e,i,n),n}function W3(e,t){const n={},i=g(t,["config"]);return i!=null&&V3(e,i,n),n}function X3(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const i=g(e,["nextPageToken"]);i!=null&&y(t,["nextPageToken"],i);const a=g(e,["_self"]);if(a!=null){let s=I1(a);Array.isArray(s)&&(s=s.map(l=>qg(l))),y(t,["models"],s)}return t}function J3(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const i=g(e,["nextPageToken"]);i!=null&&y(t,["nextPageToken"],i);const a=g(e,["_self"]);if(a!=null){let s=I1(a);Array.isArray(s)&&(s=s.map(l=>Hg(l))),y(t,["models"],s)}return t}function K3(e){const t={},n=g(e,["maskMode"]);n!=null&&y(t,["maskMode"],n);const i=g(e,["segmentationClasses"]);i!=null&&y(t,["maskClasses"],i);const a=g(e,["maskDilation"]);return a!=null&&y(t,["dilation"],a),t}function qg(e){const t={},n=g(e,["name"]);n!=null&&y(t,["name"],n);const i=g(e,["displayName"]);i!=null&&y(t,["displayName"],i);const a=g(e,["description"]);a!=null&&y(t,["description"],a);const s=g(e,["version"]);s!=null&&y(t,["version"],s);const l=g(e,["_self"]);l!=null&&y(t,["tunedModelInfo"],f5(l));const c=g(e,["inputTokenLimit"]);c!=null&&y(t,["inputTokenLimit"],c);const f=g(e,["outputTokenLimit"]);f!=null&&y(t,["outputTokenLimit"],f);const h=g(e,["supportedGenerationMethods"]);h!=null&&y(t,["supportedActions"],h);const d=g(e,["temperature"]);d!=null&&y(t,["temperature"],d);const m=g(e,["maxTemperature"]);m!=null&&y(t,["maxTemperature"],m);const v=g(e,["topP"]);v!=null&&y(t,["topP"],v);const x=g(e,["topK"]);x!=null&&y(t,["topK"],x);const S=g(e,["thinking"]);return S!=null&&y(t,["thinking"],S),t}function Hg(e){const t={},n=g(e,["name"]);n!=null&&y(t,["name"],n);const i=g(e,["displayName"]);i!=null&&y(t,["displayName"],i);const a=g(e,["description"]);a!=null&&y(t,["description"],a);const s=g(e,["versionId"]);s!=null&&y(t,["version"],s);const l=g(e,["deployedModels"]);if(l!=null){let m=l;Array.isArray(m)&&(m=m.map(v=>c3(v))),y(t,["endpoints"],m)}const c=g(e,["labels"]);c!=null&&y(t,["labels"],c);const f=g(e,["_self"]);f!=null&&y(t,["tunedModelInfo"],d5(f));const h=g(e,["defaultCheckpointId"]);h!=null&&y(t,["defaultCheckpointId"],h);const d=g(e,["checkpoints"]);if(d!=null){let m=d;Array.isArray(m)&&(m=m.map(v=>v)),y(t,["checkpoints"],m)}return t}function Q3(e){const t={},n=g(e,["mediaResolution"]);n!=null&&y(t,["mediaResolution"],n);const i=g(e,["codeExecutionResult"]);i!=null&&y(t,["codeExecutionResult"],i);const a=g(e,["executableCode"]);a!=null&&y(t,["executableCode"],a);const s=g(e,["fileData"]);s!=null&&y(t,["fileData"],u3(s));const l=g(e,["functionCall"]);l!=null&&y(t,["functionCall"],h3(l));const c=g(e,["functionResponse"]);c!=null&&y(t,["functionResponse"],c);const f=g(e,["inlineData"]);f!=null&&y(t,["inlineData"],FB(f));const h=g(e,["text"]);h!=null&&y(t,["text"],h);const d=g(e,["thought"]);d!=null&&y(t,["thought"],d);const m=g(e,["thoughtSignature"]);m!=null&&y(t,["thoughtSignature"],m);const v=g(e,["videoMetadata"]);return v!=null&&y(t,["videoMetadata"],v),t}function Z3(e){const t={},n=g(e,["productImage"]);return n!=null&&y(t,["image"],wi(n)),t}function j3(e,t){const n={},i=g(e,["numberOfImages"]);t!==void 0&&i!=null&&y(t,["parameters","sampleCount"],i);const a=g(e,["baseSteps"]);t!==void 0&&a!=null&&y(t,["parameters","baseSteps"],a);const s=g(e,["outputGcsUri"]);t!==void 0&&s!=null&&y(t,["parameters","storageUri"],s);const l=g(e,["seed"]);t!==void 0&&l!=null&&y(t,["parameters","seed"],l);const c=g(e,["safetyFilterLevel"]);t!==void 0&&c!=null&&y(t,["parameters","safetySetting"],c);const f=g(e,["personGeneration"]);t!==void 0&&f!=null&&y(t,["parameters","personGeneration"],f);const h=g(e,["addWatermark"]);t!==void 0&&h!=null&&y(t,["parameters","addWatermark"],h);const d=g(e,["outputMimeType"]);t!==void 0&&d!=null&&y(t,["parameters","outputOptions","mimeType"],d);const m=g(e,["outputCompressionQuality"]);t!==void 0&&m!=null&&y(t,["parameters","outputOptions","compressionQuality"],m);const v=g(e,["enhancePrompt"]);t!==void 0&&v!=null&&y(t,["parameters","enhancePrompt"],v);const x=g(e,["labels"]);return t!==void 0&&x!=null&&y(t,["labels"],x),n}function t5(e,t){const n={},i=g(t,["model"]);i!=null&&y(n,["_url","model"],ee(e,i));const a=g(t,["source"]);a!=null&&n5(a,n);const s=g(t,["config"]);return s!=null&&j3(s,n),n}function e5(e){const t={},n=g(e,["predictions"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>xf(a))),y(t,["generatedImages"],i)}return t}function n5(e,t){const n={},i=g(e,["prompt"]);t!==void 0&&i!=null&&y(t,["instances[0]","prompt"],i);const a=g(e,["personImage"]);t!==void 0&&a!=null&&y(t,["instances[0]","personImage","image"],wi(a));const s=g(e,["productImages"]);if(t!==void 0&&s!=null){let l=s;Array.isArray(l)&&(l=l.map(c=>Z3(c))),y(t,["instances[0]","productImages"],l)}return n}function i5(e){const t={},n=g(e,["referenceImage"]);n!=null&&y(t,["referenceImage"],wi(n));const i=g(e,["referenceId"]);i!=null&&y(t,["referenceId"],i);const a=g(e,["referenceType"]);a!=null&&y(t,["referenceType"],a);const s=g(e,["maskImageConfig"]);s!=null&&y(t,["maskImageConfig"],K3(s));const l=g(e,["controlImageConfig"]);l!=null&&y(t,["controlImageConfig"],HB(l));const c=g(e,["styleImageConfig"]);c!=null&&y(t,["styleImageConfig"],c);const f=g(e,["subjectImageConfig"]);return f!=null&&y(t,["subjectImageConfig"],f),t}function z1(e){const t={},n=g(e,["safetyAttributes","categories"]);n!=null&&y(t,["categories"],n);const i=g(e,["safetyAttributes","scores"]);i!=null&&y(t,["scores"],i);const a=g(e,["contentType"]);return a!=null&&y(t,["contentType"],a),t}function q1(e){const t={},n=g(e,["safetyAttributes","categories"]);n!=null&&y(t,["categories"],n);const i=g(e,["safetyAttributes","scores"]);i!=null&&y(t,["scores"],i);const a=g(e,["contentType"]);return a!=null&&y(t,["contentType"],a),t}function r5(e){const t={},n=g(e,["category"]);if(n!=null&&y(t,["category"],n),g(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const i=g(e,["threshold"]);return i!=null&&y(t,["threshold"],i),t}function a5(e){const t={},n=g(e,["image"]);return n!=null&&y(t,["image"],wi(n)),t}function o5(e,t){const n={},i=g(e,["mode"]);t!==void 0&&i!=null&&y(t,["parameters","mode"],i);const a=g(e,["maxPredictions"]);t!==void 0&&a!=null&&y(t,["parameters","maxPredictions"],a);const s=g(e,["confidenceThreshold"]);t!==void 0&&s!=null&&y(t,["parameters","confidenceThreshold"],s);const l=g(e,["maskDilation"]);t!==void 0&&l!=null&&y(t,["parameters","maskDilation"],l);const c=g(e,["binaryColorThreshold"]);t!==void 0&&c!=null&&y(t,["parameters","binaryColorThreshold"],c);const f=g(e,["labels"]);return t!==void 0&&f!=null&&y(t,["labels"],f),n}function s5(e,t){const n={},i=g(t,["model"]);i!=null&&y(n,["_url","model"],ee(e,i));const a=g(t,["source"]);a!=null&&c5(a,n);const s=g(t,["config"]);return s!=null&&o5(s,n),n}function l5(e){const t={},n=g(e,["predictions"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>D3(a))),y(t,["generatedMasks"],i)}return t}function c5(e,t){const n={},i=g(e,["prompt"]);t!==void 0&&i!=null&&y(t,["instances[0]","prompt"],i);const a=g(e,["image"]);t!==void 0&&a!=null&&y(t,["instances[0]","image"],wi(a));const s=g(e,["scribbleImage"]);return t!==void 0&&s!=null&&y(t,["instances[0]","scribble"],a5(s)),n}function u5(e){const t={},n=g(e,["functionCallingConfig"]);n!=null&&y(t,["functionCallingConfig"],f3(n));const i=g(e,["retrievalConfig"]);return i!=null&&y(t,["retrievalConfig"],i),t}function h5(e){const t={},n=g(e,["functionDeclarations"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(m=>m)),y(t,["functionDeclarations"],d)}if(g(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=g(e,["googleSearchRetrieval"]);i!=null&&y(t,["googleSearchRetrieval"],i);const a=g(e,["computerUse"]);a!=null&&y(t,["computerUse"],a);const s=g(e,["fileSearch"]);s!=null&&y(t,["fileSearch"],s);const l=g(e,["codeExecution"]);if(l!=null&&y(t,["codeExecution"],l),g(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=g(e,["googleMaps"]);c!=null&&y(t,["googleMaps"],U3(c));const f=g(e,["googleSearch"]);f!=null&&y(t,["googleSearch"],$3(f));const h=g(e,["urlContext"]);return h!=null&&y(t,["urlContext"],h),t}function H1(e){const t={},n=g(e,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(v=>d3(v))),y(t,["functionDeclarations"],m)}const i=g(e,["retrieval"]);i!=null&&y(t,["retrieval"],i);const a=g(e,["googleSearchRetrieval"]);a!=null&&y(t,["googleSearchRetrieval"],a);const s=g(e,["computerUse"]);if(s!=null&&y(t,["computerUse"],s),g(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const l=g(e,["codeExecution"]);l!=null&&y(t,["codeExecution"],l);const c=g(e,["enterpriseWebSearch"]);c!=null&&y(t,["enterpriseWebSearch"],c);const f=g(e,["googleMaps"]);f!=null&&y(t,["googleMaps"],f);const h=g(e,["googleSearch"]);h!=null&&y(t,["googleSearch"],h);const d=g(e,["urlContext"]);return d!=null&&y(t,["urlContext"],d),t}function f5(e){const t={},n=g(e,["baseModel"]);n!=null&&y(t,["baseModel"],n);const i=g(e,["createTime"]);i!=null&&y(t,["createTime"],i);const a=g(e,["updateTime"]);return a!=null&&y(t,["updateTime"],a),t}function d5(e){const t={},n=g(e,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&y(t,["baseModel"],n);const i=g(e,["createTime"]);i!=null&&y(t,["createTime"],i);const a=g(e,["updateTime"]);return a!=null&&y(t,["updateTime"],a),t}function p5(e,t){const n={},i=g(e,["displayName"]);t!==void 0&&i!=null&&y(t,["displayName"],i);const a=g(e,["description"]);t!==void 0&&a!=null&&y(t,["description"],a);const s=g(e,["defaultCheckpointId"]);return t!==void 0&&s!=null&&y(t,["defaultCheckpointId"],s),n}function g5(e,t){const n={},i=g(e,["displayName"]);t!==void 0&&i!=null&&y(t,["displayName"],i);const a=g(e,["description"]);t!==void 0&&a!=null&&y(t,["description"],a);const s=g(e,["defaultCheckpointId"]);return t!==void 0&&s!=null&&y(t,["defaultCheckpointId"],s),n}function m5(e,t){const n={},i=g(t,["model"]);i!=null&&y(n,["_url","name"],ee(e,i));const a=g(t,["config"]);return a!=null&&p5(a,n),n}function y5(e,t){const n={},i=g(t,["model"]);i!=null&&y(n,["_url","model"],ee(e,i));const a=g(t,["config"]);return a!=null&&g5(a,n),n}function v5(e,t){const n={},i=g(e,["outputGcsUri"]);t!==void 0&&i!=null&&y(t,["parameters","storageUri"],i);const a=g(e,["safetyFilterLevel"]);t!==void 0&&a!=null&&y(t,["parameters","safetySetting"],a);const s=g(e,["personGeneration"]);t!==void 0&&s!=null&&y(t,["parameters","personGeneration"],s);const l=g(e,["includeRaiReason"]);t!==void 0&&l!=null&&y(t,["parameters","includeRaiReason"],l);const c=g(e,["outputMimeType"]);t!==void 0&&c!=null&&y(t,["parameters","outputOptions","mimeType"],c);const f=g(e,["outputCompressionQuality"]);t!==void 0&&f!=null&&y(t,["parameters","outputOptions","compressionQuality"],f);const h=g(e,["enhanceInputImage"]);t!==void 0&&h!=null&&y(t,["parameters","upscaleConfig","enhanceInputImage"],h);const d=g(e,["imagePreservationFactor"]);t!==void 0&&d!=null&&y(t,["parameters","upscaleConfig","imagePreservationFactor"],d);const m=g(e,["labels"]);t!==void 0&&m!=null&&y(t,["labels"],m);const v=g(e,["numberOfImages"]);t!==void 0&&v!=null&&y(t,["parameters","sampleCount"],v);const x=g(e,["mode"]);return t!==void 0&&x!=null&&y(t,["parameters","mode"],x),n}function _5(e,t){const n={},i=g(t,["model"]);i!=null&&y(n,["_url","model"],ee(e,i));const a=g(t,["image"]);a!=null&&y(n,["instances[0]","image"],wi(a));const s=g(t,["upscaleFactor"]);s!=null&&y(n,["parameters","upscaleConfig","upscaleFactor"],s);const l=g(t,["config"]);return l!=null&&v5(l,n),n}function x5(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const i=g(e,["predictions"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>xf(s))),y(t,["generatedImages"],a)}return t}function C5(e){const t={},n=g(e,["uri"]);n!=null&&y(t,["uri"],n);const i=g(e,["encodedVideo"]);i!=null&&y(t,["videoBytes"],sa(i));const a=g(e,["encoding"]);return a!=null&&y(t,["mimeType"],a),t}function S5(e){const t={},n=g(e,["gcsUri"]);n!=null&&y(t,["uri"],n);const i=g(e,["bytesBase64Encoded"]);i!=null&&y(t,["videoBytes"],sa(i));const a=g(e,["mimeType"]);return a!=null&&y(t,["mimeType"],a),t}function b5(e){const t={},n=g(e,["image"]);n!=null&&y(t,["_self"],wi(n));const i=g(e,["maskMode"]);return i!=null&&y(t,["maskMode"],i),t}function T5(e){const t={},n=g(e,["image"]);n!=null&&y(t,["image"],Cf(n));const i=g(e,["referenceType"]);return i!=null&&y(t,["referenceType"],i),t}function E5(e){const t={},n=g(e,["image"]);n!=null&&y(t,["image"],wi(n));const i=g(e,["referenceType"]);return i!=null&&y(t,["referenceType"],i),t}function G1(e){const t={},n=g(e,["uri"]);n!=null&&y(t,["uri"],n);const i=g(e,["videoBytes"]);i!=null&&y(t,["encodedVideo"],sa(i));const a=g(e,["mimeType"]);return a!=null&&y(t,["encoding"],a),t}function V1(e){const t={},n=g(e,["uri"]);n!=null&&y(t,["gcsUri"],n);const i=g(e,["videoBytes"]);i!=null&&y(t,["bytesBase64Encoded"],sa(i));const a=g(e,["mimeType"]);return a!=null&&y(t,["mimeType"],a),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function w5(e,t){const n={},i=g(e,["displayName"]);return t!==void 0&&i!=null&&y(t,["displayName"],i),n}function A5(e){const t={},n=g(e,["config"]);return n!=null&&w5(n,t),t}function k5(e,t){const n={},i=g(e,["force"]);return t!==void 0&&i!=null&&y(t,["_query","force"],i),n}function M5(e){const t={},n=g(e,["name"]);n!=null&&y(t,["_url","name"],n);const i=g(e,["config"]);return i!=null&&k5(i,t),t}function R5(e){const t={},n=g(e,["name"]);return n!=null&&y(t,["_url","name"],n),t}function N5(e,t){const n={},i=g(e,["customMetadata"]);if(t!==void 0&&i!=null){let s=i;Array.isArray(s)&&(s=s.map(l=>l)),y(t,["customMetadata"],s)}const a=g(e,["chunkingConfig"]);return t!==void 0&&a!=null&&y(t,["chunkingConfig"],a),n}function L5(e){const t={},n=g(e,["name"]);n!=null&&y(t,["name"],n);const i=g(e,["metadata"]);i!=null&&y(t,["metadata"],i);const a=g(e,["done"]);a!=null&&y(t,["done"],a);const s=g(e,["error"]);s!=null&&y(t,["error"],s);const l=g(e,["response"]);return l!=null&&y(t,["response"],I5(l)),t}function D5(e){const t={},n=g(e,["fileSearchStoreName"]);n!=null&&y(t,["_url","file_search_store_name"],n);const i=g(e,["fileName"]);i!=null&&y(t,["fileName"],i);const a=g(e,["config"]);return a!=null&&N5(a,t),t}function I5(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const i=g(e,["parent"]);i!=null&&y(t,["parent"],i);const a=g(e,["documentName"]);return a!=null&&y(t,["documentName"],a),t}function B5(e,t){const n={},i=g(e,["pageSize"]);t!==void 0&&i!=null&&y(t,["_query","pageSize"],i);const a=g(e,["pageToken"]);return t!==void 0&&a!=null&&y(t,["_query","pageToken"],a),n}function F5(e){const t={},n=g(e,["config"]);return n!=null&&B5(n,t),t}function O5(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const i=g(e,["nextPageToken"]);i!=null&&y(t,["nextPageToken"],i);const a=g(e,["fileSearchStores"]);if(a!=null){let s=a;Array.isArray(s)&&(s=s.map(l=>l)),y(t,["fileSearchStores"],s)}return t}function Y1(e,t){const n={},i=g(e,["mimeType"]);t!==void 0&&i!=null&&y(t,["mimeType"],i);const a=g(e,["displayName"]);t!==void 0&&a!=null&&y(t,["displayName"],a);const s=g(e,["customMetadata"]);if(t!==void 0&&s!=null){let c=s;Array.isArray(c)&&(c=c.map(f=>f)),y(t,["customMetadata"],c)}const l=g(e,["chunkingConfig"]);return t!==void 0&&l!=null&&y(t,["chunkingConfig"],l),n}function P5(e){const t={},n=g(e,["fileSearchStoreName"]);n!=null&&y(t,["_url","file_search_store_name"],n);const i=g(e,["config"]);return i!=null&&Y1(i,t),t}function U5(e){const t={},n=g(e,["sdkHttpResponse"]);return n!=null&&y(t,["sdkHttpResponse"],n),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const $5="Content-Type",z5="X-Server-Timeout",q5="User-Agent",Gg="x-goog-api-client",H5="1.34.0",G5=`google-genai-sdk/${H5}`,V5="v1beta1",Y5="v1beta";class W5{constructor(t){var n,i;this.clientOptions=Object.assign(Object.assign({},t),{project:t.project,location:t.location,apiKey:t.apiKey,vertexai:t.vertexai});const a={};this.clientOptions.vertexai?(a.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:V5,a.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(a.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:Y5,a.baseUrl="https://generativelanguage.googleapis.com/"),a.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=a,t.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(a,t.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var t;return(t=this.clientOptions.vertexai)!==null&&t!==void 0?t:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}async getAuthHeaders(){const t=new Headers;return await this.clientOptions.auth.addAuthHeaders(t),t}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(t){if(!t||t.baseUrl===void 0||t.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const i=[t.baseUrl.endsWith("/")?t.baseUrl.slice(0,-1):t.baseUrl];return t.apiVersion&&t.apiVersion!==""&&i.push(t.apiVersion),i.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const t=this.getBaseUrl(),n=new URL(t);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(t){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=t;else throw new Error("HTTP options are not correctly set.")}constructUrl(t,n,i){const a=[this.getRequestUrlInternal(n)];return i&&a.push(this.getBaseResourcePath()),t!==""&&a.push(t),new URL(`${a.join("/")}`)}shouldPrependVertexProjectPath(t){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||t.path.startsWith("projects/")||t.httpMethod==="GET"&&t.path.startsWith("publishers/google/models"))}async request(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const i=this.shouldPrependVertexProjectPath(t),a=this.constructUrl(t.path,n,i);if(t.queryParams)for(const[l,c]of Object.entries(t.queryParams))a.searchParams.append(l,String(c));let s={};if(t.httpMethod==="GET"){if(t.body&&t.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else s.body=t.body;return s=await this.includeExtraHttpOptionsToRequestInit(s,n,a.toString(),t.abortSignal),this.unaryApiCall(a,s,t.httpMethod)}patchHttpOptions(t,n){const i=JSON.parse(JSON.stringify(t));for(const[a,s]of Object.entries(n))typeof s=="object"?i[a]=Object.assign(Object.assign({},i[a]),s):s!==void 0&&(i[a]=s);return i}async requestStream(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const i=this.shouldPrependVertexProjectPath(t),a=this.constructUrl(t.path,n,i);(!a.searchParams.has("alt")||a.searchParams.get("alt")!=="sse")&&a.searchParams.set("alt","sse");let s={};return s.body=t.body,s=await this.includeExtraHttpOptionsToRequestInit(s,n,a.toString(),t.abortSignal),this.streamApiCall(a,s,t.httpMethod)}async includeExtraHttpOptionsToRequestInit(t,n,i,a){if(n&&n.timeout||a){const s=new AbortController,l=s.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const c=setTimeout(()=>s.abort(),n.timeout);c&&typeof c.unref=="function"&&c.unref()}a&&a.addEventListener("abort",()=>{s.abort()}),t.signal=l}return n&&n.extraBody!==null&&X5(t,n.extraBody),t.headers=await this.getHeadersInternal(n,i),t}async unaryApiCall(t,n,i){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:i})).then(async a=>(await wS(a),new Ug(a))).catch(a=>{throw a instanceof Error?a:new Error(JSON.stringify(a))})}async streamApiCall(t,n,i){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:i})).then(async a=>(await wS(a),this.processStreamResponse(a))).catch(a=>{throw a instanceof Error?a:new Error(JSON.stringify(a))})}processStreamResponse(t){return Si(this,arguments,function*(){var i;const a=(i=t==null?void 0:t.body)===null||i===void 0?void 0:i.getReader(),s=new TextDecoder("utf-8");if(!a)throw new Error("Response body is empty");try{let l="";const c="data:",f=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:h,value:d}=yield Ot(a.read());if(h){if(l.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const m=s.decode(d,{stream:!0});try{const S=JSON.parse(m);if("error"in S){const b=JSON.parse(JSON.stringify(S.error)),E=b.status,A=b.code,k=`got status: ${E}. ${JSON.stringify(S)}`;if(A>=400&&A<600)throw new vf({message:k,status:A})}}catch(S){if(S.name==="ApiError")throw S}l+=m;let v=-1,x=0;for(;;){v=-1,x=0;for(const E of f){const A=l.indexOf(E);A!==-1&&(v===-1||A<v)&&(v=A,x=E.length)}if(v===-1)break;const S=l.substring(0,v);l=l.substring(v+x);const b=S.trim();if(b.startsWith(c)){const E=b.substring(c.length).trim();try{const A=new Response(E,{headers:t==null?void 0:t.headers,status:t==null?void 0:t.status,statusText:t==null?void 0:t.statusText});yield yield Ot(new Ug(A))}catch(A){throw new Error(`exception parsing stream chunk ${E}. ${A}`)}}}}}finally{a.releaseLock()}})}async apiCall(t,n){return fetch(t,n).catch(i=>{throw new Error(`exception ${i} sending request`)})}getDefaultHeaders(){const t={},n=G5+" "+this.clientOptions.userAgentExtra;return t[q5]=n,t[Gg]=n,t[$5]="application/json",t}async getHeadersInternal(t,n){const i=new Headers;if(t&&t.headers){for(const[a,s]of Object.entries(t.headers))i.append(a,s);t.timeout&&t.timeout>0&&i.append(z5,String(Math.ceil(t.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(i,n),i}getFileName(t){var n;let i="";return typeof t=="string"&&(i=t.replace(/[/\\]+$/,""),i=(n=i.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),i}async uploadFile(t,n){var i;const a={};n!=null&&(a.mimeType=n.mimeType,a.name=n.name,a.displayName=n.displayName),a.name&&!a.name.startsWith("files/")&&(a.name=`files/${a.name}`);const s=this.clientOptions.uploader,l=await s.stat(t);a.sizeBytes=String(l.size);const c=(i=n==null?void 0:n.mimeType)!==null&&i!==void 0?i:l.type;if(c===void 0||c==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");a.mimeType=c;const f={file:a},h=this.getFileName(t),d=mt("upload/v1beta/files",f._url),m=await this.fetchUploadUrl(d,a.sizeBytes,a.mimeType,h,f,n==null?void 0:n.httpOptions);return s.upload(t,m,this)}async uploadFileToFileSearchStore(t,n,i){var a;const s=this.clientOptions.uploader,l=await s.stat(n),c=String(l.size),f=(a=i==null?void 0:i.mimeType)!==null&&a!==void 0?a:l.type;if(f===void 0||f==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const h=`upload/v1beta/${t}:uploadToFileSearchStore`,d=this.getFileName(n),m={};i!=null&&Y1(i,m);const v=await this.fetchUploadUrl(h,c,f,d,m,i==null?void 0:i.httpOptions);return s.uploadToFileSearchStore(n,v,this)}async downloadFile(t){await this.clientOptions.downloader.download(t,this)}async fetchUploadUrl(t,n,i,a,s,l){var c;let f={};l?f=l:f={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${i}`},a?{"X-Goog-Upload-File-Name":a}:{})};const h=await this.request({path:t,body:JSON.stringify(s),httpMethod:"POST",httpOptions:f});if(!h||!(h!=null&&h.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const d=(c=h==null?void 0:h.headers)===null||c===void 0?void 0:c["x-goog-upload-url"];if(d===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return d}}async function wS(e){var t;if(e===void 0)throw new Error("response is undefined");if(!e.ok){const n=e.status;let i;!((t=e.headers.get("content-type"))===null||t===void 0)&&t.includes("application/json")?i=await e.json():i={error:{message:await e.text(),code:e.status,status:e.statusText}};const a=JSON.stringify(i);throw n>=400&&n<600?new vf({message:a,status:n}):new Error(a)}}function X5(e,t){if(!t||Object.keys(t).length===0)return;if(e.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof e.body=="string"&&e.body.length>0)try{const s=JSON.parse(e.body);if(typeof s=="object"&&s!==null&&!Array.isArray(s))n=s;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function i(s,l){const c=Object.assign({},s);for(const f in l)if(Object.prototype.hasOwnProperty.call(l,f)){const h=l[f],d=c[f];h&&typeof h=="object"&&!Array.isArray(h)&&d&&typeof d=="object"&&!Array.isArray(d)?c[f]=i(d,h):(d&&h&&typeof d!=typeof h&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${f}". Original type: ${typeof d}, New type: ${typeof h}. Overwriting.`),c[f]=h)}return c}const a=i(n,t);e.body=JSON.stringify(a)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const J5="mcp_used/unknown";let K5=!1;function W1(e){for(const t of e)if(Q5(t)||typeof t=="object"&&"inputSchema"in t)return!0;return K5}function X1(e){var t;const n=(t=e[Gg])!==null&&t!==void 0?t:"";e[Gg]=(n+` ${J5}`).trimStart()}function Q5(e){return e!==null&&typeof e=="object"&&e instanceof ay}function Z5(e){return Si(this,arguments,function*(n,i=100){let a,s=0;for(;s<i;){const l=yield Ot(n.listTools({cursor:a}));for(const c of l.tools)yield yield Ot(c),s++;if(!l.nextCursor)break;a=l.nextCursor}})}class ay{constructor(t=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=t,this.config=n}static create(t,n){return new ay(t,n)}async initialize(){var t,n,i,a;if(this.mcpTools.length>0)return;const s={},l=[];for(const d of this.mcpClients)try{for(var c=!0,f=(n=void 0,bi(Z5(d))),h;h=await f.next(),t=h.done,!t;c=!0){a=h.value,c=!1;const m=a;l.push(m);const v=m.name;if(s[v])throw new Error(`Duplicate function name ${v} found in MCP tools. Please ensure function names are unique.`);s[v]=d}}catch(m){n={error:m}}finally{try{!c&&!t&&(i=f.return)&&await i.call(f)}finally{if(n)throw n.error}}this.mcpTools=l,this.functionNameToMcpClient=s}async tool(){return await this.initialize(),RD(this.mcpTools,this.config)}async callTool(t){await this.initialize();const n=[];for(const i of t)if(i.name in this.functionNameToMcpClient){const a=this.functionNameToMcpClient[i.name];let s;this.config.timeout&&(s={timeout:this.config.timeout});const l=await a.callTool({name:i.name,arguments:i.args},void 0,s);n.push({functionResponse:{name:i.name,response:l.isError?{error:l}:l}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function j5(e,t,n){const i=new SD;let a;n.data instanceof Blob?a=JSON.parse(await n.data.text()):a=JSON.parse(n.data),Object.assign(i,a),t(i)}class tF{constructor(t,n,i){this.apiClient=t,this.auth=n,this.webSocketFactory=i}async connect(t){var n,i;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const a=this.apiClient.getWebsocketBaseUrl(),s=this.apiClient.getApiVersion(),l=iF(this.apiClient.getDefaultHeaders()),c=this.apiClient.getApiKey(),f=`${a}/ws/google.ai.generativelanguage.${s}.GenerativeService.BidiGenerateMusic?key=${c}`;let h=()=>{};const d=new Promise(R=>{h=R}),m=t.callbacks,v=function(){h({})},x=this.apiClient,S={onopen:v,onmessage:R=>{j5(x,m.onmessage,R)},onerror:(n=m==null?void 0:m.onerror)!==null&&n!==void 0?n:function(R){},onclose:(i=m==null?void 0:m.onclose)!==null&&i!==void 0?i:function(R){}},b=this.webSocketFactory.create(f,nF(l),S);b.connect(),await d;const k={setup:{model:ee(this.apiClient,t.model)}};return b.send(JSON.stringify(k)),new eF(b,this.apiClient)}}class eF{constructor(t,n){this.conn=t,this.apiClient=n}async setWeightedPrompts(t){if(!t.weightedPrompts||Object.keys(t.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=AB(t);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(t){t.musicGenerationConfig||(t.musicGenerationConfig={});const n=wB(t);this.conn.send(JSON.stringify(n))}sendPlaybackControl(t){const n={playbackControl:t};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(Vo.PLAY)}pause(){this.sendPlaybackControl(Vo.PAUSE)}stop(){this.sendPlaybackControl(Vo.STOP)}resetContext(){this.sendPlaybackControl(Vo.RESET_CONTEXT)}close(){this.conn.close()}}function nF(e){const t={};return e.forEach((n,i)=>{t[i]=n}),t}function iF(e){const t=new Headers;for(const[n,i]of Object.entries(e))t.append(n,i);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const rF="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function aF(e,t,n){const i=new CD;let a;n.data instanceof Blob?a=await n.data.text():n.data instanceof ArrayBuffer?a=new TextDecoder().decode(n.data):a=n.data;const s=JSON.parse(a);if(e.isVertexAI()){const l=RB(s);Object.assign(i,l)}else Object.assign(i,s);t(i)}class oF{constructor(t,n,i){this.apiClient=t,this.auth=n,this.webSocketFactory=i,this.music=new tF(this.apiClient,this.auth,this.webSocketFactory)}async connect(t){var n,i,a,s,l,c;if(t.config&&t.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const f=this.apiClient.getWebsocketBaseUrl(),h=this.apiClient.getApiVersion();let d;const m=this.apiClient.getHeaders();t.config&&t.config.tools&&W1(t.config.tools)&&X1(m);const v=uF(m);if(this.apiClient.isVertexAI())d=`${f}/ws/google.cloud.aiplatform.${h}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(v,d);else{const Q=this.apiClient.getApiKey();let et="BidiGenerateContent",Y="key";Q!=null&&Q.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),h!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),et="BidiGenerateContentConstrained",Y="access_token"),d=`${f}/ws/google.ai.generativelanguage.${h}.GenerativeService.${et}?${Y}=${Q}`}let x=()=>{};const S=new Promise(Q=>{x=Q}),b=t.callbacks,E=function(){var Q;(Q=b==null?void 0:b.onopen)===null||Q===void 0||Q.call(b),x({})},A=this.apiClient,k={onopen:E,onmessage:Q=>{aF(A,b.onmessage,Q)},onerror:(n=b==null?void 0:b.onerror)!==null&&n!==void 0?n:function(Q){},onclose:(i=b==null?void 0:b.onclose)!==null&&i!==void 0?i:function(Q){}},R=this.webSocketFactory.create(d,cF(v),k);R.connect(),await S;let I=ee(this.apiClient,t.model);if(this.apiClient.isVertexAI()&&I.startsWith("publishers/")){const Q=this.apiClient.getProject(),et=this.apiClient.getLocation();I=`projects/${Q}/locations/${et}/`+I}let B={};this.apiClient.isVertexAI()&&((a=t.config)===null||a===void 0?void 0:a.responseModalities)===void 0&&(t.config===void 0?t.config={responseModalities:[Mh.AUDIO]}:t.config.responseModalities=[Mh.AUDIO]),!((s=t.config)===null||s===void 0)&&s.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const L=(c=(l=t.config)===null||l===void 0?void 0:l.tools)!==null&&c!==void 0?c:[],N=[];for(const Q of L)if(this.isCallableTool(Q)){const et=Q;N.push(await et.tool())}else N.push(Q);N.length>0&&(t.config.tools=N);const V={model:I,config:t.config,callbacks:t.callbacks};return this.apiClient.isVertexAI()?B=EB(this.apiClient,V):B=TB(this.apiClient,V),delete B.config,R.send(JSON.stringify(B)),new lF(R,this.apiClient)}isCallableTool(t){return"callTool"in t&&typeof t.callTool=="function"}}const sF={turnComplete:!0};class lF{constructor(t,n){this.conn=t,this.apiClient=n}tLiveClientContent(t,n){if(n.turns!==null&&n.turns!==void 0){let i=[];try{i=oi(n.turns),t.isVertexAI()||(i=i.map(a=>_f(a)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:i,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(t,n){let i=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?i=n.functionResponses:i=[n.functionResponses],i.length===0)throw new Error("functionResponses is required.");for(const s of i){if(typeof s!="object"||s===null||!("name"in s)||!("response"in s))throw new Error(`Could not parse function response, type '${typeof s}'.`);if(!t.isVertexAI()&&!("id"in s))throw new Error(rF)}return{toolResponse:{functionResponses:i}}}sendClientContent(t){t=Object.assign(Object.assign({},sF),t);const n=this.tLiveClientContent(this.apiClient,t);this.conn.send(JSON.stringify(n))}sendRealtimeInput(t){let n={};this.apiClient.isVertexAI()?n={realtimeInput:MB(t)}:n={realtimeInput:kB(t)},this.conn.send(JSON.stringify(n))}sendToolResponse(t){if(t.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,t);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function cF(e){const t={};return e.forEach((n,i)=>{t[i]=n}),t}function uF(e){const t=new Headers;for(const[n,i]of Object.entries(e))t.append(n,i);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const AS=10;function kS(e){var t,n,i;if(!((t=e==null?void 0:e.automaticFunctionCalling)===null||t===void 0)&&t.disable)return!0;let a=!1;for(const l of(n=e==null?void 0:e.tools)!==null&&n!==void 0?n:[])if(Jo(l)){a=!0;break}if(!a)return!0;const s=(i=e==null?void 0:e.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls;return s&&(s<0||!Number.isInteger(s))||s==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",s),!0):!1}function Jo(e){return"callTool"in e&&typeof e.callTool=="function"}function hF(e){var t,n,i;return(i=(n=(t=e.config)===null||t===void 0?void 0:t.tools)===null||n===void 0?void 0:n.some(a=>Jo(a)))!==null&&i!==void 0?i:!1}function MS(e){var t;const n=[];return!((t=e==null?void 0:e.config)===null||t===void 0)&&t.tools&&e.config.tools.forEach((i,a)=>{if(Jo(i))return;const s=i;s.functionDeclarations&&s.functionDeclarations.length>0&&n.push(a)}),n}function RS(e){var t;return!(!((t=e==null?void 0:e.automaticFunctionCalling)===null||t===void 0)&&t.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class fF extends br{constructor(t){super(),this.apiClient=t,this.generateContent=async n=>{var i,a,s,l,c;const f=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!hF(n)||kS(n.config))return await this.generateContentInternal(f);const h=MS(n);if(h.length>0){const b=h.map(E=>`tools[${E}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${b}.`)}let d,m;const v=oi(f.contents),x=(s=(a=(i=f.config)===null||i===void 0?void 0:i.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls)!==null&&s!==void 0?s:AS;let S=0;for(;S<x&&(d=await this.generateContentInternal(f),!(!d.functionCalls||d.functionCalls.length===0));){const b=d.candidates[0].content,E=[];for(const A of(c=(l=n.config)===null||l===void 0?void 0:l.tools)!==null&&c!==void 0?c:[])if(Jo(A)){const R=await A.callTool(d.functionCalls);E.push(...R)}S++,m={role:"user",parts:E},f.contents=oi(f.contents),f.contents.push(b),f.contents.push(m),RS(f.config)&&(v.push(b),v.push(m))}return RS(f.config)&&(d.automaticFunctionCallingHistory=v),d},this.generateContentStream=async n=>{var i,a,s,l,c;if(this.maybeMoveToResponseJsonSchem(n),kS(n.config)){const m=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(m)}const f=MS(n);if(f.length>0){const m=f.map(v=>`tools[${v}]`).join(", ");throw new Error(`Incompatible tools found at ${m}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const h=(s=(a=(i=n==null?void 0:n.config)===null||i===void 0?void 0:i.toolConfig)===null||a===void 0?void 0:a.functionCallingConfig)===null||s===void 0?void 0:s.streamFunctionCallArguments,d=(c=(l=n==null?void 0:n.config)===null||l===void 0?void 0:l.automaticFunctionCalling)===null||c===void 0?void 0:c.disable;if(h&&!d)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(i=>{var a;let s;const l=[];if(i!=null&&i.generatedImages)for(const f of i.generatedImages)f&&(f!=null&&f.safetyAttributes)&&((a=f==null?void 0:f.safetyAttributes)===null||a===void 0?void 0:a.contentType)==="Positive Prompt"?s=f==null?void 0:f.safetyAttributes:l.push(f);let c;return s?c={generatedImages:l,positivePromptSafetyAttributes:s,sdkHttpResponse:i.sdkHttpResponse}:c={generatedImages:l,sdkHttpResponse:i.sdkHttpResponse},c}),this.list=async n=>{var i;const l={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!l.config.queryBase){if(!((i=l.config)===null||i===void 0)&&i.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");l.config.filter="labels.tune-type:*"}return new Ka(xr.PAGED_ITEM_MODELS,c=>this.listInternal(c),await this.listInternal(l),l)},this.editImage=async n=>{const i={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(i.referenceImages=n.referenceImages.map(a=>a.toReferenceImageAPI())),await this.editImageInternal(i)},this.upscaleImage=async n=>{let i={numberOfImages:1,mode:"upscale"};n.config&&(i=Object.assign(Object.assign({},i),n.config));const a={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:i};return await this.upscaleImageInternal(a)},this.generateVideos=async n=>{var i,a,s,l,c,f;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((i=n.video)===null||i===void 0)&&i.uri&&(!((a=n.video)===null||a===void 0)&&a.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((l=(s=n.source)===null||s===void 0?void 0:s.video)===null||l===void 0)&&l.uri&&(!((f=(c=n.source)===null||c===void 0?void 0:c.video)===null||f===void 0)&&f.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(t){t.config&&t.config.responseSchema&&(t.config.responseJsonSchema||Object.keys(t.config.responseSchema).includes("$schema")&&(t.config.responseJsonSchema=t.config.responseSchema,delete t.config.responseSchema))}async processParamsMaybeAddMcpUsage(t){var n,i,a;const s=(n=t.config)===null||n===void 0?void 0:n.tools;if(!s)return t;const l=await Promise.all(s.map(async f=>Jo(f)?await f.tool():f)),c={model:t.model,contents:t.contents,config:Object.assign(Object.assign({},t.config),{tools:l})};if(c.config.tools=l,t.config&&t.config.tools&&W1(t.config.tools)){const f=(a=(i=t.config.httpOptions)===null||i===void 0?void 0:i.headers)!==null&&a!==void 0?a:{};let h=Object.assign({},f);Object.keys(h).length===0&&(h=this.apiClient.getDefaultHeaders()),X1(h),c.config.httpOptions=Object.assign(Object.assign({},t.config.httpOptions),{headers:h})}return c}async initAfcToolsMap(t){var n,i,a;const s=new Map;for(const l of(i=(n=t.config)===null||n===void 0?void 0:n.tools)!==null&&i!==void 0?i:[])if(Jo(l)){const c=l,f=await c.tool();for(const h of(a=f.functionDeclarations)!==null&&a!==void 0?a:[]){if(!h.name)throw new Error("Function declaration name is required.");if(s.has(h.name))throw new Error(`Duplicate tool declaration name: ${h.name}`);s.set(h.name,c)}}return s}async processAfcStream(t){var n,i,a;const s=(a=(i=(n=t.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&a!==void 0?a:AS;let l=!1,c=0;const f=await this.initAfcToolsMap(t);return(function(h,d,m){return Si(this,arguments,function*(){for(var v,x,S,b,E,A;c<s;){l&&(c++,l=!1);const B=yield Ot(h.processParamsMaybeAddMcpUsage(m)),L=yield Ot(h.generateContentStreamInternal(B)),N=[],V=[];try{for(var k=!0,R=(x=void 0,bi(L)),I;I=yield Ot(R.next()),v=I.done,!v;k=!0){b=I.value,k=!1;const Q=b;if(yield yield Ot(Q),Q.candidates&&(!((E=Q.candidates[0])===null||E===void 0)&&E.content)){V.push(Q.candidates[0].content);for(const et of(A=Q.candidates[0].content.parts)!==null&&A!==void 0?A:[])if(c<s&&et.functionCall){if(!et.functionCall.name)throw new Error("Function call name was not returned by the model.");if(d.has(et.functionCall.name)){const Y=yield Ot(d.get(et.functionCall.name).callTool([et.functionCall]));N.push(...Y)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${d.keys()}, mising tool: ${et.functionCall.name}`)}}}}catch(Q){x={error:Q}}finally{try{!k&&!v&&(S=R.return)&&(yield Ot(S.call(R)))}finally{if(x)throw x.error}}if(N.length>0){l=!0;const Q=new Al;Q.candidates=[{content:{role:"user",parts:N}}],yield yield Ot(Q);const et=[];et.push(...V),et.push({role:"user",parts:N});const Y=oi(m.contents).concat(et);m.contents=Y}else break}})})(this,f,t)}async generateContentInternal(t){var n,i,a,s;let l,c="",f={};if(this.apiClient.isVertexAI()){const h=bS(this.apiClient,t);return c=mt("{model}:generateContent",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:d.headers},v})),l.then(d=>{const m=ES(d),v=new Al;return Object.assign(v,m),v})}else{const h=SS(this.apiClient,t);return c=mt("{model}:generateContent",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:d.headers},v})),l.then(d=>{const m=TS(d),v=new Al;return Object.assign(v,m),v})}}async generateContentStreamInternal(t){var n,i,a,s;let l,c="",f={};if(this.apiClient.isVertexAI()){const h=bS(this.apiClient,t);return c=mt("{model}:streamGenerateContent?alt=sse",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.requestStream({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}),l.then(function(m){return Si(this,arguments,function*(){var v,x,S,b;try{for(var E=!0,A=bi(m),k;k=yield Ot(A.next()),v=k.done,!v;E=!0){b=k.value,E=!1;const R=b,I=ES(yield Ot(R.json()));I.sdkHttpResponse={headers:R.headers};const B=new Al;Object.assign(B,I),yield yield Ot(B)}}catch(R){x={error:R}}finally{try{!E&&!v&&(S=A.return)&&(yield Ot(S.call(A)))}finally{if(x)throw x.error}}})})}else{const h=SS(this.apiClient,t);return c=mt("{model}:streamGenerateContent?alt=sse",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.requestStream({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}),l.then(function(m){return Si(this,arguments,function*(){var v,x,S,b;try{for(var E=!0,A=bi(m),k;k=yield Ot(A.next()),v=k.done,!v;E=!0){b=k.value,E=!1;const R=b,I=TS(yield Ot(R.json()));I.sdkHttpResponse={headers:R.headers};const B=new Al;Object.assign(B,I),yield yield Ot(B)}}catch(R){x={error:R}}finally{try{!E&&!v&&(S=A.return)&&(yield Ot(S.call(A)))}finally{if(x)throw x.error}}})})}}async embedContent(t){var n,i,a,s;let l,c="",f={};if(this.apiClient.isVertexAI()){const h=o3(this.apiClient,t);return c=mt("{model}:predict",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:d.headers},v})),l.then(d=>{const m=l3(d),v=new aS;return Object.assign(v,m),v})}else{const h=a3(this.apiClient,t);return c=mt("{model}:batchEmbedContents",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:d.headers},v})),l.then(d=>{const m=s3(d),v=new aS;return Object.assign(v,m),v})}}async generateImagesInternal(t){var n,i,a,s;let l,c="",f={};if(this.apiClient.isVertexAI()){const h=_3(this.apiClient,t);return c=mt("{model}:predict",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:d.headers},v})),l.then(d=>{const m=C3(d),v=new oS;return Object.assign(v,m),v})}else{const h=v3(this.apiClient,t);return c=mt("{model}:predict",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:d.headers},v})),l.then(d=>{const m=x3(d),v=new oS;return Object.assign(v,m),v})}}async editImageInternal(t){var n,i;let a,s="",l={};if(this.apiClient.isVertexAI()){const c=e3(this.apiClient,t);return s=mt("{model}:predict",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(h=>{const d=h;return d.sdkHttpResponse={headers:f.headers},d})),a.then(f=>{const h=n3(f),d=new uD;return Object.assign(d,h),d})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(t){var n,i;let a,s="",l={};if(this.apiClient.isVertexAI()){const c=_5(this.apiClient,t);return s=mt("{model}:predict",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(h=>{const d=h;return d.sdkHttpResponse={headers:f.headers},d})),a.then(f=>{const h=x5(f),d=new hD;return Object.assign(d,h),d})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(t){var n,i;let a,s="",l={};if(this.apiClient.isVertexAI()){const c=t5(this.apiClient,t);return s=mt("{model}:predict",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),a.then(f=>{const h=e5(f),d=new fD;return Object.assign(d,h),d})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(t){var n,i;let a,s="",l={};if(this.apiClient.isVertexAI()){const c=s5(this.apiClient,t);return s=mt("{model}:predict",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),a.then(f=>{const h=l5(f),d=new dD;return Object.assign(d,h),d})}else throw new Error("This method is only supported by the Vertex AI.")}async get(t){var n,i,a,s;let l,c="",f={};if(this.apiClient.isVertexAI()){const h=P3(this.apiClient,t);return c=mt("{name}",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),l.then(d=>Hg(d))}else{const h=O3(this.apiClient,t);return c=mt("{name}",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),l.then(d=>qg(d))}}async listInternal(t){var n,i,a,s;let l,c="",f={};if(this.apiClient.isVertexAI()){const h=W3(this.apiClient,t);return c=mt("{models_url}",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:d.headers},v})),l.then(d=>{const m=J3(d),v=new sS;return Object.assign(v,m),v})}else{const h=Y3(this.apiClient,t);return c=mt("{models_url}",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:d.headers},v})),l.then(d=>{const m=X3(d),v=new sS;return Object.assign(v,m),v})}}async update(t){var n,i,a,s;let l,c="",f={};if(this.apiClient.isVertexAI()){const h=y5(this.apiClient,t);return c=mt("{model}",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),l.then(d=>Hg(d))}else{const h=m5(this.apiClient,t);return c=mt("{name}",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),l.then(d=>qg(d))}}async delete(t){var n,i,a,s;let l,c="",f={};if(this.apiClient.isVertexAI()){const h=QB(this.apiClient,t);return c=mt("{name}",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:d.headers},v})),l.then(d=>{const m=jB(d),v=new lS;return Object.assign(v,m),v})}else{const h=KB(this.apiClient,t);return c=mt("{name}",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:d.headers},v})),l.then(d=>{const m=ZB(d),v=new lS;return Object.assign(v,m),v})}}async countTokens(t){var n,i,a,s;let l,c="",f={};if(this.apiClient.isVertexAI()){const h=WB(this.apiClient,t);return c=mt("{model}:countTokens",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:d.headers},v})),l.then(d=>{const m=JB(d),v=new cS;return Object.assign(v,m),v})}else{const h=YB(this.apiClient,t);return c=mt("{model}:countTokens",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:d.headers},v})),l.then(d=>{const m=XB(d),v=new cS;return Object.assign(v,m),v})}}async computeTokens(t){var n,i;let a,s="",l={};if(this.apiClient.isVertexAI()){const c=UB(this.apiClient,t);return s=mt("{model}:computeTokens",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(h=>{const d=h;return d.sdkHttpResponse={headers:f.headers},d})),a.then(f=>{const h=$B(f),d=new pD;return Object.assign(d,h),d})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(t){var n,i,a,s;let l,c="",f={};if(this.apiClient.isVertexAI()){const h=A3(this.apiClient,t);return c=mt("{model}:predictLongRunning",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),l.then(d=>{const m=E3(d),v=new Rh;return Object.assign(v,m),v})}else{const h=w3(this.apiClient,t);return c=mt("{model}:predictLongRunning",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),l.then(d=>{const m=T3(d),v=new Rh;return Object.assign(v,m),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class dF extends br{constructor(t){super(),this.apiClient=t}async getVideosOperation(t){const n=t.operation,i=t.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const a=n.name.split("/operations/")[0];let s;i&&"httpOptions"in i&&(s=i.httpOptions);const l=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:a,config:{httpOptions:s}});return n._fromAPIResponse({apiResponse:l,_isVertexAI:!0})}else{const a=await this.getVideosOperationInternal({operationName:n.name,config:i});return n._fromAPIResponse({apiResponse:a,_isVertexAI:!1})}}async get(t){const n=t.operation,i=t.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const a=n.name.split("/operations/")[0];let s;i&&"httpOptions"in i&&(s=i.httpOptions);const l=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:a,config:{httpOptions:s}});return n._fromAPIResponse({apiResponse:l,_isVertexAI:!0})}else{const a=await this.getVideosOperationInternal({operationName:n.name,config:i});return n._fromAPIResponse({apiResponse:a,_isVertexAI:!1})}}async getVideosOperationInternal(t){var n,i,a,s;let l,c="",f={};if(this.apiClient.isVertexAI()){const h=rD(t);return c=mt("{operationName}",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),l}else{const h=iD(t);return c=mt("{operationName}",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),l}}async fetchPredictVideosOperationInternal(t){var n,i;let a,s="",l={};if(this.apiClient.isVertexAI()){const c=KL(t);return s=mt("{resourceName}:fetchPredictOperation",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),a}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function pF(e){const t={},n=g(e,["data"]);if(n!=null&&y(t,["data"],n),g(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=g(e,["mimeType"]);return i!=null&&y(t,["mimeType"],i),t}function gF(e){const t={},n=g(e,["parts"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(s=>TF(s))),y(t,["parts"],a)}const i=g(e,["role"]);return i!=null&&y(t,["role"],i),t}function mF(e,t,n){const i={},a=g(t,["expireTime"]);n!==void 0&&a!=null&&y(n,["expireTime"],a);const s=g(t,["newSessionExpireTime"]);n!==void 0&&s!=null&&y(n,["newSessionExpireTime"],s);const l=g(t,["uses"]);n!==void 0&&l!=null&&y(n,["uses"],l);const c=g(t,["liveConnectConstraints"]);n!==void 0&&c!=null&&y(n,["bidiGenerateContentSetup"],bF(e,c));const f=g(t,["lockAdditionalFields"]);return n!==void 0&&f!=null&&y(n,["fieldMask"],f),i}function yF(e,t){const n={},i=g(t,["config"]);return i!=null&&y(n,["config"],mF(e,i,n)),n}function vF(e){const t={};if(g(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=g(e,["fileUri"]);n!=null&&y(t,["fileUri"],n);const i=g(e,["mimeType"]);return i!=null&&y(t,["mimeType"],i),t}function _F(e){const t={},n=g(e,["id"]);n!=null&&y(t,["id"],n);const i=g(e,["args"]);i!=null&&y(t,["args"],i);const a=g(e,["name"]);if(a!=null&&y(t,["name"],a),g(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(g(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function xF(e){const t={};if(g(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=g(e,["enableWidget"]);return n!=null&&y(t,["enableWidget"],n),t}function CF(e){const t={};if(g(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(g(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=g(e,["timeRangeFilter"]);return n!=null&&y(t,["timeRangeFilter"],n),t}function SF(e,t){const n={},i=g(e,["generationConfig"]);t!==void 0&&i!=null&&y(t,["setup","generationConfig"],i);const a=g(e,["responseModalities"]);t!==void 0&&a!=null&&y(t,["setup","generationConfig","responseModalities"],a);const s=g(e,["temperature"]);t!==void 0&&s!=null&&y(t,["setup","generationConfig","temperature"],s);const l=g(e,["topP"]);t!==void 0&&l!=null&&y(t,["setup","generationConfig","topP"],l);const c=g(e,["topK"]);t!==void 0&&c!=null&&y(t,["setup","generationConfig","topK"],c);const f=g(e,["maxOutputTokens"]);t!==void 0&&f!=null&&y(t,["setup","generationConfig","maxOutputTokens"],f);const h=g(e,["mediaResolution"]);t!==void 0&&h!=null&&y(t,["setup","generationConfig","mediaResolution"],h);const d=g(e,["seed"]);t!==void 0&&d!=null&&y(t,["setup","generationConfig","seed"],d);const m=g(e,["speechConfig"]);t!==void 0&&m!=null&&y(t,["setup","generationConfig","speechConfig"],ry(m));const v=g(e,["thinkingConfig"]);t!==void 0&&v!=null&&y(t,["setup","generationConfig","thinkingConfig"],v);const x=g(e,["enableAffectiveDialog"]);t!==void 0&&x!=null&&y(t,["setup","generationConfig","enableAffectiveDialog"],x);const S=g(e,["systemInstruction"]);t!==void 0&&S!=null&&y(t,["setup","systemInstruction"],gF(sn(S)));const b=g(e,["tools"]);if(t!==void 0&&b!=null){let L=ys(b);Array.isArray(L)&&(L=L.map(N=>wF(ms(N)))),y(t,["setup","tools"],L)}const E=g(e,["sessionResumption"]);t!==void 0&&E!=null&&y(t,["setup","sessionResumption"],EF(E));const A=g(e,["inputAudioTranscription"]);t!==void 0&&A!=null&&y(t,["setup","inputAudioTranscription"],A);const k=g(e,["outputAudioTranscription"]);t!==void 0&&k!=null&&y(t,["setup","outputAudioTranscription"],k);const R=g(e,["realtimeInputConfig"]);t!==void 0&&R!=null&&y(t,["setup","realtimeInputConfig"],R);const I=g(e,["contextWindowCompression"]);t!==void 0&&I!=null&&y(t,["setup","contextWindowCompression"],I);const B=g(e,["proactivity"]);if(t!==void 0&&B!=null&&y(t,["setup","proactivity"],B),g(e,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function bF(e,t){const n={},i=g(t,["model"]);i!=null&&y(n,["setup","model"],ee(e,i));const a=g(t,["config"]);return a!=null&&y(n,["config"],SF(a,n)),n}function TF(e){const t={},n=g(e,["mediaResolution"]);n!=null&&y(t,["mediaResolution"],n);const i=g(e,["codeExecutionResult"]);i!=null&&y(t,["codeExecutionResult"],i);const a=g(e,["executableCode"]);a!=null&&y(t,["executableCode"],a);const s=g(e,["fileData"]);s!=null&&y(t,["fileData"],vF(s));const l=g(e,["functionCall"]);l!=null&&y(t,["functionCall"],_F(l));const c=g(e,["functionResponse"]);c!=null&&y(t,["functionResponse"],c);const f=g(e,["inlineData"]);f!=null&&y(t,["inlineData"],pF(f));const h=g(e,["text"]);h!=null&&y(t,["text"],h);const d=g(e,["thought"]);d!=null&&y(t,["thought"],d);const m=g(e,["thoughtSignature"]);m!=null&&y(t,["thoughtSignature"],m);const v=g(e,["videoMetadata"]);return v!=null&&y(t,["videoMetadata"],v),t}function EF(e){const t={},n=g(e,["handle"]);if(n!=null&&y(t,["handle"],n),g(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function wF(e){const t={},n=g(e,["functionDeclarations"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(m=>m)),y(t,["functionDeclarations"],d)}if(g(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=g(e,["googleSearchRetrieval"]);i!=null&&y(t,["googleSearchRetrieval"],i);const a=g(e,["computerUse"]);a!=null&&y(t,["computerUse"],a);const s=g(e,["fileSearch"]);s!=null&&y(t,["fileSearch"],s);const l=g(e,["codeExecution"]);if(l!=null&&y(t,["codeExecution"],l),g(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=g(e,["googleMaps"]);c!=null&&y(t,["googleMaps"],xF(c));const f=g(e,["googleSearch"]);f!=null&&y(t,["googleSearch"],CF(f));const h=g(e,["urlContext"]);return h!=null&&y(t,["urlContext"],h),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function AF(e){const t=[];for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)){const i=e[n];if(typeof i=="object"&&i!=null&&Object.keys(i).length>0){const a=Object.keys(i).map(s=>`${n}.${s}`);t.push(...a)}else t.push(n)}return t.join(",")}function kF(e,t){let n=null;const i=e.bidiGenerateContentSetup;if(typeof i=="object"&&i!==null&&"setup"in i){const s=i.setup;typeof s=="object"&&s!==null?(e.bidiGenerateContentSetup=s,n=s):delete e.bidiGenerateContentSetup}else i!==void 0&&delete e.bidiGenerateContentSetup;const a=e.fieldMask;if(n){const s=AF(n);if(Array.isArray(t==null?void 0:t.lockAdditionalFields)&&(t==null?void 0:t.lockAdditionalFields.length)===0)s?e.fieldMask=s:delete e.fieldMask;else if(t!=null&&t.lockAdditionalFields&&t.lockAdditionalFields.length>0&&a!==null&&Array.isArray(a)&&a.length>0){const l=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let c=[];a.length>0&&(c=a.map(h=>l.includes(h)?`generationConfig.${h}`:h));const f=[];s&&f.push(s),c.length>0&&f.push(...c),f.length>0?e.fieldMask=f.join(","):delete e.fieldMask}else delete e.fieldMask}else a!==null&&Array.isArray(a)&&a.length>0?e.fieldMask=a.join(","):delete e.fieldMask;return e}class MF extends br{constructor(t){super(),this.apiClient=t}async create(t){var n,i;let a,s="",l={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const c=yF(this.apiClient,t);s=mt("auth_tokens",c._url),l=c._query,delete c.config,delete c._url,delete c._query;const f=kF(c,t.config);return a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),a.then(h=>h)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function RF(e,t){const n={},i=g(e,["force"]);return t!==void 0&&i!=null&&y(t,["_query","force"],i),n}function NF(e){const t={},n=g(e,["name"]);n!=null&&y(t,["_url","name"],n);const i=g(e,["config"]);return i!=null&&RF(i,t),t}function LF(e){const t={},n=g(e,["name"]);return n!=null&&y(t,["_url","name"],n),t}function DF(e,t){const n={},i=g(e,["pageSize"]);t!==void 0&&i!=null&&y(t,["_query","pageSize"],i);const a=g(e,["pageToken"]);return t!==void 0&&a!=null&&y(t,["_query","pageToken"],a),n}function IF(e){const t={},n=g(e,["parent"]);n!=null&&y(t,["_url","parent"],n);const i=g(e,["config"]);return i!=null&&DF(i,t),t}function BF(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const i=g(e,["nextPageToken"]);i!=null&&y(t,["nextPageToken"],i);const a=g(e,["documents"]);if(a!=null){let s=a;Array.isArray(s)&&(s=s.map(l=>l)),y(t,["documents"],s)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class FF extends br{constructor(t){super(),this.apiClient=t,this.list=async n=>new Ka(xr.PAGED_ITEM_DOCUMENTS,i=>this.listInternal({parent:n.parent,config:i.config}),await this.listInternal(n),n)}async get(t){var n,i;let a,s="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=LF(t);return s=mt("{name}",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),a.then(f=>f)}}async delete(t){var n,i;let a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=NF(t);a=mt("{name}",l._url),s=l._query,delete l._url,delete l._query,await this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal})}}async listInternal(t){var n,i;let a,s="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=IF(t);return s=mt("{parent}/documents",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),a.then(f=>{const h=BF(f),d=new gD;return Object.assign(d,h),d})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class OF extends br{constructor(t,n=new FF(t)){super(),this.apiClient=t,this.documents=n,this.list=async(i={})=>new Ka(xr.PAGED_ITEM_FILE_SEARCH_STORES,a=>this.listInternal(a),await this.listInternal(i),i)}async uploadToFileSearchStore(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(t.fileSearchStoreName,t.file,t.config)}async create(t){var n,i;let a,s="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=A5(t);return s=mt("fileSearchStores",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),a.then(f=>f)}}async get(t){var n,i;let a,s="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=R5(t);return s=mt("{name}",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),a.then(f=>f)}}async delete(t){var n,i;let a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=M5(t);a=mt("{name}",l._url),s=l._query,delete l._url,delete l._query,await this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal})}}async listInternal(t){var n,i;let a,s="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=F5(t);return s=mt("fileSearchStores",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),a.then(f=>{const h=O5(f),d=new mD;return Object.assign(d,h),d})}}async uploadToFileSearchStoreInternal(t){var n,i;let a,s="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=P5(t);return s=mt("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),a.then(f=>{const h=U5(f),d=new yD;return Object.assign(d,h),d})}}async importFile(t){var n,i;let a,s="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=D5(t);return s=mt("{file_search_store_name}:importFile",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),a.then(f=>{const h=L5(f),d=new jm;return Object.assign(d,h),d})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let J1=function(){const{crypto:e}=globalThis;if(e!=null&&e.randomUUID)return J1=e.randomUUID.bind(e),e.randomUUID();const t=new Uint8Array(1),n=e?()=>e.getRandomValues(t)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,i=>(+i^n()&15>>+i/4).toString(16))};const PF=()=>J1();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Vg(e){return typeof e=="object"&&e!==null&&("name"in e&&e.name==="AbortError"||"message"in e&&String(e.message).includes("FetchRequestCanceledException"))}const Yg=e=>{if(e instanceof Error)return e;if(typeof e=="object"&&e!==null){try{if(Object.prototype.toString.call(e)==="[object Error]"){const t=new Error(e.message,e.cause?{cause:e.cause}:{});return e.stack&&(t.stack=e.stack),e.cause&&!t.cause&&(t.cause=e.cause),e.name&&(t.name=e.name),t}}catch{}try{return new Error(JSON.stringify(e))}catch{}}return new Error(e)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class si extends Error{}class xn extends si{constructor(t,n,i,a){super(`${xn.makeMessage(t,n,i)}`),this.status=t,this.headers=a,this.error=n}static makeMessage(t,n,i){const a=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):i;return t&&a?`${t} ${a}`:t?`${t} status code (no body)`:a||"(no status code or body)"}static generate(t,n,i,a){if(!t||!a)return new Sf({message:i,cause:Yg(n)});const s=n;return t===400?new Q1(t,s,i,a):t===401?new Z1(t,s,i,a):t===403?new j1(t,s,i,a):t===404?new tT(t,s,i,a):t===409?new eT(t,s,i,a):t===422?new nT(t,s,i,a):t===429?new iT(t,s,i,a):t>=500?new rT(t,s,i,a):new xn(t,s,i,a)}}class Wg extends xn{constructor({message:t}={}){super(void 0,void 0,t||"Request was aborted.",void 0)}}class Sf extends xn{constructor({message:t,cause:n}){super(void 0,void 0,t||"Connection error.",void 0),n&&(this.cause=n)}}class K1 extends Sf{constructor({message:t}={}){super({message:t??"Request timed out."})}}class Q1 extends xn{}class Z1 extends xn{}class j1 extends xn{}class tT extends xn{}class eT extends xn{}class nT extends xn{}class iT extends xn{}class rT extends xn{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const UF=/^[a-z][a-z0-9+.-]*:/i,$F=e=>UF.test(e);let Xg=e=>(Xg=Array.isArray,Xg(e));const zF=Xg;let qF=zF;const NS=qF;function HF(e){if(!e)return!0;for(const t in e)return!1;return!0}function GF(e,t){return Object.prototype.hasOwnProperty.call(e,t)}const VF=(e,t)=>{if(typeof t!="number"||!Number.isInteger(t))throw new si(`${e} must be an integer`);if(t<0)throw new si(`${e} must be a positive integer`);return t},YF=e=>{try{return JSON.parse(e)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const WF=e=>new Promise(t=>setTimeout(t,e));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const qo="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function XF(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const JF=()=>{var e,t,n,i,a;const s=XF();if(s==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":qo,"X-Stainless-OS":DS(Deno.build.os),"X-Stainless-Arch":LS(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(t=(e=Deno.version)===null||e===void 0?void 0:e.deno)!==null&&t!==void 0?t:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":qo,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(s==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":qo,"X-Stainless-OS":DS((n=globalThis.process.platform)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Arch":LS((i=globalThis.process.arch)!==null&&i!==void 0?i:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(a=globalThis.process.version)!==null&&a!==void 0?a:"unknown"};const l=KF();return l?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":qo,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${l.browser}`,"X-Stainless-Runtime-Version":l.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":qo,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function KF(){if(typeof navigator>"u"||!navigator)return null;const e=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:n}of e){const i=n.exec(navigator.userAgent);if(i){const a=i[1]||0,s=i[2]||0,l=i[3]||0;return{browser:t,version:`${a}.${s}.${l}`}}}return null}const LS=e=>e==="x32"?"x32":e==="x86_64"||e==="x64"?"x64":e==="arm"?"arm":e==="aarch64"||e==="arm64"?"arm64":e?`other:${e}`:"unknown",DS=e=>(e=e.toLowerCase(),e.includes("ios")?"iOS":e==="android"?"Android":e==="darwin"?"MacOS":e==="win32"?"Windows":e==="freebsd"?"FreeBSD":e==="openbsd"?"OpenBSD":e==="linux"?"Linux":e?`Other:${e}`:"Unknown");let Yu;const QF=()=>Yu??(Yu=JF());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ZF(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function aT(...e){const t=globalThis.ReadableStream;if(typeof t>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new t(...e)}function jF(e){let t=Symbol.asyncIterator in e?e[Symbol.asyncIterator]():e[Symbol.iterator]();return aT({start(){},async pull(n){const{done:i,value:a}=await t.next();i?n.close():n.enqueue(a)},async cancel(){var n;await((n=t.return)===null||n===void 0?void 0:n.call(t))}})}function oT(e){if(e[Symbol.asyncIterator])return e;const t=e.getReader();return{async next(){try{const n=await t.read();return n!=null&&n.done&&t.releaseLock(),n}catch(n){throw t.releaseLock(),n}},async return(){const n=t.cancel();return t.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function t4(e){var t,n;if(e===null||typeof e!="object")return;if(e[Symbol.asyncIterator]){await((n=(t=e[Symbol.asyncIterator]()).return)===null||n===void 0?void 0:n.call(t));return}const i=e.getReader(),a=i.cancel();i.releaseLock(),await a}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const e4=({headers:e,body:t})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(t)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const sT=()=>{var e;if(typeof File>"u"){const{process:t}=globalThis,n=typeof((e=t==null?void 0:t.versions)===null||e===void 0?void 0:e.node)=="string"&&parseInt(t.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function dg(e,t,n){return sT(),new File(e,t??"unknown_file",n)}function n4(e){return(typeof e=="object"&&e!==null&&("name"in e&&e.name&&String(e.name)||"url"in e&&e.url&&String(e.url)||"filename"in e&&e.filename&&String(e.filename)||"path"in e&&e.path&&String(e.path))||"").split(/[\\/]/).pop()||void 0}const i4=e=>e!=null&&typeof e=="object"&&typeof e[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const lT=e=>e!=null&&typeof e=="object"&&typeof e.size=="number"&&typeof e.type=="string"&&typeof e.text=="function"&&typeof e.slice=="function"&&typeof e.arrayBuffer=="function",r4=e=>e!=null&&typeof e=="object"&&typeof e.name=="string"&&typeof e.lastModified=="number"&&lT(e),a4=e=>e!=null&&typeof e=="object"&&typeof e.url=="string"&&typeof e.blob=="function";async function o4(e,t,n){if(sT(),e=await e,r4(e))return e instanceof File?e:dg([await e.arrayBuffer()],e.name);if(a4(e)){const a=await e.blob();return t||(t=new URL(e.url).pathname.split(/[\\/]/).pop()),dg(await Jg(a),t,n)}const i=await Jg(e);if(t||(t=n4(e)),!(n!=null&&n.type)){const a=i.find(s=>typeof s=="object"&&"type"in s&&s.type);typeof a=="string"&&(n=Object.assign(Object.assign({},n),{type:a}))}return dg(i,t,n)}async function Jg(e){var t,n,i,a,s;let l=[];if(typeof e=="string"||ArrayBuffer.isView(e)||e instanceof ArrayBuffer)l.push(e);else if(lT(e))l.push(e instanceof Blob?e:await e.arrayBuffer());else if(i4(e))try{for(var c=!0,f=bi(e),h;h=await f.next(),t=h.done,!t;c=!0){a=h.value,c=!1;const d=a;l.push(...await Jg(d))}}catch(d){n={error:d}}finally{try{!c&&!t&&(i=f.return)&&await i.call(f)}finally{if(n)throw n.error}}else{const d=(s=e==null?void 0:e.constructor)===null||s===void 0?void 0:s.name;throw new Error(`Unexpected data type: ${typeof e}${d?`; constructor: ${d}`:""}${s4(e)}`)}return l}function s4(e){return typeof e!="object"||e===null?"":`; props: [${Object.getOwnPropertyNames(e).map(n=>`"${n}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class cT{constructor(t){this._client=t}}cT._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function uT(e){return e.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const IS=Object.freeze(Object.create(null)),l4=(e=uT)=>(function(n,...i){if(n.length===1)return n[0];let a=!1;const s=[],l=n.reduce((d,m,v)=>{var x,S,b;/[?#]/.test(m)&&(a=!0);const E=i[v];let A=(a?encodeURIComponent:e)(""+E);return v!==i.length&&(E==null||typeof E=="object"&&E.toString===((b=Object.getPrototypeOf((S=Object.getPrototypeOf((x=E.hasOwnProperty)!==null&&x!==void 0?x:IS))!==null&&S!==void 0?S:IS))===null||b===void 0?void 0:b.toString))&&(A=E+"",s.push({start:d.length+m.length,length:A.length,error:`Value of type ${Object.prototype.toString.call(E).slice(8,-1)} is not a valid path parameter`})),d+m+(v===i.length?"":A)},""),c=l.split(/[?#]/,1)[0],f=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let h;for(;(h=f.exec(c))!==null;)s.push({start:h.index,length:h[0].length,error:`Value "${h[0]}" can't be safely passed as a path parameter`});if(s.sort((d,m)=>d.start-m.start),s.length>0){let d=0;const m=s.reduce((v,x)=>{const S=" ".repeat(x.start-d),b="^".repeat(x.length);return d=x.start+x.length,v+S+b},"");throw new si(`Path parameters result in path with invalid segments:
${s.map(v=>v.error).join(`
`)}
${l}
${m}`)}return l}),Wu=l4(uT);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class hT extends cT{create(t,n){var i;const{api_version:a=this._client.apiVersion}=t,s=Lh(t,["api_version"]);if("model"in s&&"agent_config"in s)throw new si("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in s&&"generation_config"in s)throw new si("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(Wu`/${a}/interactions`,Object.assign(Object.assign({body:s},n),{stream:(i=t.stream)!==null&&i!==void 0?i:!1}))}delete(t,n={},i){const{api_version:a=this._client.apiVersion}=n??{};return this._client.delete(Wu`/${a}/interactions/${t}`,i)}cancel(t,n={},i){const{api_version:a=this._client.apiVersion}=n??{};return this._client.post(Wu`/${a}/interactions/${t}/cancel`,i)}get(t,n={},i){var a;const s=n??{},{api_version:l=this._client.apiVersion}=s,c=Lh(s,["api_version"]);return this._client.get(Wu`/${l}/interactions/${t}`,Object.assign(Object.assign({query:c},i),{stream:(a=n==null?void 0:n.stream)!==null&&a!==void 0?a:!1}))}}hT._key=Object.freeze(["interactions"]);class fT extends hT{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function c4(e){let t=0;for(const a of e)t+=a.length;const n=new Uint8Array(t);let i=0;for(const a of e)n.set(a,i),i+=a.length;return n}let Xu;function oy(e){let t;return(Xu??(t=new globalThis.TextEncoder,Xu=t.encode.bind(t)))(e)}let Ju;function BS(e){let t;return(Ju??(t=new globalThis.TextDecoder,Ju=t.decode.bind(t)))(e)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class bf{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(t){if(t==null)return[];const n=t instanceof ArrayBuffer?new Uint8Array(t):typeof t=="string"?oy(t):t;this.buffer=c4([this.buffer,n]);const i=[];let a;for(;(a=u4(this.buffer,this.carriageReturnIndex))!=null;){if(a.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=a.index;continue}if(this.carriageReturnIndex!=null&&(a.index!==this.carriageReturnIndex+1||a.carriage)){i.push(BS(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const s=this.carriageReturnIndex!==null?a.preceding-1:a.preceding,l=BS(this.buffer.subarray(0,s));i.push(l),this.buffer=this.buffer.subarray(a.index),this.carriageReturnIndex=null}return i}flush(){return this.buffer.length?this.decode(`
`):[]}}bf.NEWLINE_CHARS=new Set([`
`,"\r"]);bf.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function u4(e,t){for(let a=t??0;a<e.length;a++){if(e[a]===10)return{preceding:a,index:a+1,carriage:!1};if(e[a]===13)return{preceding:a,index:a+1,carriage:!0}}return null}function h4(e){for(let i=0;i<e.length-1;i++){if(e[i]===10&&e[i+1]===10||e[i]===13&&e[i+1]===13)return i+2;if(e[i]===13&&e[i+1]===10&&i+3<e.length&&e[i+2]===13&&e[i+3]===10)return i+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Dh={off:0,error:200,warn:300,info:400,debug:500},FS=(e,t,n)=>{if(e){if(GF(Dh,e))return e;mn(n).warn(`${t} was set to ${JSON.stringify(e)}, expected one of ${JSON.stringify(Object.keys(Dh))}`)}};function zl(){}function Ku(e,t,n){return!t||Dh[e]>Dh[n]?zl:t[e].bind(t)}const f4={error:zl,warn:zl,info:zl,debug:zl};let OS=new WeakMap;function mn(e){var t;const n=e.logger,i=(t=e.logLevel)!==null&&t!==void 0?t:"off";if(!n)return f4;const a=OS.get(n);if(a&&a[0]===i)return a[1];const s={error:Ku("error",n,i),warn:Ku("warn",n,i),info:Ku("info",n,i),debug:Ku("debug",n,i)};return OS.set(n,[i,s]),s}const La=e=>(e.options&&(e.options=Object.assign({},e.options),delete e.options.headers),e.headers&&(e.headers=Object.fromEntries((e.headers instanceof Headers?[...e.headers]:Object.entries(e.headers)).map(([t,n])=>[t,t.toLowerCase()==="x-goog-api-key"||t.toLowerCase()==="authorization"||t.toLowerCase()==="cookie"||t.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in e&&(e.retryOfRequestLogID&&(e.retryOf=e.retryOfRequestLogID),delete e.retryOfRequestLogID),e);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Yo{constructor(t,n,i){this.iterator=t,this.controller=n,this.client=i}static fromSSEResponse(t,n,i){let a=!1;const s=i?mn(i):console;function l(){return Si(this,arguments,function*(){var f,h,d,m;if(a)throw new si("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");a=!0;let v=!1;try{try{for(var x=!0,S=bi(d4(t,n)),b;b=yield Ot(S.next()),f=b.done,!f;x=!0){m=b.value,x=!1;const E=m;if(!v)if(E.data.startsWith("[DONE]")){v=!0;continue}else try{yield yield Ot(JSON.parse(E.data))}catch(A){throw s.error("Could not parse message into JSON:",E.data),s.error("From chunk:",E.raw),A}}}catch(E){h={error:E}}finally{try{!x&&!f&&(d=S.return)&&(yield Ot(d.call(S)))}finally{if(h)throw h.error}}v=!0}catch(E){if(Vg(E))return yield Ot(void 0);throw E}finally{v||n.abort()}})}return new Yo(l,n,i)}static fromReadableStream(t,n,i){let a=!1;function s(){return Si(this,arguments,function*(){var f,h,d,m;const v=new bf,x=oT(t);try{for(var S=!0,b=bi(x),E;E=yield Ot(b.next()),f=E.done,!f;S=!0){m=E.value,S=!1;const A=m;for(const k of v.decode(A))yield yield Ot(k)}}catch(A){h={error:A}}finally{try{!S&&!f&&(d=b.return)&&(yield Ot(d.call(b)))}finally{if(h)throw h.error}}for(const A of v.flush())yield yield Ot(A)})}function l(){return Si(this,arguments,function*(){var f,h,d,m;if(a)throw new si("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");a=!0;let v=!1;try{try{for(var x=!0,S=bi(s()),b;b=yield Ot(S.next()),f=b.done,!f;x=!0){m=b.value,x=!1;const E=m;v||E&&(yield yield Ot(JSON.parse(E)))}}catch(E){h={error:E}}finally{try{!x&&!f&&(d=S.return)&&(yield Ot(d.call(S)))}finally{if(h)throw h.error}}v=!0}catch(E){if(Vg(E))return yield Ot(void 0);throw E}finally{v||n.abort()}})}return new Yo(l,n,i)}[Symbol.asyncIterator](){return this.iterator()}tee(){const t=[],n=[],i=this.iterator(),a=s=>({next:()=>{if(s.length===0){const l=i.next();t.push(l),n.push(l)}return s.shift()}});return[new Yo(()=>a(t),this.controller,this.client),new Yo(()=>a(n),this.controller,this.client)]}toReadableStream(){const t=this;let n;return aT({async start(){n=t[Symbol.asyncIterator]()},async pull(i){try{const{value:a,done:s}=await n.next();if(s)return i.close();const l=oy(JSON.stringify(a)+`
`);i.enqueue(l)}catch(a){i.error(a)}},async cancel(){var i;await((i=n.return)===null||i===void 0?void 0:i.call(n))}})}}function d4(e,t){return Si(this,arguments,function*(){var i,a,s,l;if(!e.body)throw t.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new si("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new si("Attempted to iterate over a response with no body");const c=new g4,f=new bf,h=oT(e.body);try{for(var d=!0,m=bi(p4(h)),v;v=yield Ot(m.next()),i=v.done,!i;d=!0){l=v.value,d=!1;const x=l;for(const S of f.decode(x)){const b=c.decode(S);b&&(yield yield Ot(b))}}}catch(x){a={error:x}}finally{try{!d&&!i&&(s=m.return)&&(yield Ot(s.call(m)))}finally{if(a)throw a.error}}for(const x of f.flush()){const S=c.decode(x);S&&(yield yield Ot(S))}})}function p4(e){return Si(this,arguments,function*(){var n,i,a,s;let l=new Uint8Array;try{for(var c=!0,f=bi(e),h;h=yield Ot(f.next()),n=h.done,!n;c=!0){s=h.value,c=!1;const d=s;if(d==null)continue;const m=d instanceof ArrayBuffer?new Uint8Array(d):typeof d=="string"?oy(d):d;let v=new Uint8Array(l.length+m.length);v.set(l),v.set(m,l.length),l=v;let x;for(;(x=h4(l))!==-1;)yield yield Ot(l.slice(0,x)),l=l.slice(x)}}catch(d){i={error:d}}finally{try{!c&&!n&&(a=f.return)&&(yield Ot(a.call(f)))}finally{if(i)throw i.error}}l.length>0&&(yield yield Ot(l))})}class g4{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(t){if(t.endsWith("\r")&&(t=t.substring(0,t.length-1)),!t){if(!this.event&&!this.data.length)return null;const s={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],s}if(this.chunks.push(t),t.startsWith(":"))return null;let[n,i,a]=m4(t,":");return a.startsWith(" ")&&(a=a.substring(1)),n==="event"?this.event=a:n==="data"&&this.data.push(a),null}}function m4(e,t){const n=e.indexOf(t);return n!==-1?[e.substring(0,n),t,e.substring(n+t.length)]:[e,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function y4(e,t){const{response:n,requestLogID:i,retryOfRequestLogID:a,startTime:s}=t,l=await(async()=>{var c;if(t.options.stream)return mn(e).debug("response",n.status,n.url,n.headers,n.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(n,t.controller,e):Yo.fromSSEResponse(n,t.controller,e);if(n.status===204)return null;if(t.options.__binaryResponse)return n;const f=n.headers.get("content-type"),h=(c=f==null?void 0:f.split(";")[0])===null||c===void 0?void 0:c.trim();return(h==null?void 0:h.includes("application/json"))||(h==null?void 0:h.endsWith("+json"))?await n.json():await n.text()})();return mn(e).debug(`[${i}] response parsed`,La({retryOfRequestLogID:a,url:n.url,status:n.status,body:l,durationMs:Date.now()-s})),l}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class sy extends Promise{constructor(t,n,i=y4){super(a=>{a(null)}),this.responsePromise=n,this.parseResponse=i,this.client=t}_thenUnwrap(t){return new sy(this.client,this.responsePromise,async(n,i)=>t(await this.parseResponse(n,i),i))}asResponse(){return this.responsePromise.then(t=>t.response)}async withResponse(){const[t,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:t,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(t=>this.parseResponse(this.client,t))),this.parsedPromise}then(t,n){return this.parse().then(t,n)}catch(t){return this.parse().catch(t)}finally(t){return this.parse().finally(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const dT=Symbol("brand.privateNullableHeaders");function*v4(e){if(!e)return;if(dT in e){const{values:i,nulls:a}=e;yield*i.entries();for(const s of a)yield[s,null];return}let t=!1,n;e instanceof Headers?n=e.entries():NS(e)?n=e:(t=!0,n=Object.entries(e??{}));for(let i of n){const a=i[0];if(typeof a!="string")throw new TypeError("expected header name to be a string");const s=NS(i[1])?i[1]:[i[1]];let l=!1;for(const c of s)c!==void 0&&(t&&!l&&(l=!0,yield[a,null]),yield[a,c])}}const kl=e=>{const t=new Headers,n=new Set;for(const i of e){const a=new Set;for(const[s,l]of v4(i)){const c=s.toLowerCase();a.has(c)||(t.delete(s),a.add(c)),l===null?(t.delete(s),n.add(c)):(t.append(s,l),n.delete(c))}}return{[dT]:!0,values:t,nulls:n}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const pg=e=>{var t,n,i,a,s,l;if(typeof globalThis.process<"u")return(i=(n=(t=GL)===null||t===void 0?void 0:t[e])===null||n===void 0?void 0:n.trim())!==null&&i!==void 0?i:void 0;if(typeof globalThis.Deno<"u")return(l=(s=(a=globalThis.Deno.env)===null||a===void 0?void 0:a.get)===null||s===void 0?void 0:s.call(a,e))===null||l===void 0?void 0:l.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var pT;class Tf{constructor(t){var n,i,a,s,l,c,f,{baseURL:h=pg("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:d=(n=pg("GEMINI_API_KEY"))!==null&&n!==void 0?n:null,apiVersion:m="v1beta"}=t,v=Lh(t,["baseURL","apiKey","apiVersion"]);const x=Object.assign(Object.assign({apiKey:d,apiVersion:m},v),{baseURL:h||"https://generativelanguage.googleapis.com"});this.baseURL=x.baseURL,this.timeout=(i=x.timeout)!==null&&i!==void 0?i:Tf.DEFAULT_TIMEOUT,this.logger=(a=x.logger)!==null&&a!==void 0?a:console;const S="warn";this.logLevel=S,this.logLevel=(l=(s=FS(x.logLevel,"ClientOptions.logLevel",this))!==null&&s!==void 0?s:FS(pg("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&l!==void 0?l:S,this.fetchOptions=x.fetchOptions,this.maxRetries=(c=x.maxRetries)!==null&&c!==void 0?c:2,this.fetch=(f=x.fetch)!==null&&f!==void 0?f:ZF(),this.encoder=e4,this._options=x,this.apiKey=d,this.apiVersion=m,this.clientAdapter=x.clientAdapter}withOptions(t){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),t))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:t,nulls:n}){if(!(t.has("authorization")||t.has("x-goog-api-key"))&&!(this.apiKey&&t.get("x-goog-api-key"))&&!n.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(t){const n=kl([t.headers]);if(!(n.values.has("authorization")||n.values.has("x-goog-api-key"))){if(this.apiKey)return kl([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return kl([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(t){return Object.entries(t).filter(([n,i])=>typeof i<"u").map(([n,i])=>{if(typeof i=="string"||typeof i=="number"||typeof i=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(i)}`;if(i===null)return`${encodeURIComponent(n)}=`;throw new si(`Cannot stringify type ${typeof i}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${qo}`}defaultIdempotencyKey(){return`stainless-node-retry-${PF()}`}makeStatusError(t,n,i,a){return xn.generate(t,n,i,a)}buildURL(t,n,i){const a=!this.baseURLOverridden()&&i||this.baseURL,s=$F(t)?new URL(t):new URL(a+(a.endsWith("/")&&t.startsWith("/")?t.slice(1):t)),l=this.defaultQuery();return HF(l)||(n=Object.assign(Object.assign({},l),n)),typeof n=="object"&&n&&!Array.isArray(n)&&(s.search=this.stringifyQuery(n)),s.toString()}async prepareOptions(t){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!t.path.startsWith(`/${this.apiVersion}/projects/`)){const n=t.path.slice(this.apiVersion.length+1);t.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${n}`}}async prepareRequest(t,{url:n,options:i}){}get(t,n){return this.methodRequest("get",t,n)}post(t,n){return this.methodRequest("post",t,n)}patch(t,n){return this.methodRequest("patch",t,n)}put(t,n){return this.methodRequest("put",t,n)}delete(t,n){return this.methodRequest("delete",t,n)}methodRequest(t,n,i){return this.request(Promise.resolve(i).then(a=>Object.assign({method:t,path:n},a)))}request(t,n=null){return new sy(this,this.makeRequest(t,n,void 0))}async makeRequest(t,n,i){var a,s,l;const c=await t,f=(a=c.maxRetries)!==null&&a!==void 0?a:this.maxRetries;n==null&&(n=f),await this.prepareOptions(c);const{req:h,url:d,timeout:m}=await this.buildRequest(c,{retryCount:f-n});await this.prepareRequest(h,{url:d,options:c});const v="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),x=i===void 0?"":`, retryOf: ${i}`,S=Date.now();if(mn(this).debug(`[${v}] sending request`,La({retryOfRequestLogID:i,method:c.method,url:d,options:c,headers:h.headers})),!((s=c.signal)===null||s===void 0)&&s.aborted)throw new Wg;const b=new AbortController,E=await this.fetchWithTimeout(d,h,m,b).catch(Yg),A=Date.now();if(E instanceof globalThis.Error){const R=`retrying, ${n} attempts remaining`;if(!((l=c.signal)===null||l===void 0)&&l.aborted)throw new Wg;const I=Vg(E)||/timed? ?out/i.test(String(E)+("cause"in E?String(E.cause):""));if(n)return mn(this).info(`[${v}] connection ${I?"timed out":"failed"} - ${R}`),mn(this).debug(`[${v}] connection ${I?"timed out":"failed"} (${R})`,La({retryOfRequestLogID:i,url:d,durationMs:A-S,message:E.message})),this.retryRequest(c,n,i??v);throw mn(this).info(`[${v}] connection ${I?"timed out":"failed"} - error; no more retries left`),mn(this).debug(`[${v}] connection ${I?"timed out":"failed"} (error; no more retries left)`,La({retryOfRequestLogID:i,url:d,durationMs:A-S,message:E.message})),I?new K1:new Sf({cause:E})}const k=`[${v}${x}] ${h.method} ${d} ${E.ok?"succeeded":"failed"} with status ${E.status} in ${A-S}ms`;if(!E.ok){const R=await this.shouldRetry(E);if(n&&R){const Q=`retrying, ${n} attempts remaining`;return await t4(E.body),mn(this).info(`${k} - ${Q}`),mn(this).debug(`[${v}] response error (${Q})`,La({retryOfRequestLogID:i,url:E.url,status:E.status,headers:E.headers,durationMs:A-S})),this.retryRequest(c,n,i??v,E.headers)}const I=R?"error; no more retries left":"error; not retryable";mn(this).info(`${k} - ${I}`);const B=await E.text().catch(Q=>Yg(Q).message),L=YF(B),N=L?void 0:B;throw mn(this).debug(`[${v}] response error (${I})`,La({retryOfRequestLogID:i,url:E.url,status:E.status,headers:E.headers,message:N,durationMs:Date.now()-S})),this.makeStatusError(E.status,L,N,E.headers)}return mn(this).info(k),mn(this).debug(`[${v}] response start`,La({retryOfRequestLogID:i,url:E.url,status:E.status,headers:E.headers,durationMs:A-S})),{response:E,options:c,controller:b,requestLogID:v,retryOfRequestLogID:i,startTime:S}}async fetchWithTimeout(t,n,i,a){const s=n||{},{signal:l,method:c}=s,f=Lh(s,["signal","method"]);l&&l.addEventListener("abort",()=>a.abort());const h=setTimeout(()=>a.abort(),i),d=globalThis.ReadableStream&&f.body instanceof globalThis.ReadableStream||typeof f.body=="object"&&f.body!==null&&Symbol.asyncIterator in f.body,m=Object.assign(Object.assign(Object.assign({signal:a.signal},d?{duplex:"half"}:{}),{method:"GET"}),f);c&&(m.method=c.toUpperCase());try{return await this.fetch.call(void 0,t,m)}finally{clearTimeout(h)}}async shouldRetry(t){const n=t.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:t.status===408||t.status===409||t.status===429||t.status>=500}async retryRequest(t,n,i,a){var s;let l;const c=a==null?void 0:a.get("retry-after-ms");if(c){const h=parseFloat(c);Number.isNaN(h)||(l=h)}const f=a==null?void 0:a.get("retry-after");if(f&&!l){const h=parseFloat(f);Number.isNaN(h)?l=Date.parse(f)-Date.now():l=h*1e3}if(!(l&&0<=l&&l<60*1e3)){const h=(s=t.maxRetries)!==null&&s!==void 0?s:this.maxRetries;l=this.calculateDefaultRetryTimeoutMillis(n,h)}return await WF(l),this.makeRequest(t,n-1,i)}calculateDefaultRetryTimeoutMillis(t,n){const s=n-t,l=Math.min(.5*Math.pow(2,s),8),c=1-Math.random()*.25;return l*c*1e3}async buildRequest(t,{retryCount:n=0}={}){var i,a,s;const l=Object.assign({},t),{method:c,path:f,query:h,defaultBaseURL:d}=l,m=this.buildURL(f,h,d);"timeout"in l&&VF("timeout",l.timeout),l.timeout=(i=l.timeout)!==null&&i!==void 0?i:this.timeout;const{bodyHeaders:v,body:x}=this.buildBody({options:l}),S=await this.buildHeaders({options:t,method:c,bodyHeaders:v,retryCount:n});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:c,headers:S},l.signal&&{signal:l.signal}),globalThis.ReadableStream&&x instanceof globalThis.ReadableStream&&{duplex:"half"}),x&&{body:x}),(a=this.fetchOptions)!==null&&a!==void 0?a:{}),(s=l.fetchOptions)!==null&&s!==void 0?s:{}),url:m,timeout:l.timeout}}async buildHeaders({options:t,method:n,bodyHeaders:i,retryCount:a}){let s={};this.idempotencyHeader&&n!=="get"&&(t.idempotencyKey||(t.idempotencyKey=this.defaultIdempotencyKey()),s[this.idempotencyHeader]=t.idempotencyKey);const l=await this.authHeaders(t);let c=kl([s,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(a)},t.timeout?{"X-Stainless-Timeout":String(Math.trunc(t.timeout/1e3))}:{}),QF()),this._options.defaultHeaders,i,t.headers,l]);return this.validateHeaders(c),c.values}buildBody({options:{body:t,headers:n}}){if(!t)return{bodyHeaders:void 0,body:void 0};const i=kl([n]);return ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof DataView||typeof t=="string"&&i.values.has("content-type")||globalThis.Blob&&t instanceof globalThis.Blob||t instanceof FormData||t instanceof URLSearchParams||globalThis.ReadableStream&&t instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:t}:typeof t=="object"&&(Symbol.asyncIterator in t||Symbol.iterator in t&&"next"in t&&typeof t.next=="function")?{bodyHeaders:void 0,body:jF(t)}:this.encoder({body:t,headers:i})}}Tf.DEFAULT_TIMEOUT=6e4;class We extends Tf{constructor(){super(...arguments),this.interactions=new fT(this)}}pT=We;We.GeminiNextGenAPIClient=pT;We.GeminiNextGenAPIClientError=si;We.APIError=xn;We.APIConnectionError=Sf;We.APIConnectionTimeoutError=K1;We.APIUserAbortError=Wg;We.NotFoundError=tT;We.ConflictError=eT;We.RateLimitError=iT;We.BadRequestError=Q1;We.AuthenticationError=Z1;We.InternalServerError=rT;We.PermissionDeniedError=j1;We.UnprocessableEntityError=nT;We.toFile=o4;We.Interactions=fT;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function _4(e,t){const n={},i=g(e,["name"]);return i!=null&&y(n,["_url","name"],i),n}function x4(e,t){const n={},i=g(e,["name"]);return i!=null&&y(n,["_url","name"],i),n}function C4(e,t){const n={},i=g(e,["sdkHttpResponse"]);return i!=null&&y(n,["sdkHttpResponse"],i),n}function S4(e,t){const n={},i=g(e,["sdkHttpResponse"]);return i!=null&&y(n,["sdkHttpResponse"],i),n}function b4(e,t,n){const i={};if(g(e,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const a=g(e,["tunedModelDisplayName"]);if(t!==void 0&&a!=null&&y(t,["displayName"],a),g(e,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const s=g(e,["epochCount"]);t!==void 0&&s!=null&&y(t,["tuningTask","hyperparameters","epochCount"],s);const l=g(e,["learningRateMultiplier"]);if(l!=null&&y(i,["tuningTask","hyperparameters","learningRateMultiplier"],l),g(e,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(g(e,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(g(e,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const c=g(e,["batchSize"]);t!==void 0&&c!=null&&y(t,["tuningTask","hyperparameters","batchSize"],c);const f=g(e,["learningRate"]);if(t!==void 0&&f!=null&&y(t,["tuningTask","hyperparameters","learningRate"],f),g(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(g(e,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return i}function T4(e,t,n){const i={};let a=g(n,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const x=g(e,["validationDataset"]);t!==void 0&&x!=null&&y(t,["supervisedTuningSpec"],PS(x))}else if(a==="PREFERENCE_TUNING"){const x=g(e,["validationDataset"]);t!==void 0&&x!=null&&y(t,["preferenceOptimizationSpec"],PS(x))}const s=g(e,["tunedModelDisplayName"]);t!==void 0&&s!=null&&y(t,["tunedModelDisplayName"],s);const l=g(e,["description"]);t!==void 0&&l!=null&&y(t,["description"],l);let c=g(n,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const x=g(e,["epochCount"]);t!==void 0&&x!=null&&y(t,["supervisedTuningSpec","hyperParameters","epochCount"],x)}else if(c==="PREFERENCE_TUNING"){const x=g(e,["epochCount"]);t!==void 0&&x!=null&&y(t,["preferenceOptimizationSpec","hyperParameters","epochCount"],x)}let f=g(n,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){const x=g(e,["learningRateMultiplier"]);t!==void 0&&x!=null&&y(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],x)}else if(f==="PREFERENCE_TUNING"){const x=g(e,["learningRateMultiplier"]);t!==void 0&&x!=null&&y(t,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],x)}let h=g(n,["config","method"]);if(h===void 0&&(h="SUPERVISED_FINE_TUNING"),h==="SUPERVISED_FINE_TUNING"){const x=g(e,["exportLastCheckpointOnly"]);t!==void 0&&x!=null&&y(t,["supervisedTuningSpec","exportLastCheckpointOnly"],x)}else if(h==="PREFERENCE_TUNING"){const x=g(e,["exportLastCheckpointOnly"]);t!==void 0&&x!=null&&y(t,["preferenceOptimizationSpec","exportLastCheckpointOnly"],x)}let d=g(n,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const x=g(e,["adapterSize"]);t!==void 0&&x!=null&&y(t,["supervisedTuningSpec","hyperParameters","adapterSize"],x)}else if(d==="PREFERENCE_TUNING"){const x=g(e,["adapterSize"]);t!==void 0&&x!=null&&y(t,["preferenceOptimizationSpec","hyperParameters","adapterSize"],x)}if(g(e,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(g(e,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const m=g(e,["labels"]);t!==void 0&&m!=null&&y(t,["labels"],m);const v=g(e,["beta"]);return t!==void 0&&v!=null&&y(t,["preferenceOptimizationSpec","hyperParameters","beta"],v),i}function E4(e,t){const n={},i=g(e,["baseModel"]);i!=null&&y(n,["baseModel"],i);const a=g(e,["preTunedModel"]);a!=null&&y(n,["preTunedModel"],a);const s=g(e,["trainingDataset"]);s!=null&&F4(s);const l=g(e,["config"]);return l!=null&&b4(l,n),n}function w4(e,t){const n={},i=g(e,["baseModel"]);i!=null&&y(n,["baseModel"],i);const a=g(e,["preTunedModel"]);a!=null&&y(n,["preTunedModel"],a);const s=g(e,["trainingDataset"]);s!=null&&O4(s,n,t);const l=g(e,["config"]);return l!=null&&T4(l,n,t),n}function A4(e,t){const n={},i=g(e,["name"]);return i!=null&&y(n,["_url","name"],i),n}function k4(e,t){const n={},i=g(e,["name"]);return i!=null&&y(n,["_url","name"],i),n}function M4(e,t,n){const i={},a=g(e,["pageSize"]);t!==void 0&&a!=null&&y(t,["_query","pageSize"],a);const s=g(e,["pageToken"]);t!==void 0&&s!=null&&y(t,["_query","pageToken"],s);const l=g(e,["filter"]);return t!==void 0&&l!=null&&y(t,["_query","filter"],l),i}function R4(e,t,n){const i={},a=g(e,["pageSize"]);t!==void 0&&a!=null&&y(t,["_query","pageSize"],a);const s=g(e,["pageToken"]);t!==void 0&&s!=null&&y(t,["_query","pageToken"],s);const l=g(e,["filter"]);return t!==void 0&&l!=null&&y(t,["_query","filter"],l),i}function N4(e,t){const n={},i=g(e,["config"]);return i!=null&&M4(i,n),n}function L4(e,t){const n={},i=g(e,["config"]);return i!=null&&R4(i,n),n}function D4(e,t){const n={},i=g(e,["sdkHttpResponse"]);i!=null&&y(n,["sdkHttpResponse"],i);const a=g(e,["nextPageToken"]);a!=null&&y(n,["nextPageToken"],a);const s=g(e,["tunedModels"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(c=>gT(c))),y(n,["tuningJobs"],l)}return n}function I4(e,t){const n={},i=g(e,["sdkHttpResponse"]);i!=null&&y(n,["sdkHttpResponse"],i);const a=g(e,["nextPageToken"]);a!=null&&y(n,["nextPageToken"],a);const s=g(e,["tuningJobs"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(c=>Kg(c))),y(n,["tuningJobs"],l)}return n}function B4(e,t){const n={},i=g(e,["name"]);i!=null&&y(n,["model"],i);const a=g(e,["name"]);return a!=null&&y(n,["endpoint"],a),n}function F4(e,t){const n={};if(g(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(g(e,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const i=g(e,["examples"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),y(n,["examples","examples"],a)}return n}function O4(e,t,n){const i={};let a=g(n,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const l=g(e,["gcsUri"]);t!==void 0&&l!=null&&y(t,["supervisedTuningSpec","trainingDatasetUri"],l)}else if(a==="PREFERENCE_TUNING"){const l=g(e,["gcsUri"]);t!==void 0&&l!=null&&y(t,["preferenceOptimizationSpec","trainingDatasetUri"],l)}let s=g(n,["config","method"]);if(s===void 0&&(s="SUPERVISED_FINE_TUNING"),s==="SUPERVISED_FINE_TUNING"){const l=g(e,["vertexDatasetResource"]);t!==void 0&&l!=null&&y(t,["supervisedTuningSpec","trainingDatasetUri"],l)}else if(s==="PREFERENCE_TUNING"){const l=g(e,["vertexDatasetResource"]);t!==void 0&&l!=null&&y(t,["preferenceOptimizationSpec","trainingDatasetUri"],l)}if(g(e,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return i}function gT(e,t){const n={},i=g(e,["sdkHttpResponse"]);i!=null&&y(n,["sdkHttpResponse"],i);const a=g(e,["name"]);a!=null&&y(n,["name"],a);const s=g(e,["state"]);s!=null&&y(n,["state"],N1(s));const l=g(e,["createTime"]);l!=null&&y(n,["createTime"],l);const c=g(e,["tuningTask","startTime"]);c!=null&&y(n,["startTime"],c);const f=g(e,["tuningTask","completeTime"]);f!=null&&y(n,["endTime"],f);const h=g(e,["updateTime"]);h!=null&&y(n,["updateTime"],h);const d=g(e,["description"]);d!=null&&y(n,["description"],d);const m=g(e,["baseModel"]);m!=null&&y(n,["baseModel"],m);const v=g(e,["_self"]);return v!=null&&y(n,["tunedModel"],B4(v)),n}function Kg(e,t){const n={},i=g(e,["sdkHttpResponse"]);i!=null&&y(n,["sdkHttpResponse"],i);const a=g(e,["name"]);a!=null&&y(n,["name"],a);const s=g(e,["state"]);s!=null&&y(n,["state"],N1(s));const l=g(e,["createTime"]);l!=null&&y(n,["createTime"],l);const c=g(e,["startTime"]);c!=null&&y(n,["startTime"],c);const f=g(e,["endTime"]);f!=null&&y(n,["endTime"],f);const h=g(e,["updateTime"]);h!=null&&y(n,["updateTime"],h);const d=g(e,["error"]);d!=null&&y(n,["error"],d);const m=g(e,["description"]);m!=null&&y(n,["description"],m);const v=g(e,["baseModel"]);v!=null&&y(n,["baseModel"],v);const x=g(e,["tunedModel"]);x!=null&&y(n,["tunedModel"],x);const S=g(e,["preTunedModel"]);S!=null&&y(n,["preTunedModel"],S);const b=g(e,["supervisedTuningSpec"]);b!=null&&y(n,["supervisedTuningSpec"],b);const E=g(e,["preferenceOptimizationSpec"]);E!=null&&y(n,["preferenceOptimizationSpec"],E);const A=g(e,["tuningDataStats"]);A!=null&&y(n,["tuningDataStats"],A);const k=g(e,["encryptionSpec"]);k!=null&&y(n,["encryptionSpec"],k);const R=g(e,["partnerModelTuningSpec"]);R!=null&&y(n,["partnerModelTuningSpec"],R);const I=g(e,["customBaseModel"]);I!=null&&y(n,["customBaseModel"],I);const B=g(e,["experiment"]);B!=null&&y(n,["experiment"],B);const L=g(e,["labels"]);L!=null&&y(n,["labels"],L);const N=g(e,["outputUri"]);N!=null&&y(n,["outputUri"],N);const V=g(e,["pipelineJob"]);V!=null&&y(n,["pipelineJob"],V);const Q=g(e,["serviceAccount"]);Q!=null&&y(n,["serviceAccount"],Q);const et=g(e,["tunedModelDisplayName"]);et!=null&&y(n,["tunedModelDisplayName"],et);const Y=g(e,["veoTuningSpec"]);return Y!=null&&y(n,["veoTuningSpec"],Y),n}function P4(e,t){const n={},i=g(e,["sdkHttpResponse"]);i!=null&&y(n,["sdkHttpResponse"],i);const a=g(e,["name"]);a!=null&&y(n,["name"],a);const s=g(e,["metadata"]);s!=null&&y(n,["metadata"],s);const l=g(e,["done"]);l!=null&&y(n,["done"],l);const c=g(e,["error"]);return c!=null&&y(n,["error"],c),n}function PS(e,t){const n={},i=g(e,["gcsUri"]);i!=null&&y(n,["validationDatasetUri"],i);const a=g(e,["vertexDatasetResource"]);return a!=null&&y(n,["validationDatasetUri"],a),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class U4 extends br{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new Ka(xr.PAGED_ITEM_TUNING_JOBS,i=>this.listInternal(i),await this.listInternal(n),n),this.get=async n=>await this.getInternal(n),this.tune=async n=>{var i;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const a={tunedModelName:n.baseModel};!((i=n.config)===null||i===void 0)&&i.preTunedModelCheckpointId&&(a.checkpointId=n.config.preTunedModelCheckpointId);const s=Object.assign(Object.assign({},n),{preTunedModel:a});return s.baseModel=void 0,await this.tuneInternal(s)}else{const a=Object.assign({},n);return await this.tuneInternal(a)}else{const a=Object.assign({},n),s=await this.tuneMldevInternal(a);let l="";return s.metadata!==void 0&&s.metadata.tunedModel!==void 0?l=s.metadata.tunedModel:s.name!==void 0&&s.name.includes("/operations/")&&(l=s.name.split("/operations/")[0]),{name:l,state:Pg.JOB_STATE_QUEUED}}}}async getInternal(t){var n,i,a,s;let l,c="",f={};if(this.apiClient.isVertexAI()){const h=k4(t);return c=mt("{name}",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:d.headers},v})),l.then(d=>Kg(d))}else{const h=A4(t);return c=mt("{name}",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:d.headers},v})),l.then(d=>gT(d))}}async listInternal(t){var n,i,a,s;let l,c="",f={};if(this.apiClient.isVertexAI()){const h=L4(t);return c=mt("tuningJobs",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:d.headers},v})),l.then(d=>{const m=I4(d),v=new uS;return Object.assign(v,m),v})}else{const h=N4(t);return c=mt("tunedModels",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:d.headers},v})),l.then(d=>{const m=D4(d),v=new uS;return Object.assign(v,m),v})}}async cancel(t){var n,i,a,s;let l,c="",f={};if(this.apiClient.isVertexAI()){const h=x4(t);return c=mt("{name}:cancel",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:d.headers},v})),l.then(d=>{const m=S4(d),v=new hS;return Object.assign(v,m),v})}else{const h=_4(t);return c=mt("{name}:cancel",h._url),f=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:d.headers},v})),l.then(d=>{const m=C4(d),v=new hS;return Object.assign(v,m),v})}}async tuneInternal(t){var n,i;let a,s="",l={};if(this.apiClient.isVertexAI()){const c=w4(t,t);return s=mt("tuningJobs",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(h=>{const d=h;return d.sdkHttpResponse={headers:f.headers},d})),a.then(f=>Kg(f))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(t){var n,i;let a,s="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=E4(t);return s=mt("tunedModels",c._url),l=c._query,delete c._url,delete c._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(h=>{const d=h;return d.sdkHttpResponse={headers:f.headers},d})),a.then(f=>P4(f))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class $4{async download(t,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const z4=1024*1024*8,q4=3,H4=1e3,G4=2,Ih="x-goog-upload-status";async function V4(e,t,n){var i;const a=await mT(e,t,n),s=await(a==null?void 0:a.json());if(((i=a==null?void 0:a.headers)===null||i===void 0?void 0:i[Ih])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return s.file}async function Y4(e,t,n){var i;const a=await mT(e,t,n),s=await(a==null?void 0:a.json());if(((i=a==null?void 0:a.headers)===null||i===void 0?void 0:i[Ih])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const l=E1(s),c=new ty;return Object.assign(c,l),c}async function mT(e,t,n){var i,a;let s=0,l=0,c=new Ug(new Response),f="upload";for(s=e.size;l<s;){const h=Math.min(z4,s-l),d=e.slice(l,l+h);l+h>=s&&(f+=", finalize");let m=0,v=H4;for(;m<q4&&(c=await n.request({path:"",body:d,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":f,"X-Goog-Upload-Offset":String(l),"Content-Length":String(h)}}}),!(!((i=c==null?void 0:c.headers)===null||i===void 0)&&i[Ih]));)m++,await X4(v),v=v*G4;if(l+=h,((a=c==null?void 0:c.headers)===null||a===void 0?void 0:a[Ih])!=="active")break;if(s<=l)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return c}async function W4(e){return{size:e.size,type:e.type}}function X4(e){return new Promise(t=>setTimeout(t,e))}class J4{async upload(t,n,i){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await V4(t,n,i)}async uploadToFileSearchStore(t,n,i){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await Y4(t,n,i)}async stat(t){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await W4(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class K4{create(t,n,i){return new Q4(t,n,i)}}class Q4{constructor(t,n,i){this.url=t,this.headers=n,this.callbacks=i}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(t){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(t)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const US="x-goog-api-key";class Z4{constructor(t){this.apiKey=t}async addAuthHeaders(t,n){if(t.get(US)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");t.append(US,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const j4="gl-node/";class tO{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const t=this.httpOptions;t!=null&&t.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const n=new We({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:t==null?void 0:t.timeout});return this._interactions=n.interactions,this._interactions}constructor(t){var n;if(t.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(t.project||t.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=t.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=t.apiKey;const i=XL(t.httpOptions,t.vertexai,void 0,void 0);i&&(t.httpOptions?t.httpOptions.baseUrl=i:t.httpOptions={baseUrl:i}),this.apiVersion=t.apiVersion,this.httpOptions=t.httpOptions;const a=new Z4(this.apiKey);this.apiClient=new W5({auth:a,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:j4+"web",uploader:new J4,downloader:new $4}),this.models=new fF(this.apiClient),this.live=new oF(this.apiClient,a,new K4),this.batches=new bI(this.apiClient),this.chats=new rB(this.models,this.apiClient),this.caches=new eB(this.apiClient),this.files=new pB(this.apiClient),this.operations=new dF(this.apiClient),this.authTokens=new MF(this.apiClient),this.tunings=new U4(this.apiClient),this.fileSearchStores=new OF(this.apiClient)}}const ly=new tO({apiKey:"AIzaSyCInKyYiXTYV2bdd9GHJK-z1PRDfWXET98"}),eO={type:Kt.OBJECT,properties:{summary:{type:Kt.STRING,description:"Executive summary of the code"},architecture:{type:Kt.STRING,description:"Description of the architectural patterns used"},diagrams:{type:Kt.OBJECT,properties:{flowchart:{type:Kt.STRING,description:"Mermaid.js flowchart syntax. MANDATORY: Start with 'graph TD' followed by a NEWLINE. Use node IDs like 'L10' for code at line 10."},sequence:{type:Kt.STRING,description:"Mermaid.js sequence diagram syntax. Use IDs like 'L10' where relevant."},dependencies:{type:Kt.STRING,description:"Mermaid.js class diagram syntax. Use IDs matching line numbers where possible."}},required:["flowchart","sequence","dependencies"]},concepts:{type:Kt.ARRAY,items:{type:Kt.OBJECT,properties:{name:{type:Kt.STRING},description:{type:Kt.STRING}},required:["name","description"]}},learningPath:{type:Kt.ARRAY,items:{type:Kt.OBJECT,properties:{step:{type:Kt.STRING},detail:{type:Kt.STRING}},required:["step","detail"]}},lineExplanations:{type:Kt.ARRAY,items:{type:Kt.OBJECT,properties:{line:{type:Kt.INTEGER,description:"The line number"},explanation:{type:Kt.STRING,description:"Short explanation for this line"}},required:["line","explanation"]},description:"A list of explanations for specific lines of code used in the diagrams."}},required:["summary","architecture","diagrams","concepts","learningPath","lineExplanations"]},nO={type:Kt.OBJECT,properties:{steps:{type:Kt.ARRAY,items:{type:Kt.OBJECT,properties:{line:{type:Kt.INTEGER,description:"Line number of the execution (1-indexed)"},explanation:{type:Kt.STRING,description:"What happens at this step"},variables:{type:Kt.STRING,description:"JSON string representing the current state of variables as an object with variable names as keys and their stringified values"},stack:{type:Kt.ARRAY,items:{type:Kt.STRING},description:"Call stack snapshot"}},required:["line","explanation","variables","stack"]}}},required:["steps"]};async function iO(e,t){const n=await ly.models.generateContent({model:"gemini-3-flash-preview",contents:`Analyze the following ${t} code and provide architectural insights, Mermaid.js diagrams, and key concepts. Keep explanations brief and concise. Output valid JSON.

CRITICAL MERMAID SYNTAX RULES:
1. MANDATORY NEWLINES: You MUST put a newline after the diagram type declaration. 
2. QUOTES: ALWAYS wrap node labels in double quotes.
3. NO SEMICOLONS: Do not use semicolons (;) anywhere in the diagram.
4. CLASS DIAGRAMS: Use "classDiagram" as the first line, then a newline, then your classes.

Keep all explanations short (1-2 sentences max). Be concise.

CODE:
${e}`,config:{responseMimeType:"application/json",responseSchema:eO}});try{return JSON.parse(n.text)}catch(i){throw console.error("Failed to parse AI response",i),new Error("Analysis failed. Please try again.")}}async function rO(e,t){const n=await ly.models.generateContent({model:"gemini-3-flash-preview",contents:`Simulate the step-by-step execution of this ${t} code. Provide a trace of variable states and line highlights. Keep explanations brief (1 sentence per step). Focus on the most common execution path. Output valid JSON.

IMPORTANT: The "variables" field should be a JSON string representing an object with variable names as keys and their stringified values (e.g., "{\\"x\\": \\"5\\", \\"arr\\": \\"[1,2,3]\\", \\"flag\\": \\"true\\"}").

CODE:
${e}`,config:{responseMimeType:"application/json",responseSchema:nO}});try{const i=JSON.parse(n.text);return i.steps=i.steps.map(a=>({...a,variables:typeof a.variables=="string"?JSON.parse(a.variables):a.variables})),i}catch(i){throw console.error("Failed to parse trace response",i),new Error("Trace generation failed.")}}async function aO(e,t,n,i=[]){let a=`You are a helpful coding assistant named as Codelens-AI. Answer questions about the provided code concisely and clearly. Keep responses brief and to the point (2-3 sentences max).

Here is the ${t} code:
\`\`\`${t}
${e}
\`\`\``;return i.length>0&&(a=`${i.slice(-4).map(c=>`${c.role==="user"?"User":"Assistant"}: ${c.content}`).join(`

`)}

${a}`),a=`${a}

User question: ${n}`,(await ly.models.generateContent({model:"gemini-3-flash-preview",contents:a})).text}const oO="modulepreload",sO=function(e){return"/codelens-ai/"+e},$S={},le=function(t,n,i){let a=Promise.resolve();if(n&&n.length>0){let l=function(h){return Promise.all(h.map(d=>Promise.resolve(d).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),f=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));a=l(n.map(h=>{if(h=sO(h),h in $S)return;$S[h]=!0;const d=h.endsWith(".css"),m=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${m}`))return;const v=document.createElement("link");if(v.rel=d?"stylesheet":oO,d||(v.as="script"),v.crossOrigin="",v.href=h,f&&v.setAttribute("nonce",f),document.head.appendChild(v),d)return new Promise((x,S)=>{v.addEventListener("load",x),v.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${h}`)))})}))}function s(l){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=l,window.dispatchEvent(c),!c.defaultPrevented)throw l}return a.then(l=>{for(const c of l||[])c.status==="rejected"&&s(c.reason);return t().catch(s)})};var zS={name:"mermaid",version:"11.12.2",description:"Markdown-ish syntax for generating flowcharts, mindmaps, sequence diagrams, class diagrams, gantt charts, git graphs and more.",type:"module",module:"./dist/mermaid.core.mjs",types:"./dist/mermaid.d.ts",exports:{".":{types:"./dist/mermaid.d.ts",import:"./dist/mermaid.core.mjs",default:"./dist/mermaid.core.mjs"},"./*":"./*"},keywords:["diagram","markdown","flowchart","sequence diagram","gantt","class diagram","git graph","mindmap","packet diagram","c4 diagram","er diagram","pie chart","pie diagram","quadrant chart","requirement diagram","graph"],scripts:{clean:"rimraf dist",dev:"pnpm -w dev","docs:code":"typedoc src/defaultConfig.ts src/config.ts src/mermaid.ts && prettier --write ./src/docs/config/setup","docs:build":"rimraf ../../docs && pnpm docs:code && pnpm docs:spellcheck && tsx scripts/docs.cli.mts","docs:verify":"pnpm docs:code && pnpm docs:spellcheck && tsx scripts/docs.cli.mts --verify","docs:pre:vitepress":"pnpm --filter ./src/docs prefetch && rimraf src/vitepress && pnpm docs:code && tsx scripts/docs.cli.mts --vitepress && pnpm --filter ./src/vitepress install --no-frozen-lockfile --ignore-scripts","docs:build:vitepress":"pnpm docs:pre:vitepress && (cd src/vitepress && pnpm run build) && cpy --flat src/docs/landing/ ./src/vitepress/.vitepress/dist/landing","docs:dev":'pnpm docs:pre:vitepress && concurrently "pnpm --filter ./src/vitepress dev" "tsx scripts/docs.cli.mts --watch --vitepress"',"docs:dev:docker":'pnpm docs:pre:vitepress && concurrently "pnpm --filter ./src/vitepress dev:docker" "tsx scripts/docs.cli.mts --watch --vitepress"',"docs:serve":"pnpm docs:build:vitepress && vitepress serve src/vitepress","docs:spellcheck":'cspell "src/docs/**/*.md"',"docs:release-version":"tsx scripts/update-release-version.mts","docs:verify-version":"tsx scripts/update-release-version.mts --verify","types:build-config":"tsx scripts/create-types-from-json-schema.mts","types:verify-config":"tsx scripts/create-types-from-json-schema.mts --verify",checkCircle:"npx madge --circular ./src",prepublishOnly:"pnpm docs:verify-version"},repository:{type:"git",url:"https://github.com/mermaid-js/mermaid"},author:"Knut Sveidqvist",license:"MIT",standard:{ignore:["**/parser/*.js","dist/**/*.js","cypress/**/*.js"],globals:["page"]},dependencies:{"@braintree/sanitize-url":"^7.1.1","@iconify/utils":"^3.0.1","@mermaid-js/parser":"workspace:^","@types/d3":"^7.4.3",cytoscape:"^3.29.3","cytoscape-cose-bilkent":"^4.1.0","cytoscape-fcose":"^2.2.0",d3:"^7.9.0","d3-sankey":"^0.12.3","dagre-d3-es":"7.0.13",dayjs:"^1.11.18",dompurify:"^3.2.5",katex:"^0.16.22",khroma:"^2.1.0","lodash-es":"^4.17.21",marked:"^16.2.1",roughjs:"^4.6.6",stylis:"^4.3.6","ts-dedent":"^2.2.0",uuid:"^11.1.0"},devDependencies:{"@adobe/jsonschema2md":"^8.0.5","@iconify/types":"^2.0.0","@types/cytoscape":"^3.21.9","@types/cytoscape-fcose":"^2.2.4","@types/d3-sankey":"^0.12.4","@types/d3-scale":"^4.0.9","@types/d3-scale-chromatic":"^3.1.0","@types/d3-selection":"^3.0.11","@types/d3-shape":"^3.1.7","@types/jsdom":"^21.1.7","@types/katex":"^0.16.7","@types/lodash-es":"^4.17.12","@types/micromatch":"^4.0.9","@types/stylis":"^4.2.7","@types/uuid":"^10.0.0",ajv:"^8.17.1",canvas:"^3.1.2",chokidar:"3.6.0",concurrently:"^9.1.2","csstree-validator":"^4.0.1",globby:"^14.1.0",jison:"^0.4.18","js-base64":"^3.7.8",jsdom:"^26.1.0","json-schema-to-typescript":"^15.0.4",micromatch:"^4.0.8","path-browserify":"^1.0.1",prettier:"^3.5.3",remark:"^15.0.1","remark-frontmatter":"^5.0.0","remark-gfm":"^4.0.1",rimraf:"^6.0.1","start-server-and-test":"^2.0.13","type-fest":"^4.35.0",typedoc:"^0.28.12","typedoc-plugin-markdown":"^4.8.1",typescript:"~5.7.3","unist-util-flatmap":"^1.0.0","unist-util-visit":"^5.0.0",vitepress:"^1.6.4","vitepress-plugin-search":"1.0.4-alpha.22"},files:["dist/","README.md"],publishConfig:{access:"public"}},dh={exports:{}},lO=dh.exports,qS;function cO(){return qS||(qS=1,(function(e,t){(function(n,i){e.exports=i()})(lO,(function(){var n=1e3,i=6e4,a=36e5,s="millisecond",l="second",c="minute",f="hour",h="day",d="week",m="month",v="quarter",x="year",S="date",b="Invalid Date",E=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,A=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,k={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(W){var H=["th","st","nd","rd"],D=W%100;return"["+W+(H[(D-20)%10]||H[D]||H[0])+"]"}},R=function(W,H,D){var P=String(W);return!P||P.length>=H?W:""+Array(H+1-P.length).join(D)+W},I={s:R,z:function(W){var H=-W.utcOffset(),D=Math.abs(H),P=Math.floor(D/60),z=D%60;return(H<=0?"+":"-")+R(P,2,"0")+":"+R(z,2,"0")},m:function W(H,D){if(H.date()<D.date())return-W(D,H);var P=12*(D.year()-H.year())+(D.month()-H.month()),z=H.clone().add(P,m),lt=D-z<0,ft=H.clone().add(P+(lt?-1:1),m);return+(-(P+(D-z)/(lt?z-ft:ft-z))||0)},a:function(W){return W<0?Math.ceil(W)||0:Math.floor(W)},p:function(W){return{M:m,y:x,w:d,d:h,D:S,h:f,m:c,s:l,ms:s,Q:v}[W]||String(W||"").toLowerCase().replace(/s$/,"")},u:function(W){return W===void 0}},B="en",L={};L[B]=k;var N="$isDayjsObject",V=function(W){return W instanceof ct||!(!W||!W[N])},Q=function W(H,D,P){var z;if(!H)return B;if(typeof H=="string"){var lt=H.toLowerCase();L[lt]&&(z=lt),D&&(L[lt]=D,z=lt);var ft=H.split("-");if(!z&&ft.length>1)return W(ft[0])}else{var F=H.name;L[F]=H,z=F}return!P&&z&&(B=z),z||!P&&B},et=function(W,H){if(V(W))return W.clone();var D=typeof H=="object"?H:{};return D.date=W,D.args=arguments,new ct(D)},Y=I;Y.l=Q,Y.i=V,Y.w=function(W,H){return et(W,{locale:H.$L,utc:H.$u,x:H.$x,$offset:H.$offset})};var ct=(function(){function W(D){this.$L=Q(D.locale,null,!0),this.parse(D),this.$x=this.$x||D.x||{},this[N]=!0}var H=W.prototype;return H.parse=function(D){this.$d=(function(P){var z=P.date,lt=P.utc;if(z===null)return new Date(NaN);if(Y.u(z))return new Date;if(z instanceof Date)return new Date(z);if(typeof z=="string"&&!/Z$/i.test(z)){var ft=z.match(E);if(ft){var F=ft[2]-1||0,j=(ft[7]||"0").substring(0,3);return lt?new Date(Date.UTC(ft[1],F,ft[3]||1,ft[4]||0,ft[5]||0,ft[6]||0,j)):new Date(ft[1],F,ft[3]||1,ft[4]||0,ft[5]||0,ft[6]||0,j)}}return new Date(z)})(D),this.init()},H.init=function(){var D=this.$d;this.$y=D.getFullYear(),this.$M=D.getMonth(),this.$D=D.getDate(),this.$W=D.getDay(),this.$H=D.getHours(),this.$m=D.getMinutes(),this.$s=D.getSeconds(),this.$ms=D.getMilliseconds()},H.$utils=function(){return Y},H.isValid=function(){return this.$d.toString()!==b},H.isSame=function(D,P){var z=et(D);return this.startOf(P)<=z&&z<=this.endOf(P)},H.isAfter=function(D,P){return et(D)<this.startOf(P)},H.isBefore=function(D,P){return this.endOf(P)<et(D)},H.$g=function(D,P,z){return Y.u(D)?this[P]:this.set(z,D)},H.unix=function(){return Math.floor(this.valueOf()/1e3)},H.valueOf=function(){return this.$d.getTime()},H.startOf=function(D,P){var z=this,lt=!!Y.u(P)||P,ft=Y.p(D),F=function(Ft,Zt){var me=Y.w(z.$u?Date.UTC(z.$y,Zt,Ft):new Date(z.$y,Zt,Ft),z);return lt?me:me.endOf(h)},j=function(Ft,Zt){return Y.w(z.toDate()[Ft].apply(z.toDate("s"),(lt?[0,0,0,0]:[23,59,59,999]).slice(Zt)),z)},at=this.$W,ht=this.$M,dt=this.$D,pt="set"+(this.$u?"UTC":"");switch(ft){case x:return lt?F(1,0):F(31,11);case m:return lt?F(1,ht):F(0,ht+1);case d:var _t=this.$locale().weekStart||0,Ut=(at<_t?at+7:at)-_t;return F(lt?dt-Ut:dt+(6-Ut),ht);case h:case S:return j(pt+"Hours",0);case f:return j(pt+"Minutes",1);case c:return j(pt+"Seconds",2);case l:return j(pt+"Milliseconds",3);default:return this.clone()}},H.endOf=function(D){return this.startOf(D,!1)},H.$set=function(D,P){var z,lt=Y.p(D),ft="set"+(this.$u?"UTC":""),F=(z={},z[h]=ft+"Date",z[S]=ft+"Date",z[m]=ft+"Month",z[x]=ft+"FullYear",z[f]=ft+"Hours",z[c]=ft+"Minutes",z[l]=ft+"Seconds",z[s]=ft+"Milliseconds",z)[lt],j=lt===h?this.$D+(P-this.$W):P;if(lt===m||lt===x){var at=this.clone().set(S,1);at.$d[F](j),at.init(),this.$d=at.set(S,Math.min(this.$D,at.daysInMonth())).$d}else F&&this.$d[F](j);return this.init(),this},H.set=function(D,P){return this.clone().$set(D,P)},H.get=function(D){return this[Y.p(D)]()},H.add=function(D,P){var z,lt=this;D=Number(D);var ft=Y.p(P),F=function(ht){var dt=et(lt);return Y.w(dt.date(dt.date()+Math.round(ht*D)),lt)};if(ft===m)return this.set(m,this.$M+D);if(ft===x)return this.set(x,this.$y+D);if(ft===h)return F(1);if(ft===d)return F(7);var j=(z={},z[c]=i,z[f]=a,z[l]=n,z)[ft]||1,at=this.$d.getTime()+D*j;return Y.w(at,this)},H.subtract=function(D,P){return this.add(-1*D,P)},H.format=function(D){var P=this,z=this.$locale();if(!this.isValid())return z.invalidDate||b;var lt=D||"YYYY-MM-DDTHH:mm:ssZ",ft=Y.z(this),F=this.$H,j=this.$m,at=this.$M,ht=z.weekdays,dt=z.months,pt=z.meridiem,_t=function(Zt,me,fn,dn){return Zt&&(Zt[me]||Zt(P,lt))||fn[me].slice(0,dn)},Ut=function(Zt){return Y.s(F%12||12,Zt,"0")},Ft=pt||function(Zt,me,fn){var dn=Zt<12?"AM":"PM";return fn?dn.toLowerCase():dn};return lt.replace(A,(function(Zt,me){return me||(function(fn){switch(fn){case"YY":return String(P.$y).slice(-2);case"YYYY":return Y.s(P.$y,4,"0");case"M":return at+1;case"MM":return Y.s(at+1,2,"0");case"MMM":return _t(z.monthsShort,at,dt,3);case"MMMM":return _t(dt,at);case"D":return P.$D;case"DD":return Y.s(P.$D,2,"0");case"d":return String(P.$W);case"dd":return _t(z.weekdaysMin,P.$W,ht,2);case"ddd":return _t(z.weekdaysShort,P.$W,ht,3);case"dddd":return ht[P.$W];case"H":return String(F);case"HH":return Y.s(F,2,"0");case"h":return Ut(1);case"hh":return Ut(2);case"a":return Ft(F,j,!0);case"A":return Ft(F,j,!1);case"m":return String(j);case"mm":return Y.s(j,2,"0");case"s":return String(P.$s);case"ss":return Y.s(P.$s,2,"0");case"SSS":return Y.s(P.$ms,3,"0");case"Z":return ft}return null})(Zt)||ft.replace(":","")}))},H.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},H.diff=function(D,P,z){var lt,ft=this,F=Y.p(P),j=et(D),at=(j.utcOffset()-this.utcOffset())*i,ht=this-j,dt=function(){return Y.m(ft,j)};switch(F){case x:lt=dt()/12;break;case m:lt=dt();break;case v:lt=dt()/3;break;case d:lt=(ht-at)/6048e5;break;case h:lt=(ht-at)/864e5;break;case f:lt=ht/a;break;case c:lt=ht/i;break;case l:lt=ht/n;break;default:lt=ht}return z?lt:Y.a(lt)},H.daysInMonth=function(){return this.endOf(m).$D},H.$locale=function(){return L[this.$L]},H.locale=function(D,P){if(!D)return this.$L;var z=this.clone(),lt=Q(D,P,!0);return lt&&(z.$L=lt),z},H.clone=function(){return Y.w(this.$d,this)},H.toDate=function(){return new Date(this.valueOf())},H.toJSON=function(){return this.isValid()?this.toISOString():null},H.toISOString=function(){return this.$d.toISOString()},H.toString=function(){return this.$d.toUTCString()},W})(),nt=ct.prototype;return et.prototype=nt,[["$ms",s],["$s",l],["$m",c],["$H",f],["$W",h],["$M",m],["$y",x],["$D",S]].forEach((function(W){nt[W[1]]=function(H){return this.$g(H,W[0],W[1])}})),et.extend=function(W,H){return W.$i||(W(H,ct,et),W.$i=!0),et},et.locale=Q,et.isDayjs=V,et.unix=function(W){return et(1e3*W)},et.en=L[B],et.Ls=L,et.p={},et}))})(dh)),dh.exports}var uO=cO();const hO=Km(uO);var yT=Object.defineProperty,T=(e,t)=>yT(e,"name",{value:t,configurable:!0}),fO=(e,t)=>{for(var n in t)yT(e,n,{get:t[n],enumerable:!0})},pr={trace:0,debug:1,info:2,warn:3,error:4,fatal:5},st={trace:T((...e)=>{},"trace"),debug:T((...e)=>{},"debug"),info:T((...e)=>{},"info"),warn:T((...e)=>{},"warn"),error:T((...e)=>{},"error"),fatal:T((...e)=>{},"fatal")},cy=T(function(e="fatal"){let t=pr.fatal;typeof e=="string"?e.toLowerCase()in pr&&(t=pr[e]):typeof e=="number"&&(t=e),st.trace=()=>{},st.debug=()=>{},st.info=()=>{},st.warn=()=>{},st.error=()=>{},st.fatal=()=>{},t<=pr.fatal&&(st.fatal=console.error?console.error.bind(console,ai("FATAL"),"color: orange"):console.log.bind(console,"\x1B[35m",ai("FATAL"))),t<=pr.error&&(st.error=console.error?console.error.bind(console,ai("ERROR"),"color: orange"):console.log.bind(console,"\x1B[31m",ai("ERROR"))),t<=pr.warn&&(st.warn=console.warn?console.warn.bind(console,ai("WARN"),"color: orange"):console.log.bind(console,"\x1B[33m",ai("WARN"))),t<=pr.info&&(st.info=console.info?console.info.bind(console,ai("INFO"),"color: lightblue"):console.log.bind(console,"\x1B[34m",ai("INFO"))),t<=pr.debug&&(st.debug=console.debug?console.debug.bind(console,ai("DEBUG"),"color: lightgreen"):console.log.bind(console,"\x1B[32m",ai("DEBUG"))),t<=pr.trace&&(st.trace=console.debug?console.debug.bind(console,ai("TRACE"),"color: lightgreen"):console.log.bind(console,"\x1B[32m",ai("TRACE")))},"setLogLevel"),ai=T(e=>`%c${hO().format("ss.SSS")} : ${e} : `,"format");const ph={min:{r:0,g:0,b:0,s:0,l:0,a:0},max:{r:255,g:255,b:255,h:360,s:100,l:100,a:1},clamp:{r:e=>e>=255?255:e<0?0:e,g:e=>e>=255?255:e<0?0:e,b:e=>e>=255?255:e<0?0:e,h:e=>e%360,s:e=>e>=100?100:e<0?0:e,l:e=>e>=100?100:e<0?0:e,a:e=>e>=1?1:e<0?0:e},toLinear:e=>{const t=e/255;return e>.03928?Math.pow((t+.055)/1.055,2.4):t/12.92},hue2rgb:(e,t,n)=>(n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e),hsl2rgb:({h:e,s:t,l:n},i)=>{if(!t)return n*2.55;e/=360,t/=100,n/=100;const a=n<.5?n*(1+t):n+t-n*t,s=2*n-a;switch(i){case"r":return ph.hue2rgb(s,a,e+1/3)*255;case"g":return ph.hue2rgb(s,a,e)*255;case"b":return ph.hue2rgb(s,a,e-1/3)*255}},rgb2hsl:({r:e,g:t,b:n},i)=>{e/=255,t/=255,n/=255;const a=Math.max(e,t,n),s=Math.min(e,t,n),l=(a+s)/2;if(i==="l")return l*100;if(a===s)return 0;const c=a-s,f=l>.5?c/(2-a-s):c/(a+s);if(i==="s")return f*100;switch(a){case e:return((t-n)/c+(t<n?6:0))*60;case t:return((n-e)/c+2)*60;case n:return((e-t)/c+4)*60;default:return-1}}},dO={clamp:(e,t,n)=>t>n?Math.min(t,Math.max(n,e)):Math.min(n,Math.max(t,e)),round:e=>Math.round(e*1e10)/1e10},pO={dec2hex:e=>{const t=Math.round(e).toString(16);return t.length>1?t:`0${t}`}},Bt={channel:ph,lang:dO,unit:pO},jr={};for(let e=0;e<=255;e++)jr[e]=Bt.unit.dec2hex(e);const an={ALL:0,RGB:1,HSL:2};class gO{constructor(){this.type=an.ALL}get(){return this.type}set(t){if(this.type&&this.type!==t)throw new Error("Cannot change both RGB and HSL channels at the same time");this.type=t}reset(){this.type=an.ALL}is(t){return this.type===t}}class mO{constructor(t,n){this.color=n,this.changed=!1,this.data=t,this.type=new gO}set(t,n){return this.color=n,this.changed=!1,this.data=t,this.type.type=an.ALL,this}_ensureHSL(){const t=this.data,{h:n,s:i,l:a}=t;n===void 0&&(t.h=Bt.channel.rgb2hsl(t,"h")),i===void 0&&(t.s=Bt.channel.rgb2hsl(t,"s")),a===void 0&&(t.l=Bt.channel.rgb2hsl(t,"l"))}_ensureRGB(){const t=this.data,{r:n,g:i,b:a}=t;n===void 0&&(t.r=Bt.channel.hsl2rgb(t,"r")),i===void 0&&(t.g=Bt.channel.hsl2rgb(t,"g")),a===void 0&&(t.b=Bt.channel.hsl2rgb(t,"b"))}get r(){const t=this.data,n=t.r;return!this.type.is(an.HSL)&&n!==void 0?n:(this._ensureHSL(),Bt.channel.hsl2rgb(t,"r"))}get g(){const t=this.data,n=t.g;return!this.type.is(an.HSL)&&n!==void 0?n:(this._ensureHSL(),Bt.channel.hsl2rgb(t,"g"))}get b(){const t=this.data,n=t.b;return!this.type.is(an.HSL)&&n!==void 0?n:(this._ensureHSL(),Bt.channel.hsl2rgb(t,"b"))}get h(){const t=this.data,n=t.h;return!this.type.is(an.RGB)&&n!==void 0?n:(this._ensureRGB(),Bt.channel.rgb2hsl(t,"h"))}get s(){const t=this.data,n=t.s;return!this.type.is(an.RGB)&&n!==void 0?n:(this._ensureRGB(),Bt.channel.rgb2hsl(t,"s"))}get l(){const t=this.data,n=t.l;return!this.type.is(an.RGB)&&n!==void 0?n:(this._ensureRGB(),Bt.channel.rgb2hsl(t,"l"))}get a(){return this.data.a}set r(t){this.type.set(an.RGB),this.changed=!0,this.data.r=t}set g(t){this.type.set(an.RGB),this.changed=!0,this.data.g=t}set b(t){this.type.set(an.RGB),this.changed=!0,this.data.b=t}set h(t){this.type.set(an.HSL),this.changed=!0,this.data.h=t}set s(t){this.type.set(an.HSL),this.changed=!0,this.data.s=t}set l(t){this.type.set(an.HSL),this.changed=!0,this.data.l=t}set a(t){this.changed=!0,this.data.a=t}}const Ef=new mO({r:0,g:0,b:0,a:0},"transparent"),Ko={re:/^#((?:[a-f0-9]{2}){2,4}|[a-f0-9]{3})$/i,parse:e=>{if(e.charCodeAt(0)!==35)return;const t=e.match(Ko.re);if(!t)return;const n=t[1],i=parseInt(n,16),a=n.length,s=a%4===0,l=a>4,c=l?1:17,f=l?8:4,h=s?0:-1,d=l?255:15;return Ef.set({r:(i>>f*(h+3)&d)*c,g:(i>>f*(h+2)&d)*c,b:(i>>f*(h+1)&d)*c,a:s?(i&d)*c/255:1},e)},stringify:e=>{const{r:t,g:n,b:i,a}=e;return a<1?`#${jr[Math.round(t)]}${jr[Math.round(n)]}${jr[Math.round(i)]}${jr[Math.round(a*255)]}`:`#${jr[Math.round(t)]}${jr[Math.round(n)]}${jr[Math.round(i)]}`}},Fa={re:/^hsla?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(?:deg|grad|rad|turn)?)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(%)?))?\s*?\)$/i,hueRe:/^(.+?)(deg|grad|rad|turn)$/i,_hue2deg:e=>{const t=e.match(Fa.hueRe);if(t){const[,n,i]=t;switch(i){case"grad":return Bt.channel.clamp.h(parseFloat(n)*.9);case"rad":return Bt.channel.clamp.h(parseFloat(n)*180/Math.PI);case"turn":return Bt.channel.clamp.h(parseFloat(n)*360)}}return Bt.channel.clamp.h(parseFloat(e))},parse:e=>{const t=e.charCodeAt(0);if(t!==104&&t!==72)return;const n=e.match(Fa.re);if(!n)return;const[,i,a,s,l,c]=n;return Ef.set({h:Fa._hue2deg(i),s:Bt.channel.clamp.s(parseFloat(a)),l:Bt.channel.clamp.l(parseFloat(s)),a:l?Bt.channel.clamp.a(c?parseFloat(l)/100:parseFloat(l)):1},e)},stringify:e=>{const{h:t,s:n,l:i,a}=e;return a<1?`hsla(${Bt.lang.round(t)}, ${Bt.lang.round(n)}%, ${Bt.lang.round(i)}%, ${a})`:`hsl(${Bt.lang.round(t)}, ${Bt.lang.round(n)}%, ${Bt.lang.round(i)}%)`}},Ql={colors:{aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyanaqua:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",transparent:"#00000000",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},parse:e=>{e=e.toLowerCase();const t=Ql.colors[e];if(t)return Ko.parse(t)},stringify:e=>{const t=Ko.stringify(e);for(const n in Ql.colors)if(Ql.colors[n]===t)return n}},ql={re:/^rgba?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?)))?\s*?\)$/i,parse:e=>{const t=e.charCodeAt(0);if(t!==114&&t!==82)return;const n=e.match(ql.re);if(!n)return;const[,i,a,s,l,c,f,h,d]=n;return Ef.set({r:Bt.channel.clamp.r(a?parseFloat(i)*2.55:parseFloat(i)),g:Bt.channel.clamp.g(l?parseFloat(s)*2.55:parseFloat(s)),b:Bt.channel.clamp.b(f?parseFloat(c)*2.55:parseFloat(c)),a:h?Bt.channel.clamp.a(d?parseFloat(h)/100:parseFloat(h)):1},e)},stringify:e=>{const{r:t,g:n,b:i,a}=e;return a<1?`rgba(${Bt.lang.round(t)}, ${Bt.lang.round(n)}, ${Bt.lang.round(i)}, ${Bt.lang.round(a)})`:`rgb(${Bt.lang.round(t)}, ${Bt.lang.round(n)}, ${Bt.lang.round(i)})`}},$i={format:{keyword:Ql,hex:Ko,rgb:ql,rgba:ql,hsl:Fa,hsla:Fa},parse:e=>{if(typeof e!="string")return e;const t=Ko.parse(e)||ql.parse(e)||Fa.parse(e)||Ql.parse(e);if(t)return t;throw new Error(`Unsupported color format: "${e}"`)},stringify:e=>!e.changed&&e.color?e.color:e.type.is(an.HSL)||e.data.r===void 0?Fa.stringify(e):e.a<1||!Number.isInteger(e.r)||!Number.isInteger(e.g)||!Number.isInteger(e.b)?ql.stringify(e):Ko.stringify(e)},vT=(e,t)=>{const n=$i.parse(e);for(const i in t)n[i]=Bt.channel.clamp[i](t[i]);return $i.stringify(n)},Zl=(e,t,n=0,i=1)=>{if(typeof e!="number")return vT(e,{a:t});const a=Ef.set({r:Bt.channel.clamp.r(e),g:Bt.channel.clamp.g(t),b:Bt.channel.clamp.b(n),a:Bt.channel.clamp.a(i)});return $i.stringify(a)},yO=e=>{const{r:t,g:n,b:i}=$i.parse(e),a=.2126*Bt.channel.toLinear(t)+.7152*Bt.channel.toLinear(n)+.0722*Bt.channel.toLinear(i);return Bt.lang.round(a)},vO=e=>yO(e)>=.5,mc=e=>!vO(e),_T=(e,t,n)=>{const i=$i.parse(e),a=i[t],s=Bt.channel.clamp[t](a+n);return a!==s&&(i[t]=s),$i.stringify(i)},Ct=(e,t)=>_T(e,"l",t),Rt=(e,t)=>_T(e,"l",-t),G=(e,t)=>{const n=$i.parse(e),i={};for(const a in t)t[a]&&(i[a]=n[a]+t[a]);return vT(e,i)},_O=(e,t,n=50)=>{const{r:i,g:a,b:s,a:l}=$i.parse(e),{r:c,g:f,b:h,a:d}=$i.parse(t),m=n/100,v=m*2-1,x=l-d,b=((v*x===-1?v:(v+x)/(1+v*x))+1)/2,E=1-b,A=i*b+c*E,k=a*b+f*E,R=s*b+h*E,I=l*m+d*(1-m);return Zl(A,k,R,I)},gt=(e,t=100)=>{const n=$i.parse(e);return n.r=255-n.r,n.g=255-n.g,n.b=255-n.b,_O(n,e,t)};/*! @license DOMPurify 3.3.1 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.3.1/LICENSE */const{entries:xT,setPrototypeOf:HS,isFrozen:xO,getPrototypeOf:CO,getOwnPropertyDescriptor:SO}=Object;let{freeze:Cn,seal:li,create:Qg}=Object,{apply:Zg,construct:jg}=typeof Reflect<"u"&&Reflect;Cn||(Cn=function(t){return t});li||(li=function(t){return t});Zg||(Zg=function(t,n){for(var i=arguments.length,a=new Array(i>2?i-2:0),s=2;s<i;s++)a[s-2]=arguments[s];return t.apply(n,a)});jg||(jg=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];return new t(...i)});const Qu=Sn(Array.prototype.forEach),bO=Sn(Array.prototype.lastIndexOf),GS=Sn(Array.prototype.pop),Ml=Sn(Array.prototype.push),TO=Sn(Array.prototype.splice),gh=Sn(String.prototype.toLowerCase),gg=Sn(String.prototype.toString),mg=Sn(String.prototype.match),Rl=Sn(String.prototype.replace),EO=Sn(String.prototype.indexOf),wO=Sn(String.prototype.trim),yi=Sn(Object.prototype.hasOwnProperty),gn=Sn(RegExp.prototype.test),Nl=AO(TypeError);function Sn(e){return function(t){t instanceof RegExp&&(t.lastIndex=0);for(var n=arguments.length,i=new Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];return Zg(e,t,i)}}function AO(e){return function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return jg(e,n)}}function Ht(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:gh;HS&&HS(e,null);let i=t.length;for(;i--;){let a=t[i];if(typeof a=="string"){const s=n(a);s!==a&&(xO(t)||(t[i]=s),a=s)}e[a]=!0}return e}function kO(e){for(let t=0;t<e.length;t++)yi(e,t)||(e[t]=null);return e}function Bi(e){const t=Qg(null);for(const[n,i]of xT(e))yi(e,n)&&(Array.isArray(i)?t[n]=kO(i):i&&typeof i=="object"&&i.constructor===Object?t[n]=Bi(i):t[n]=i);return t}function Ll(e,t){for(;e!==null;){const i=SO(e,t);if(i){if(i.get)return Sn(i.get);if(typeof i.value=="function")return Sn(i.value)}e=CO(e)}function n(){return null}return n}const VS=Cn(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),yg=Cn(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),vg=Cn(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),MO=Cn(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),_g=Cn(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),RO=Cn(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),YS=Cn(["#text"]),WS=Cn(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),xg=Cn(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","mask-type","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),XS=Cn(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Zu=Cn(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),NO=li(/\{\{[\w\W]*|[\w\W]*\}\}/gm),LO=li(/<%[\w\W]*|[\w\W]*%>/gm),DO=li(/\$\{[\w\W]*/gm),IO=li(/^data-[\-\w.\u00B7-\uFFFF]+$/),BO=li(/^aria-[\-\w]+$/),CT=li(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),FO=li(/^(?:\w+script|data):/i),OO=li(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),ST=li(/^html$/i),PO=li(/^[a-z][.\w]*(-[.\w]+)+$/i);var JS=Object.freeze({__proto__:null,ARIA_ATTR:BO,ATTR_WHITESPACE:OO,CUSTOM_ELEMENT:PO,DATA_ATTR:IO,DOCTYPE_NAME:ST,ERB_EXPR:LO,IS_ALLOWED_URI:CT,IS_SCRIPT_OR_DATA:FO,MUSTACHE_EXPR:NO,TMPLIT_EXPR:DO});const Dl={element:1,text:3,progressingInstruction:7,comment:8,document:9},UO=function(){return typeof window>"u"?null:window},$O=function(t,n){if(typeof t!="object"||typeof t.createPolicy!="function")return null;let i=null;const a="data-tt-policy-suffix";n&&n.hasAttribute(a)&&(i=n.getAttribute(a));const s="dompurify"+(i?"#"+i:"");try{return t.createPolicy(s,{createHTML(l){return l},createScriptURL(l){return l}})}catch{return console.warn("TrustedTypes policy "+s+" could not be created."),null}},KS=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function bT(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:UO();const t=wt=>bT(wt);if(t.version="3.3.1",t.removed=[],!e||!e.document||e.document.nodeType!==Dl.document||!e.Element)return t.isSupported=!1,t;let{document:n}=e;const i=n,a=i.currentScript,{DocumentFragment:s,HTMLTemplateElement:l,Node:c,Element:f,NodeFilter:h,NamedNodeMap:d=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:m,DOMParser:v,trustedTypes:x}=e,S=f.prototype,b=Ll(S,"cloneNode"),E=Ll(S,"remove"),A=Ll(S,"nextSibling"),k=Ll(S,"childNodes"),R=Ll(S,"parentNode");if(typeof l=="function"){const wt=n.createElement("template");wt.content&&wt.content.ownerDocument&&(n=wt.content.ownerDocument)}let I,B="";const{implementation:L,createNodeIterator:N,createDocumentFragment:V,getElementsByTagName:Q}=n,{importNode:et}=i;let Y=KS();t.isSupported=typeof xT=="function"&&typeof R=="function"&&L&&L.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:ct,ERB_EXPR:nt,TMPLIT_EXPR:W,DATA_ATTR:H,ARIA_ATTR:D,IS_SCRIPT_OR_DATA:P,ATTR_WHITESPACE:z,CUSTOM_ELEMENT:lt}=JS;let{IS_ALLOWED_URI:ft}=JS,F=null;const j=Ht({},[...VS,...yg,...vg,..._g,...YS]);let at=null;const ht=Ht({},[...WS,...xg,...XS,...Zu]);let dt=Object.seal(Qg(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),pt=null,_t=null;const Ut=Object.seal(Qg(null,{tagCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeCheck:{writable:!0,configurable:!1,enumerable:!0,value:null}}));let Ft=!0,Zt=!0,me=!1,fn=!0,dn=!1,nn=!0,hi=!1,fa=!1,Es=!1,Gi=!1,wr=!1,Ar=!1,no=!0,wc=!1;const Zf="user-content-";let Xe=!0,da=!1,Vi={},Bn=null;const kr=Ht({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Ac=null;const ws=Ht({},["audio","video","img","source","image","track"]);let As=null;const kc=Ht({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),ki="http://www.w3.org/1998/Math/MathML",Ge="http://www.w3.org/2000/svg",Ve="http://www.w3.org/1999/xhtml";let Re=Ve,ks=!1,Ms=null;const jf=Ht({},[ki,Ge,Ve],gg);let Yi=Ht({},["mi","mo","mn","ms","mtext"]),Wi=Ht({},["annotation-xml"]);const io=Ht({},["title","style","font","a","script"]);let Fn=null;const ro=["application/xhtml+xml","text/html"],pa="text/html";let we=null,Xi=null;const Rs=n.createElement("form"),Mr=function(U){return U instanceof RegExp||U instanceof Function},Ns=function(){let U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(Xi&&Xi===U)){if((!U||typeof U!="object")&&(U={}),U=Bi(U),Fn=ro.indexOf(U.PARSER_MEDIA_TYPE)===-1?pa:U.PARSER_MEDIA_TYPE,we=Fn==="application/xhtml+xml"?gg:gh,F=yi(U,"ALLOWED_TAGS")?Ht({},U.ALLOWED_TAGS,we):j,at=yi(U,"ALLOWED_ATTR")?Ht({},U.ALLOWED_ATTR,we):ht,Ms=yi(U,"ALLOWED_NAMESPACES")?Ht({},U.ALLOWED_NAMESPACES,gg):jf,As=yi(U,"ADD_URI_SAFE_ATTR")?Ht(Bi(kc),U.ADD_URI_SAFE_ATTR,we):kc,Ac=yi(U,"ADD_DATA_URI_TAGS")?Ht(Bi(ws),U.ADD_DATA_URI_TAGS,we):ws,Bn=yi(U,"FORBID_CONTENTS")?Ht({},U.FORBID_CONTENTS,we):kr,pt=yi(U,"FORBID_TAGS")?Ht({},U.FORBID_TAGS,we):Bi({}),_t=yi(U,"FORBID_ATTR")?Ht({},U.FORBID_ATTR,we):Bi({}),Vi=yi(U,"USE_PROFILES")?U.USE_PROFILES:!1,Ft=U.ALLOW_ARIA_ATTR!==!1,Zt=U.ALLOW_DATA_ATTR!==!1,me=U.ALLOW_UNKNOWN_PROTOCOLS||!1,fn=U.ALLOW_SELF_CLOSE_IN_ATTR!==!1,dn=U.SAFE_FOR_TEMPLATES||!1,nn=U.SAFE_FOR_XML!==!1,hi=U.WHOLE_DOCUMENT||!1,Gi=U.RETURN_DOM||!1,wr=U.RETURN_DOM_FRAGMENT||!1,Ar=U.RETURN_TRUSTED_TYPE||!1,Es=U.FORCE_BODY||!1,no=U.SANITIZE_DOM!==!1,wc=U.SANITIZE_NAMED_PROPS||!1,Xe=U.KEEP_CONTENT!==!1,da=U.IN_PLACE||!1,ft=U.ALLOWED_URI_REGEXP||CT,Re=U.NAMESPACE||Ve,Yi=U.MATHML_TEXT_INTEGRATION_POINTS||Yi,Wi=U.HTML_INTEGRATION_POINTS||Wi,dt=U.CUSTOM_ELEMENT_HANDLING||{},U.CUSTOM_ELEMENT_HANDLING&&Mr(U.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(dt.tagNameCheck=U.CUSTOM_ELEMENT_HANDLING.tagNameCheck),U.CUSTOM_ELEMENT_HANDLING&&Mr(U.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(dt.attributeNameCheck=U.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),U.CUSTOM_ELEMENT_HANDLING&&typeof U.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(dt.allowCustomizedBuiltInElements=U.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),dn&&(Zt=!1),wr&&(Gi=!0),Vi&&(F=Ht({},YS),at=[],Vi.html===!0&&(Ht(F,VS),Ht(at,WS)),Vi.svg===!0&&(Ht(F,yg),Ht(at,xg),Ht(at,Zu)),Vi.svgFilters===!0&&(Ht(F,vg),Ht(at,xg),Ht(at,Zu)),Vi.mathMl===!0&&(Ht(F,_g),Ht(at,XS),Ht(at,Zu))),U.ADD_TAGS&&(typeof U.ADD_TAGS=="function"?Ut.tagCheck=U.ADD_TAGS:(F===j&&(F=Bi(F)),Ht(F,U.ADD_TAGS,we))),U.ADD_ATTR&&(typeof U.ADD_ATTR=="function"?Ut.attributeCheck=U.ADD_ATTR:(at===ht&&(at=Bi(at)),Ht(at,U.ADD_ATTR,we))),U.ADD_URI_SAFE_ATTR&&Ht(As,U.ADD_URI_SAFE_ATTR,we),U.FORBID_CONTENTS&&(Bn===kr&&(Bn=Bi(Bn)),Ht(Bn,U.FORBID_CONTENTS,we)),U.ADD_FORBID_CONTENTS&&(Bn===kr&&(Bn=Bi(Bn)),Ht(Bn,U.ADD_FORBID_CONTENTS,we)),Xe&&(F["#text"]=!0),hi&&Ht(F,["html","head","body"]),F.table&&(Ht(F,["tbody"]),delete pt.tbody),U.TRUSTED_TYPES_POLICY){if(typeof U.TRUSTED_TYPES_POLICY.createHTML!="function")throw Nl('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof U.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Nl('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');I=U.TRUSTED_TYPES_POLICY,B=I.createHTML("")}else I===void 0&&(I=$O(x,a)),I!==null&&typeof B=="string"&&(B=I.createHTML(""));Cn&&Cn(U),Xi=U}},Ls=Ht({},[...yg,...vg,...MO]),Ds=Ht({},[..._g,...RO]),Mc=function(U){let ut=R(U);(!ut||!ut.tagName)&&(ut={namespaceURI:Re,tagName:"template"});const vt=gh(U.tagName),re=gh(ut.tagName);return Ms[U.namespaceURI]?U.namespaceURI===Ge?ut.namespaceURI===Ve?vt==="svg":ut.namespaceURI===ki?vt==="svg"&&(re==="annotation-xml"||Yi[re]):!!Ls[vt]:U.namespaceURI===ki?ut.namespaceURI===Ve?vt==="math":ut.namespaceURI===Ge?vt==="math"&&Wi[re]:!!Ds[vt]:U.namespaceURI===Ve?ut.namespaceURI===Ge&&!Wi[re]||ut.namespaceURI===ki&&!Yi[re]?!1:!Ds[vt]&&(io[vt]||!Ls[vt]):!!(Fn==="application/xhtml+xml"&&Ms[U.namespaceURI]):!1},bn=function(U){Ml(t.removed,{element:U});try{R(U).removeChild(U)}catch{E(U)}},fi=function(U,ut){try{Ml(t.removed,{attribute:ut.getAttributeNode(U),from:ut})}catch{Ml(t.removed,{attribute:null,from:ut})}if(ut.removeAttribute(U),U==="is")if(Gi||wr)try{bn(ut)}catch{}else try{ut.setAttribute(U,"")}catch{}},Is=function(U){let ut=null,vt=null;if(Es)U="<remove></remove>"+U;else{const qt=mg(U,/^[\r\n\t ]+/);vt=qt&&qt[0]}Fn==="application/xhtml+xml"&&Re===Ve&&(U='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+U+"</body></html>");const re=I?I.createHTML(U):U;if(Re===Ve)try{ut=new v().parseFromString(re,Fn)}catch{}if(!ut||!ut.documentElement){ut=L.createDocument(Re,"template",null);try{ut.documentElement.innerHTML=ks?B:re}catch{}}const be=ut.body||ut.documentElement;return U&&vt&&be.insertBefore(n.createTextNode(vt),be.childNodes[0]||null),Re===Ve?Q.call(ut,hi?"html":"body")[0]:hi?ut.documentElement:be},Bs=function(U){return N.call(U.ownerDocument||U,U,h.SHOW_ELEMENT|h.SHOW_COMMENT|h.SHOW_TEXT|h.SHOW_PROCESSING_INSTRUCTION|h.SHOW_CDATA_SECTION,null)},Wn=function(U){return U instanceof m&&(typeof U.nodeName!="string"||typeof U.textContent!="string"||typeof U.removeChild!="function"||!(U.attributes instanceof d)||typeof U.removeAttribute!="function"||typeof U.setAttribute!="function"||typeof U.namespaceURI!="string"||typeof U.insertBefore!="function"||typeof U.hasChildNodes!="function")},Ne=function(U){return typeof c=="function"&&U instanceof c};function xe(wt,U,ut){Qu(wt,vt=>{vt.call(t,U,ut,Xi)})}const Ji=function(U){let ut=null;if(xe(Y.beforeSanitizeElements,U,null),Wn(U))return bn(U),!0;const vt=we(U.nodeName);if(xe(Y.uponSanitizeElement,U,{tagName:vt,allowedTags:F}),nn&&U.hasChildNodes()&&!Ne(U.firstElementChild)&&gn(/<[/\w!]/g,U.innerHTML)&&gn(/<[/\w!]/g,U.textContent)||U.nodeType===Dl.progressingInstruction||nn&&U.nodeType===Dl.comment&&gn(/<[/\w]/g,U.data))return bn(U),!0;if(!(Ut.tagCheck instanceof Function&&Ut.tagCheck(vt))&&(!F[vt]||pt[vt])){if(!pt[vt]&&Rc(vt)&&(dt.tagNameCheck instanceof RegExp&&gn(dt.tagNameCheck,vt)||dt.tagNameCheck instanceof Function&&dt.tagNameCheck(vt)))return!1;if(Xe&&!Bn[vt]){const re=R(U)||U.parentNode,be=k(U)||U.childNodes;if(be&&re){const qt=be.length;for(let Je=qt-1;Je>=0;--Je){const Xn=b(be[Je],!0);Xn.__removalCount=(U.__removalCount||0)+1,re.insertBefore(Xn,A(U))}}}return bn(U),!0}return U instanceof f&&!Mc(U)||(vt==="noscript"||vt==="noembed"||vt==="noframes")&&gn(/<\/no(script|embed|frames)/i,U.innerHTML)?(bn(U),!0):(dn&&U.nodeType===Dl.text&&(ut=U.textContent,Qu([ct,nt,W],re=>{ut=Rl(ut,re," ")}),U.textContent!==ut&&(Ml(t.removed,{element:U.cloneNode()}),U.textContent=ut)),xe(Y.afterSanitizeElements,U,null),!1)},ao=function(U,ut,vt){if(no&&(ut==="id"||ut==="name")&&(vt in n||vt in Rs))return!1;if(!(Zt&&!_t[ut]&&gn(H,ut))){if(!(Ft&&gn(D,ut))){if(!(Ut.attributeCheck instanceof Function&&Ut.attributeCheck(ut,U))){if(!at[ut]||_t[ut]){if(!(Rc(U)&&(dt.tagNameCheck instanceof RegExp&&gn(dt.tagNameCheck,U)||dt.tagNameCheck instanceof Function&&dt.tagNameCheck(U))&&(dt.attributeNameCheck instanceof RegExp&&gn(dt.attributeNameCheck,ut)||dt.attributeNameCheck instanceof Function&&dt.attributeNameCheck(ut,U))||ut==="is"&&dt.allowCustomizedBuiltInElements&&(dt.tagNameCheck instanceof RegExp&&gn(dt.tagNameCheck,vt)||dt.tagNameCheck instanceof Function&&dt.tagNameCheck(vt))))return!1}else if(!As[ut]){if(!gn(ft,Rl(vt,z,""))){if(!((ut==="src"||ut==="xlink:href"||ut==="href")&&U!=="script"&&EO(vt,"data:")===0&&Ac[U])){if(!(me&&!gn(P,Rl(vt,z,"")))){if(vt)return!1}}}}}}}return!0},Rc=function(U){return U!=="annotation-xml"&&mg(U,lt)},Nc=function(U){xe(Y.beforeSanitizeAttributes,U,null);const{attributes:ut}=U;if(!ut||Wn(U))return;const vt={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:at,forceKeepAttr:void 0};let re=ut.length;for(;re--;){const be=ut[re],{name:qt,namespaceURI:Je,value:Xn}=be,Tn=we(qt),Mi=Xn;let Oe=qt==="value"?Mi:wO(Mi);if(vt.attrName=Tn,vt.attrValue=Oe,vt.keepAttr=!0,vt.forceKeepAttr=void 0,xe(Y.uponSanitizeAttribute,U,vt),Oe=vt.attrValue,wc&&(Tn==="id"||Tn==="name")&&(fi(qt,U),Oe=Zf+Oe),nn&&gn(/((--!?|])>)|<\/(style|title|textarea)/i,Oe)){fi(qt,U);continue}if(Tn==="attributename"&&mg(Oe,"href")){fi(qt,U);continue}if(vt.forceKeepAttr)continue;if(!vt.keepAttr){fi(qt,U);continue}if(!fn&&gn(/\/>/i,Oe)){fi(qt,U);continue}dn&&Qu([ct,nt,W],Os=>{Oe=Rl(Oe,Os," ")});const Fs=we(U.nodeName);if(!ao(Fs,Tn,Oe)){fi(qt,U);continue}if(I&&typeof x=="object"&&typeof x.getAttributeType=="function"&&!Je)switch(x.getAttributeType(Fs,Tn)){case"TrustedHTML":{Oe=I.createHTML(Oe);break}case"TrustedScriptURL":{Oe=I.createScriptURL(Oe);break}}if(Oe!==Mi)try{Je?U.setAttributeNS(Je,qt,Oe):U.setAttribute(qt,Oe),Wn(U)?bn(U):GS(t.removed)}catch{fi(qt,U)}}xe(Y.afterSanitizeAttributes,U,null)},Lc=function wt(U){let ut=null;const vt=Bs(U);for(xe(Y.beforeSanitizeShadowDOM,U,null);ut=vt.nextNode();)xe(Y.uponSanitizeShadowNode,ut,null),Ji(ut),Nc(ut),ut.content instanceof s&&wt(ut.content);xe(Y.afterSanitizeShadowDOM,U,null)};return t.sanitize=function(wt){let U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ut=null,vt=null,re=null,be=null;if(ks=!wt,ks&&(wt="<!-->"),typeof wt!="string"&&!Ne(wt))if(typeof wt.toString=="function"){if(wt=wt.toString(),typeof wt!="string")throw Nl("dirty is not a string, aborting")}else throw Nl("toString is not a function");if(!t.isSupported)return wt;if(fa||Ns(U),t.removed=[],typeof wt=="string"&&(da=!1),da){if(wt.nodeName){const Xn=we(wt.nodeName);if(!F[Xn]||pt[Xn])throw Nl("root node is forbidden and cannot be sanitized in-place")}}else if(wt instanceof c)ut=Is("<!---->"),vt=ut.ownerDocument.importNode(wt,!0),vt.nodeType===Dl.element&&vt.nodeName==="BODY"||vt.nodeName==="HTML"?ut=vt:ut.appendChild(vt);else{if(!Gi&&!dn&&!hi&&wt.indexOf("<")===-1)return I&&Ar?I.createHTML(wt):wt;if(ut=Is(wt),!ut)return Gi?null:Ar?B:""}ut&&Es&&bn(ut.firstChild);const qt=Bs(da?wt:ut);for(;re=qt.nextNode();)Ji(re),Nc(re),re.content instanceof s&&Lc(re.content);if(da)return wt;if(Gi){if(wr)for(be=V.call(ut.ownerDocument);ut.firstChild;)be.appendChild(ut.firstChild);else be=ut;return(at.shadowroot||at.shadowrootmode)&&(be=et.call(i,be,!0)),be}let Je=hi?ut.outerHTML:ut.innerHTML;return hi&&F["!doctype"]&&ut.ownerDocument&&ut.ownerDocument.doctype&&ut.ownerDocument.doctype.name&&gn(ST,ut.ownerDocument.doctype.name)&&(Je="<!DOCTYPE "+ut.ownerDocument.doctype.name+`>
`+Je),dn&&Qu([ct,nt,W],Xn=>{Je=Rl(Je,Xn," ")}),I&&Ar?I.createHTML(Je):Je},t.setConfig=function(){let wt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Ns(wt),fa=!0},t.clearConfig=function(){Xi=null,fa=!1},t.isValidAttribute=function(wt,U,ut){Xi||Ns({});const vt=we(wt),re=we(U);return ao(vt,re,ut)},t.addHook=function(wt,U){typeof U=="function"&&Ml(Y[wt],U)},t.removeHook=function(wt,U){if(U!==void 0){const ut=bO(Y[wt],U);return ut===-1?void 0:TO(Y[wt],ut,1)[0]}return GS(Y[wt])},t.removeHooks=function(wt){Y[wt]=[]},t.removeAllHooks=function(){Y=KS()},t}var ss=bT(),TT=/^-{3}\s*[\n\r](.*?)[\n\r]-{3}\s*[\n\r]+/s,jl=/%{2}{\s*(?:(\w+)\s*:|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,zO=/\s*%%.*\n/gm,jo,ET=(jo=class extends Error{constructor(t){super(t),this.name="UnknownDiagramError"}},T(jo,"UnknownDiagramError"),jo),Ha={},uy=T(function(e,t){e=e.replace(TT,"").replace(jl,"").replace(zO,`
`);for(const[n,{detector:i}]of Object.entries(Ha))if(i(e,t))return n;throw new ET(`No diagram type detected matching given configuration for text: ${e}`)},"detectType"),tm=T((...e)=>{for(const{id:t,detector:n,loader:i}of e)wT(t,n,i)},"registerLazyLoadedDiagrams"),wT=T((e,t,n)=>{Ha[e]&&st.warn(`Detector with key ${e} already exists. Overwriting.`),Ha[e]={detector:t,loader:n},st.debug(`Detector with key ${e} added${n?" with loader":""}`)},"addDetector"),qO=T(e=>Ha[e].loader,"getDiagramLoader"),em=T((e,t,{depth:n=2,clobber:i=!1}={})=>{const a={depth:n,clobber:i};return Array.isArray(t)&&!Array.isArray(e)?(t.forEach(s=>em(e,s,a)),e):Array.isArray(t)&&Array.isArray(e)?(t.forEach(s=>{e.includes(s)||e.push(s)}),e):e===void 0||n<=0?e!=null&&typeof e=="object"&&typeof t=="object"?Object.assign(e,t):t:(t!==void 0&&typeof e=="object"&&typeof t=="object"&&Object.keys(t).forEach(s=>{typeof t[s]=="object"&&(e[s]===void 0||typeof e[s]=="object")?(e[s]===void 0&&(e[s]=Array.isArray(t[s])?[]:{}),e[s]=em(e[s],t[s],{depth:n-1,clobber:i})):(i||typeof e[s]!="object"&&typeof t[s]!="object")&&(e[s]=t[s])}),e)},"assignWithDepth"),$e=em,wf="#ffffff",Af="#f2f2f2",yn=T((e,t)=>t?G(e,{s:-40,l:10}):G(e,{s:-40,l:-10}),"mkBorder"),ts,HO=(ts=class{constructor(){this.background="#f4f4f4",this.primaryColor="#fff4dd",this.noteBkgColor="#fff5ad",this.noteTextColor="#333",this.THEME_COLOR_LIMIT=12,this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px"}updateColors(){var n,i,a,s,l,c,f,h,d,m,v,x,S,b,E,A,k,R,I,B,L;if(this.primaryTextColor=this.primaryTextColor||(this.darkMode?"#eee":"#333"),this.secondaryColor=this.secondaryColor||G(this.primaryColor,{h:-120}),this.tertiaryColor=this.tertiaryColor||G(this.primaryColor,{h:180,l:5}),this.primaryBorderColor=this.primaryBorderColor||yn(this.primaryColor,this.darkMode),this.secondaryBorderColor=this.secondaryBorderColor||yn(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=this.tertiaryBorderColor||yn(this.tertiaryColor,this.darkMode),this.noteBorderColor=this.noteBorderColor||yn(this.noteBkgColor,this.darkMode),this.noteBkgColor=this.noteBkgColor||"#fff5ad",this.noteTextColor=this.noteTextColor||"#333",this.secondaryTextColor=this.secondaryTextColor||gt(this.secondaryColor),this.tertiaryTextColor=this.tertiaryTextColor||gt(this.tertiaryColor),this.lineColor=this.lineColor||gt(this.background),this.arrowheadColor=this.arrowheadColor||gt(this.background),this.textColor=this.textColor||this.primaryTextColor,this.border2=this.border2||this.tertiaryBorderColor,this.nodeBkg=this.nodeBkg||this.primaryColor,this.mainBkg=this.mainBkg||this.primaryColor,this.nodeBorder=this.nodeBorder||this.primaryBorderColor,this.clusterBkg=this.clusterBkg||this.tertiaryColor,this.clusterBorder=this.clusterBorder||this.tertiaryBorderColor,this.defaultLinkColor=this.defaultLinkColor||this.lineColor,this.titleColor=this.titleColor||this.tertiaryTextColor,this.edgeLabelBackground=this.edgeLabelBackground||(this.darkMode?Rt(this.secondaryColor,30):this.secondaryColor),this.nodeTextColor=this.nodeTextColor||this.primaryTextColor,this.actorBorder=this.actorBorder||this.primaryBorderColor,this.actorBkg=this.actorBkg||this.mainBkg,this.actorTextColor=this.actorTextColor||this.primaryTextColor,this.actorLineColor=this.actorLineColor||this.actorBorder,this.labelBoxBkgColor=this.labelBoxBkgColor||this.actorBkg,this.signalColor=this.signalColor||this.textColor,this.signalTextColor=this.signalTextColor||this.textColor,this.labelBoxBorderColor=this.labelBoxBorderColor||this.actorBorder,this.labelTextColor=this.labelTextColor||this.actorTextColor,this.loopTextColor=this.loopTextColor||this.actorTextColor,this.activationBorderColor=this.activationBorderColor||Rt(this.secondaryColor,10),this.activationBkgColor=this.activationBkgColor||this.secondaryColor,this.sequenceNumberColor=this.sequenceNumberColor||gt(this.lineColor),this.sectionBkgColor=this.sectionBkgColor||this.tertiaryColor,this.altSectionBkgColor=this.altSectionBkgColor||"white",this.sectionBkgColor=this.sectionBkgColor||this.secondaryColor,this.sectionBkgColor2=this.sectionBkgColor2||this.primaryColor,this.excludeBkgColor=this.excludeBkgColor||"#eeeeee",this.taskBorderColor=this.taskBorderColor||this.primaryBorderColor,this.taskBkgColor=this.taskBkgColor||this.primaryColor,this.activeTaskBorderColor=this.activeTaskBorderColor||this.primaryColor,this.activeTaskBkgColor=this.activeTaskBkgColor||Ct(this.primaryColor,23),this.gridColor=this.gridColor||"lightgrey",this.doneTaskBkgColor=this.doneTaskBkgColor||"lightgrey",this.doneTaskBorderColor=this.doneTaskBorderColor||"grey",this.critBorderColor=this.critBorderColor||"#ff8888",this.critBkgColor=this.critBkgColor||"red",this.todayLineColor=this.todayLineColor||"red",this.vertLineColor=this.vertLineColor||"navy",this.taskTextColor=this.taskTextColor||this.textColor,this.taskTextOutsideColor=this.taskTextOutsideColor||this.textColor,this.taskTextLightColor=this.taskTextLightColor||this.textColor,this.taskTextColor=this.taskTextColor||this.primaryTextColor,this.taskTextDarkColor=this.taskTextDarkColor||this.textColor,this.taskTextClickableColor=this.taskTextClickableColor||"#003163",this.personBorder=this.personBorder||this.primaryBorderColor,this.personBkg=this.personBkg||this.mainBkg,this.darkMode?(this.rowOdd=this.rowOdd||Rt(this.mainBkg,5)||"#ffffff",this.rowEven=this.rowEven||Rt(this.mainBkg,10)):(this.rowOdd=this.rowOdd||Ct(this.mainBkg,75)||"#ffffff",this.rowEven=this.rowEven||Ct(this.mainBkg,5)),this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||this.tertiaryColor,this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.specialStateColor=this.lineColor,this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||G(this.primaryColor,{h:30}),this.cScale4=this.cScale4||G(this.primaryColor,{h:60}),this.cScale5=this.cScale5||G(this.primaryColor,{h:90}),this.cScale6=this.cScale6||G(this.primaryColor,{h:120}),this.cScale7=this.cScale7||G(this.primaryColor,{h:150}),this.cScale8=this.cScale8||G(this.primaryColor,{h:210,l:150}),this.cScale9=this.cScale9||G(this.primaryColor,{h:270}),this.cScale10=this.cScale10||G(this.primaryColor,{h:300}),this.cScale11=this.cScale11||G(this.primaryColor,{h:330}),this.darkMode)for(let N=0;N<this.THEME_COLOR_LIMIT;N++)this["cScale"+N]=Rt(this["cScale"+N],75);else for(let N=0;N<this.THEME_COLOR_LIMIT;N++)this["cScale"+N]=Rt(this["cScale"+N],25);for(let N=0;N<this.THEME_COLOR_LIMIT;N++)this["cScaleInv"+N]=this["cScaleInv"+N]||gt(this["cScale"+N]);for(let N=0;N<this.THEME_COLOR_LIMIT;N++)this.darkMode?this["cScalePeer"+N]=this["cScalePeer"+N]||Ct(this["cScale"+N],10):this["cScalePeer"+N]=this["cScalePeer"+N]||Rt(this["cScale"+N],10);this.scaleLabelColor=this.scaleLabelColor||this.labelTextColor;for(let N=0;N<this.THEME_COLOR_LIMIT;N++)this["cScaleLabel"+N]=this["cScaleLabel"+N]||this.scaleLabelColor;const t=this.darkMode?-4:-1;for(let N=0;N<5;N++)this["surface"+N]=this["surface"+N]||G(this.mainBkg,{h:180,s:-15,l:t*(5+N*3)}),this["surfacePeer"+N]=this["surfacePeer"+N]||G(this.mainBkg,{h:180,s:-15,l:t*(8+N*3)});this.classText=this.classText||this.textColor,this.fillType0=this.fillType0||this.primaryColor,this.fillType1=this.fillType1||this.secondaryColor,this.fillType2=this.fillType2||G(this.primaryColor,{h:64}),this.fillType3=this.fillType3||G(this.secondaryColor,{h:64}),this.fillType4=this.fillType4||G(this.primaryColor,{h:-64}),this.fillType5=this.fillType5||G(this.secondaryColor,{h:-64}),this.fillType6=this.fillType6||G(this.primaryColor,{h:128}),this.fillType7=this.fillType7||G(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||G(this.primaryColor,{l:-10}),this.pie5=this.pie5||G(this.secondaryColor,{l:-10}),this.pie6=this.pie6||G(this.tertiaryColor,{l:-10}),this.pie7=this.pie7||G(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||G(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||G(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||G(this.primaryColor,{h:60,l:-20}),this.pie11=this.pie11||G(this.primaryColor,{h:-60,l:-20}),this.pie12=this.pie12||G(this.primaryColor,{h:120,l:-10}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.radar={axisColor:((n=this.radar)==null?void 0:n.axisColor)||this.lineColor,axisStrokeWidth:((i=this.radar)==null?void 0:i.axisStrokeWidth)||2,axisLabelFontSize:((a=this.radar)==null?void 0:a.axisLabelFontSize)||12,curveOpacity:((s=this.radar)==null?void 0:s.curveOpacity)||.5,curveStrokeWidth:((l=this.radar)==null?void 0:l.curveStrokeWidth)||2,graticuleColor:((c=this.radar)==null?void 0:c.graticuleColor)||"#DEDEDE",graticuleStrokeWidth:((f=this.radar)==null?void 0:f.graticuleStrokeWidth)||1,graticuleOpacity:((h=this.radar)==null?void 0:h.graticuleOpacity)||.3,legendBoxSize:((d=this.radar)==null?void 0:d.legendBoxSize)||12,legendFontSize:((m=this.radar)==null?void 0:m.legendFontSize)||12},this.archEdgeColor=this.archEdgeColor||"#777",this.archEdgeArrowColor=this.archEdgeArrowColor||"#777",this.archEdgeWidth=this.archEdgeWidth||"3",this.archGroupBorderColor=this.archGroupBorderColor||"#000",this.archGroupBorderWidth=this.archGroupBorderWidth||"2px",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||G(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||G(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||G(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||G(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||G(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||G(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||mc(this.quadrant1Fill)?Ct(this.quadrant1Fill):Rt(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:((v=this.xyChart)==null?void 0:v.backgroundColor)||this.background,titleColor:((x=this.xyChart)==null?void 0:x.titleColor)||this.primaryTextColor,xAxisTitleColor:((S=this.xyChart)==null?void 0:S.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((b=this.xyChart)==null?void 0:b.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((E=this.xyChart)==null?void 0:E.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((A=this.xyChart)==null?void 0:A.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((k=this.xyChart)==null?void 0:k.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((R=this.xyChart)==null?void 0:R.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((I=this.xyChart)==null?void 0:I.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((B=this.xyChart)==null?void 0:B.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((L=this.xyChart)==null?void 0:L.plotColorPalette)||"#FFF4DD,#FFD8B1,#FFA07A,#ECEFF1,#D6DBDF,#C3E0A8,#FFB6A4,#FFD74D,#738FA7,#FFFFF0"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?Rt(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||G(this.primaryColor,{h:-30}),this.git4=this.git4||G(this.primaryColor,{h:-60}),this.git5=this.git5||G(this.primaryColor,{h:-90}),this.git6=this.git6||G(this.primaryColor,{h:60}),this.git7=this.git7||G(this.primaryColor,{h:120}),this.darkMode?(this.git0=Ct(this.git0,25),this.git1=Ct(this.git1,25),this.git2=Ct(this.git2,25),this.git3=Ct(this.git3,25),this.git4=Ct(this.git4,25),this.git5=Ct(this.git5,25),this.git6=Ct(this.git6,25),this.git7=Ct(this.git7,25)):(this.git0=Rt(this.git0,25),this.git1=Rt(this.git1,25),this.git2=Rt(this.git2,25),this.git3=Rt(this.git3,25),this.git4=Rt(this.git4,25),this.git5=Rt(this.git5,25),this.git6=Rt(this.git6,25),this.git7=Rt(this.git7,25)),this.gitInv0=this.gitInv0||gt(this.git0),this.gitInv1=this.gitInv1||gt(this.git1),this.gitInv2=this.gitInv2||gt(this.git2),this.gitInv3=this.gitInv3||gt(this.git3),this.gitInv4=this.gitInv4||gt(this.git4),this.gitInv5=this.gitInv5||gt(this.git5),this.gitInv6=this.gitInv6||gt(this.git6),this.gitInv7=this.gitInv7||gt(this.git7),this.branchLabelColor=this.branchLabelColor||(this.darkMode?"black":this.labelTextColor),this.gitBranchLabel0=this.gitBranchLabel0||this.branchLabelColor,this.gitBranchLabel1=this.gitBranchLabel1||this.branchLabelColor,this.gitBranchLabel2=this.gitBranchLabel2||this.branchLabelColor,this.gitBranchLabel3=this.gitBranchLabel3||this.branchLabelColor,this.gitBranchLabel4=this.gitBranchLabel4||this.branchLabelColor,this.gitBranchLabel5=this.gitBranchLabel5||this.branchLabelColor,this.gitBranchLabel6=this.gitBranchLabel6||this.branchLabelColor,this.gitBranchLabel7=this.gitBranchLabel7||this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||wf,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||Af}calculate(t){if(typeof t!="object"){this.updateColors();return}const n=Object.keys(t);n.forEach(i=>{this[i]=t[i]}),this.updateColors(),n.forEach(i=>{this[i]=t[i]})}},T(ts,"Theme"),ts),GO=T(e=>{const t=new HO;return t.calculate(e),t},"getThemeVariables"),es,VO=(es=class{constructor(){this.background="#333",this.primaryColor="#1f2020",this.secondaryColor=Ct(this.primaryColor,16),this.tertiaryColor=G(this.primaryColor,{h:-160}),this.primaryBorderColor=gt(this.background),this.secondaryBorderColor=yn(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=yn(this.tertiaryColor,this.darkMode),this.primaryTextColor=gt(this.primaryColor),this.secondaryTextColor=gt(this.secondaryColor),this.tertiaryTextColor=gt(this.tertiaryColor),this.lineColor=gt(this.background),this.textColor=gt(this.background),this.mainBkg="#1f2020",this.secondBkg="calculated",this.mainContrastColor="lightgrey",this.darkTextColor=Ct(gt("#323D47"),10),this.lineColor="calculated",this.border1="#ccc",this.border2=Zl(255,255,255,.25),this.arrowheadColor="calculated",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="#181818",this.textColor="#ccc",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#F9FFFE",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="calculated",this.activationBkgColor="calculated",this.sequenceNumberColor="black",this.sectionBkgColor=Rt("#EAE8D9",30),this.altSectionBkgColor="calculated",this.sectionBkgColor2="#EAE8D9",this.excludeBkgColor=Rt(this.sectionBkgColor,10),this.taskBorderColor=Zl(255,255,255,70),this.taskBkgColor="calculated",this.taskTextColor="calculated",this.taskTextLightColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor=Zl(255,255,255,50),this.activeTaskBkgColor="#81B1DB",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="grey",this.critBorderColor="#E83737",this.critBkgColor="#E83737",this.taskTextDarkColor="calculated",this.todayLineColor="#DB5757",this.vertLineColor="#00BFFF",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.rowOdd=this.rowOdd||Ct(this.mainBkg,5)||"#ffffff",this.rowEven=this.rowEven||Rt(this.mainBkg,10),this.labelColor="calculated",this.errorBkgColor="#a44141",this.errorTextColor="#ddd"}updateColors(){var t,n,i,a,s,l,c,f,h,d,m,v,x,S,b,E,A,k,R,I,B;this.secondBkg=Ct(this.mainBkg,16),this.lineColor=this.mainContrastColor,this.arrowheadColor=this.mainContrastColor,this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.edgeLabelBackground=Ct(this.labelBackground,25),this.actorBorder=this.border1,this.actorBkg=this.mainBkg,this.actorTextColor=this.mainContrastColor,this.actorLineColor=this.actorBorder,this.signalColor=this.mainContrastColor,this.signalTextColor=this.mainContrastColor,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.mainContrastColor,this.loopTextColor=this.mainContrastColor,this.noteBorderColor=this.secondaryBorderColor,this.noteBkgColor=this.secondBkg,this.noteTextColor=this.secondaryTextColor,this.activationBorderColor=this.border1,this.activationBkgColor=this.secondBkg,this.altSectionBkgColor=this.background,this.taskBkgColor=Ct(this.mainBkg,23),this.taskTextColor=this.darkTextColor,this.taskTextLightColor=this.mainContrastColor,this.taskTextOutsideColor=this.taskTextLightColor,this.gridColor=this.mainContrastColor,this.doneTaskBkgColor=this.mainContrastColor,this.taskTextDarkColor=this.darkTextColor,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#555",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#f4f4f4",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=G(this.primaryColor,{h:64}),this.fillType3=G(this.secondaryColor,{h:64}),this.fillType4=G(this.primaryColor,{h:-64}),this.fillType5=G(this.secondaryColor,{h:-64}),this.fillType6=G(this.primaryColor,{h:128}),this.fillType7=G(this.secondaryColor,{h:128}),this.cScale1=this.cScale1||"#0b0000",this.cScale2=this.cScale2||"#4d1037",this.cScale3=this.cScale3||"#3f5258",this.cScale4=this.cScale4||"#4f2f1b",this.cScale5=this.cScale5||"#6e0a0a",this.cScale6=this.cScale6||"#3b0048",this.cScale7=this.cScale7||"#995a01",this.cScale8=this.cScale8||"#154706",this.cScale9=this.cScale9||"#161722",this.cScale10=this.cScale10||"#00296f",this.cScale11=this.cScale11||"#01629c",this.cScale12=this.cScale12||"#010029",this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||G(this.primaryColor,{h:30}),this.cScale4=this.cScale4||G(this.primaryColor,{h:60}),this.cScale5=this.cScale5||G(this.primaryColor,{h:90}),this.cScale6=this.cScale6||G(this.primaryColor,{h:120}),this.cScale7=this.cScale7||G(this.primaryColor,{h:150}),this.cScale8=this.cScale8||G(this.primaryColor,{h:210}),this.cScale9=this.cScale9||G(this.primaryColor,{h:270}),this.cScale10=this.cScale10||G(this.primaryColor,{h:300}),this.cScale11=this.cScale11||G(this.primaryColor,{h:330});for(let L=0;L<this.THEME_COLOR_LIMIT;L++)this["cScaleInv"+L]=this["cScaleInv"+L]||gt(this["cScale"+L]);for(let L=0;L<this.THEME_COLOR_LIMIT;L++)this["cScalePeer"+L]=this["cScalePeer"+L]||Ct(this["cScale"+L],10);for(let L=0;L<5;L++)this["surface"+L]=this["surface"+L]||G(this.mainBkg,{h:30,s:-30,l:-(-10+L*4)}),this["surfacePeer"+L]=this["surfacePeer"+L]||G(this.mainBkg,{h:30,s:-30,l:-(-7+L*4)});this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor);for(let L=0;L<this.THEME_COLOR_LIMIT;L++)this["cScaleLabel"+L]=this["cScaleLabel"+L]||this.scaleLabelColor;for(let L=0;L<this.THEME_COLOR_LIMIT;L++)this["pie"+L]=this["cScale"+L];this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||G(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||G(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||G(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||G(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||G(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||G(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||mc(this.quadrant1Fill)?Ct(this.quadrant1Fill):Rt(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:((t=this.xyChart)==null?void 0:t.backgroundColor)||this.background,titleColor:((n=this.xyChart)==null?void 0:n.titleColor)||this.primaryTextColor,xAxisTitleColor:((i=this.xyChart)==null?void 0:i.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((a=this.xyChart)==null?void 0:a.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((s=this.xyChart)==null?void 0:s.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((l=this.xyChart)==null?void 0:l.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((c=this.xyChart)==null?void 0:c.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((f=this.xyChart)==null?void 0:f.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((h=this.xyChart)==null?void 0:h.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((d=this.xyChart)==null?void 0:d.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((m=this.xyChart)==null?void 0:m.plotColorPalette)||"#3498db,#2ecc71,#e74c3c,#f1c40f,#bdc3c7,#ffffff,#34495e,#9b59b6,#1abc9c,#e67e22"},this.packet={startByteColor:this.primaryTextColor,endByteColor:this.primaryTextColor,labelColor:this.primaryTextColor,titleColor:this.primaryTextColor,blockStrokeColor:this.primaryTextColor,blockFillColor:this.background},this.radar={axisColor:((v=this.radar)==null?void 0:v.axisColor)||this.lineColor,axisStrokeWidth:((x=this.radar)==null?void 0:x.axisStrokeWidth)||2,axisLabelFontSize:((S=this.radar)==null?void 0:S.axisLabelFontSize)||12,curveOpacity:((b=this.radar)==null?void 0:b.curveOpacity)||.5,curveStrokeWidth:((E=this.radar)==null?void 0:E.curveStrokeWidth)||2,graticuleColor:((A=this.radar)==null?void 0:A.graticuleColor)||"#DEDEDE",graticuleStrokeWidth:((k=this.radar)==null?void 0:k.graticuleStrokeWidth)||1,graticuleOpacity:((R=this.radar)==null?void 0:R.graticuleOpacity)||.3,legendBoxSize:((I=this.radar)==null?void 0:I.legendBoxSize)||12,legendFontSize:((B=this.radar)==null?void 0:B.legendFontSize)||12},this.classText=this.primaryTextColor,this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?Rt(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=Ct(this.secondaryColor,20),this.git1=Ct(this.pie2||this.secondaryColor,20),this.git2=Ct(this.pie3||this.tertiaryColor,20),this.git3=Ct(this.pie4||G(this.primaryColor,{h:-30}),20),this.git4=Ct(this.pie5||G(this.primaryColor,{h:-60}),20),this.git5=Ct(this.pie6||G(this.primaryColor,{h:-90}),10),this.git6=Ct(this.pie7||G(this.primaryColor,{h:60}),10),this.git7=Ct(this.pie8||G(this.primaryColor,{h:120}),20),this.gitInv0=this.gitInv0||gt(this.git0),this.gitInv1=this.gitInv1||gt(this.git1),this.gitInv2=this.gitInv2||gt(this.git2),this.gitInv3=this.gitInv3||gt(this.git3),this.gitInv4=this.gitInv4||gt(this.git4),this.gitInv5=this.gitInv5||gt(this.git5),this.gitInv6=this.gitInv6||gt(this.git6),this.gitInv7=this.gitInv7||gt(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||gt(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||gt(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||Ct(this.background,12),this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||Ct(this.background,2),this.nodeBorder=this.nodeBorder||"#999"}calculate(t){if(typeof t!="object"){this.updateColors();return}const n=Object.keys(t);n.forEach(i=>{this[i]=t[i]}),this.updateColors(),n.forEach(i=>{this[i]=t[i]})}},T(es,"Theme"),es),YO=T(e=>{const t=new VO;return t.calculate(e),t},"getThemeVariables"),ns,WO=(ns=class{constructor(){this.background="#f4f4f4",this.primaryColor="#ECECFF",this.secondaryColor=G(this.primaryColor,{h:120}),this.secondaryColor="#ffffde",this.tertiaryColor=G(this.primaryColor,{h:-160}),this.primaryBorderColor=yn(this.primaryColor,this.darkMode),this.secondaryBorderColor=yn(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=yn(this.tertiaryColor,this.darkMode),this.primaryTextColor=gt(this.primaryColor),this.secondaryTextColor=gt(this.secondaryColor),this.tertiaryTextColor=gt(this.tertiaryColor),this.lineColor=gt(this.background),this.textColor=gt(this.background),this.background="white",this.mainBkg="#ECECFF",this.secondBkg="#ffffde",this.lineColor="#333333",this.border1="#9370DB",this.border2="#aaaa33",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="rgba(232,232,232, 0.8)",this.textColor="#333",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="calculated",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="calculated",this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor="calculated",this.taskTextOutsideColor=this.taskTextDarkColor,this.taskTextClickableColor="calculated",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBorderColor="calculated",this.critBkgColor="calculated",this.todayLineColor="calculated",this.vertLineColor="calculated",this.sectionBkgColor=Zl(102,102,255,.49),this.altSectionBkgColor="white",this.sectionBkgColor2="#fff400",this.taskBorderColor="#534fbc",this.taskBkgColor="#8a90dd",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="#534fbc",this.activeTaskBkgColor="#bfc7ff",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.vertLineColor="navy",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.rowOdd="calculated",this.rowEven="calculated",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222",this.updateColors()}updateColors(){var t,n,i,a,s,l,c,f,h,d,m,v,x,S,b,E,A,k,R,I,B;this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||G(this.primaryColor,{h:30}),this.cScale4=this.cScale4||G(this.primaryColor,{h:60}),this.cScale5=this.cScale5||G(this.primaryColor,{h:90}),this.cScale6=this.cScale6||G(this.primaryColor,{h:120}),this.cScale7=this.cScale7||G(this.primaryColor,{h:150}),this.cScale8=this.cScale8||G(this.primaryColor,{h:210}),this.cScale9=this.cScale9||G(this.primaryColor,{h:270}),this.cScale10=this.cScale10||G(this.primaryColor,{h:300}),this.cScale11=this.cScale11||G(this.primaryColor,{h:330}),this.cScalePeer1=this.cScalePeer1||Rt(this.secondaryColor,45),this.cScalePeer2=this.cScalePeer2||Rt(this.tertiaryColor,40);for(let L=0;L<this.THEME_COLOR_LIMIT;L++)this["cScale"+L]=Rt(this["cScale"+L],10),this["cScalePeer"+L]=this["cScalePeer"+L]||Rt(this["cScale"+L],25);for(let L=0;L<this.THEME_COLOR_LIMIT;L++)this["cScaleInv"+L]=this["cScaleInv"+L]||G(this["cScale"+L],{h:180});for(let L=0;L<5;L++)this["surface"+L]=this["surface"+L]||G(this.mainBkg,{h:30,l:-(5+L*5)}),this["surfacePeer"+L]=this["surfacePeer"+L]||G(this.mainBkg,{h:30,l:-(7+L*5)});if(this.scaleLabelColor=this.scaleLabelColor!=="calculated"&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor,this.labelTextColor!=="calculated"){this.cScaleLabel0=this.cScaleLabel0||gt(this.labelTextColor),this.cScaleLabel3=this.cScaleLabel3||gt(this.labelTextColor);for(let L=0;L<this.THEME_COLOR_LIMIT;L++)this["cScaleLabel"+L]=this["cScaleLabel"+L]||this.labelTextColor}this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.textColor,this.edgeLabelBackground=this.labelBackground,this.actorBorder=Ct(this.border1,23),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.signalColor=this.textColor,this.signalTextColor=this.textColor,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.actorLineColor=this.actorBorder,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.rowOdd=this.rowOdd||Ct(this.primaryColor,75)||"#ffffff",this.rowEven=this.rowEven||Ct(this.primaryColor,1),this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=G(this.primaryColor,{h:64}),this.fillType3=G(this.secondaryColor,{h:64}),this.fillType4=G(this.primaryColor,{h:-64}),this.fillType5=G(this.secondaryColor,{h:-64}),this.fillType6=G(this.primaryColor,{h:128}),this.fillType7=G(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||G(this.tertiaryColor,{l:-40}),this.pie4=this.pie4||G(this.primaryColor,{l:-10}),this.pie5=this.pie5||G(this.secondaryColor,{l:-30}),this.pie6=this.pie6||G(this.tertiaryColor,{l:-20}),this.pie7=this.pie7||G(this.primaryColor,{h:60,l:-20}),this.pie8=this.pie8||G(this.primaryColor,{h:-60,l:-40}),this.pie9=this.pie9||G(this.primaryColor,{h:120,l:-40}),this.pie10=this.pie10||G(this.primaryColor,{h:60,l:-40}),this.pie11=this.pie11||G(this.primaryColor,{h:-90,l:-40}),this.pie12=this.pie12||G(this.primaryColor,{h:120,l:-30}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||G(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||G(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||G(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||G(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||G(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||G(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||mc(this.quadrant1Fill)?Ct(this.quadrant1Fill):Rt(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.radar={axisColor:((t=this.radar)==null?void 0:t.axisColor)||this.lineColor,axisStrokeWidth:((n=this.radar)==null?void 0:n.axisStrokeWidth)||2,axisLabelFontSize:((i=this.radar)==null?void 0:i.axisLabelFontSize)||12,curveOpacity:((a=this.radar)==null?void 0:a.curveOpacity)||.5,curveStrokeWidth:((s=this.radar)==null?void 0:s.curveStrokeWidth)||2,graticuleColor:((l=this.radar)==null?void 0:l.graticuleColor)||"#DEDEDE",graticuleStrokeWidth:((c=this.radar)==null?void 0:c.graticuleStrokeWidth)||1,graticuleOpacity:((f=this.radar)==null?void 0:f.graticuleOpacity)||.3,legendBoxSize:((h=this.radar)==null?void 0:h.legendBoxSize)||12,legendFontSize:((d=this.radar)==null?void 0:d.legendFontSize)||12},this.xyChart={backgroundColor:((m=this.xyChart)==null?void 0:m.backgroundColor)||this.background,titleColor:((v=this.xyChart)==null?void 0:v.titleColor)||this.primaryTextColor,xAxisTitleColor:((x=this.xyChart)==null?void 0:x.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((S=this.xyChart)==null?void 0:S.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((b=this.xyChart)==null?void 0:b.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((E=this.xyChart)==null?void 0:E.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((A=this.xyChart)==null?void 0:A.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((k=this.xyChart)==null?void 0:k.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((R=this.xyChart)==null?void 0:R.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((I=this.xyChart)==null?void 0:I.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((B=this.xyChart)==null?void 0:B.plotColorPalette)||"#ECECFF,#8493A6,#FFC3A0,#DCDDE1,#B8E994,#D1A36F,#C3CDE6,#FFB6C1,#496078,#F8F3E3"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.labelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||G(this.primaryColor,{h:-30}),this.git4=this.git4||G(this.primaryColor,{h:-60}),this.git5=this.git5||G(this.primaryColor,{h:-90}),this.git6=this.git6||G(this.primaryColor,{h:60}),this.git7=this.git7||G(this.primaryColor,{h:120}),this.darkMode?(this.git0=Ct(this.git0,25),this.git1=Ct(this.git1,25),this.git2=Ct(this.git2,25),this.git3=Ct(this.git3,25),this.git4=Ct(this.git4,25),this.git5=Ct(this.git5,25),this.git6=Ct(this.git6,25),this.git7=Ct(this.git7,25)):(this.git0=Rt(this.git0,25),this.git1=Rt(this.git1,25),this.git2=Rt(this.git2,25),this.git3=Rt(this.git3,25),this.git4=Rt(this.git4,25),this.git5=Rt(this.git5,25),this.git6=Rt(this.git6,25),this.git7=Rt(this.git7,25)),this.gitInv0=this.gitInv0||Rt(gt(this.git0),25),this.gitInv1=this.gitInv1||gt(this.git1),this.gitInv2=this.gitInv2||gt(this.git2),this.gitInv3=this.gitInv3||gt(this.git3),this.gitInv4=this.gitInv4||gt(this.git4),this.gitInv5=this.gitInv5||gt(this.git5),this.gitInv6=this.gitInv6||gt(this.git6),this.gitInv7=this.gitInv7||gt(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||gt(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||gt(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||wf,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||Af}calculate(t){if(Object.keys(this).forEach(i=>{this[i]==="calculated"&&(this[i]=void 0)}),typeof t!="object"){this.updateColors();return}const n=Object.keys(t);n.forEach(i=>{this[i]=t[i]}),this.updateColors(),n.forEach(i=>{this[i]=t[i]})}},T(ns,"Theme"),ns),XO=T(e=>{const t=new WO;return t.calculate(e),t},"getThemeVariables"),is,JO=(is=class{constructor(){this.background="#f4f4f4",this.primaryColor="#cde498",this.secondaryColor="#cdffb2",this.background="white",this.mainBkg="#cde498",this.secondBkg="#cdffb2",this.lineColor="green",this.border1="#13540c",this.border2="#6eaa49",this.arrowheadColor="green",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.tertiaryColor=Ct("#cde498",10),this.primaryBorderColor=yn(this.primaryColor,this.darkMode),this.secondaryBorderColor=yn(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=yn(this.tertiaryColor,this.darkMode),this.primaryTextColor=gt(this.primaryColor),this.secondaryTextColor=gt(this.secondaryColor),this.tertiaryTextColor=gt(this.primaryColor),this.lineColor=gt(this.background),this.textColor=gt(this.background),this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#333",this.edgeLabelBackground="#e8e8e8",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="calculated",this.signalColor="#333",this.signalTextColor="#333",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="#326932",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="#6eaa49",this.altSectionBkgColor="white",this.sectionBkgColor2="#6eaa49",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="#487e3a",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.vertLineColor="#00BFFF",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){var t,n,i,a,s,l,c,f,h,d,m,v,x,S,b,E,A,k,R,I,B;this.actorBorder=Rt(this.mainBkg,20),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.actorLineColor=this.actorBorder,this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||G(this.primaryColor,{h:30}),this.cScale4=this.cScale4||G(this.primaryColor,{h:60}),this.cScale5=this.cScale5||G(this.primaryColor,{h:90}),this.cScale6=this.cScale6||G(this.primaryColor,{h:120}),this.cScale7=this.cScale7||G(this.primaryColor,{h:150}),this.cScale8=this.cScale8||G(this.primaryColor,{h:210}),this.cScale9=this.cScale9||G(this.primaryColor,{h:270}),this.cScale10=this.cScale10||G(this.primaryColor,{h:300}),this.cScale11=this.cScale11||G(this.primaryColor,{h:330}),this.cScalePeer1=this.cScalePeer1||Rt(this.secondaryColor,45),this.cScalePeer2=this.cScalePeer2||Rt(this.tertiaryColor,40);for(let L=0;L<this.THEME_COLOR_LIMIT;L++)this["cScale"+L]=Rt(this["cScale"+L],10),this["cScalePeer"+L]=this["cScalePeer"+L]||Rt(this["cScale"+L],25);for(let L=0;L<this.THEME_COLOR_LIMIT;L++)this["cScaleInv"+L]=this["cScaleInv"+L]||G(this["cScale"+L],{h:180});this.scaleLabelColor=this.scaleLabelColor!=="calculated"&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor;for(let L=0;L<this.THEME_COLOR_LIMIT;L++)this["cScaleLabel"+L]=this["cScaleLabel"+L]||this.scaleLabelColor;for(let L=0;L<5;L++)this["surface"+L]=this["surface"+L]||G(this.mainBkg,{h:30,s:-30,l:-(5+L*5)}),this["surfacePeer"+L]=this["surfacePeer"+L]||G(this.mainBkg,{h:30,s:-30,l:-(8+L*5)});this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.taskBorderColor=this.border1,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.rowOdd=this.rowOdd||Ct(this.mainBkg,75)||"#ffffff",this.rowEven=this.rowEven||Ct(this.mainBkg,20),this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=G(this.primaryColor,{h:64}),this.fillType3=G(this.secondaryColor,{h:64}),this.fillType4=G(this.primaryColor,{h:-64}),this.fillType5=G(this.secondaryColor,{h:-64}),this.fillType6=G(this.primaryColor,{h:128}),this.fillType7=G(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||G(this.primaryColor,{l:-30}),this.pie5=this.pie5||G(this.secondaryColor,{l:-30}),this.pie6=this.pie6||G(this.tertiaryColor,{h:40,l:-40}),this.pie7=this.pie7||G(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||G(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||G(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||G(this.primaryColor,{h:60,l:-50}),this.pie11=this.pie11||G(this.primaryColor,{h:-60,l:-50}),this.pie12=this.pie12||G(this.primaryColor,{h:120,l:-50}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||G(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||G(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||G(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||G(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||G(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||G(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||mc(this.quadrant1Fill)?Ct(this.quadrant1Fill):Rt(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.packet={startByteColor:this.primaryTextColor,endByteColor:this.primaryTextColor,labelColor:this.primaryTextColor,titleColor:this.primaryTextColor,blockStrokeColor:this.primaryTextColor,blockFillColor:this.mainBkg},this.radar={axisColor:((t=this.radar)==null?void 0:t.axisColor)||this.lineColor,axisStrokeWidth:((n=this.radar)==null?void 0:n.axisStrokeWidth)||2,axisLabelFontSize:((i=this.radar)==null?void 0:i.axisLabelFontSize)||12,curveOpacity:((a=this.radar)==null?void 0:a.curveOpacity)||.5,curveStrokeWidth:((s=this.radar)==null?void 0:s.curveStrokeWidth)||2,graticuleColor:((l=this.radar)==null?void 0:l.graticuleColor)||"#DEDEDE",graticuleStrokeWidth:((c=this.radar)==null?void 0:c.graticuleStrokeWidth)||1,graticuleOpacity:((f=this.radar)==null?void 0:f.graticuleOpacity)||.3,legendBoxSize:((h=this.radar)==null?void 0:h.legendBoxSize)||12,legendFontSize:((d=this.radar)==null?void 0:d.legendFontSize)||12},this.xyChart={backgroundColor:((m=this.xyChart)==null?void 0:m.backgroundColor)||this.background,titleColor:((v=this.xyChart)==null?void 0:v.titleColor)||this.primaryTextColor,xAxisTitleColor:((x=this.xyChart)==null?void 0:x.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((S=this.xyChart)==null?void 0:S.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((b=this.xyChart)==null?void 0:b.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((E=this.xyChart)==null?void 0:E.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((A=this.xyChart)==null?void 0:A.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((k=this.xyChart)==null?void 0:k.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((R=this.xyChart)==null?void 0:R.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((I=this.xyChart)==null?void 0:I.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((B=this.xyChart)==null?void 0:B.plotColorPalette)||"#CDE498,#FF6B6B,#A0D2DB,#D7BDE2,#F0F0F0,#FFC3A0,#7FD8BE,#FF9A8B,#FAF3E0,#FFF176"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||G(this.primaryColor,{h:-30}),this.git4=this.git4||G(this.primaryColor,{h:-60}),this.git5=this.git5||G(this.primaryColor,{h:-90}),this.git6=this.git6||G(this.primaryColor,{h:60}),this.git7=this.git7||G(this.primaryColor,{h:120}),this.darkMode?(this.git0=Ct(this.git0,25),this.git1=Ct(this.git1,25),this.git2=Ct(this.git2,25),this.git3=Ct(this.git3,25),this.git4=Ct(this.git4,25),this.git5=Ct(this.git5,25),this.git6=Ct(this.git6,25),this.git7=Ct(this.git7,25)):(this.git0=Rt(this.git0,25),this.git1=Rt(this.git1,25),this.git2=Rt(this.git2,25),this.git3=Rt(this.git3,25),this.git4=Rt(this.git4,25),this.git5=Rt(this.git5,25),this.git6=Rt(this.git6,25),this.git7=Rt(this.git7,25)),this.gitInv0=this.gitInv0||gt(this.git0),this.gitInv1=this.gitInv1||gt(this.git1),this.gitInv2=this.gitInv2||gt(this.git2),this.gitInv3=this.gitInv3||gt(this.git3),this.gitInv4=this.gitInv4||gt(this.git4),this.gitInv5=this.gitInv5||gt(this.git5),this.gitInv6=this.gitInv6||gt(this.git6),this.gitInv7=this.gitInv7||gt(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||gt(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||gt(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||wf,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||Af}calculate(t){if(typeof t!="object"){this.updateColors();return}const n=Object.keys(t);n.forEach(i=>{this[i]=t[i]}),this.updateColors(),n.forEach(i=>{this[i]=t[i]})}},T(is,"Theme"),is),KO=T(e=>{const t=new JO;return t.calculate(e),t},"getThemeVariables"),rs,QO=(rs=class{constructor(){this.primaryColor="#eee",this.contrast="#707070",this.secondaryColor=Ct(this.contrast,55),this.background="#ffffff",this.tertiaryColor=G(this.primaryColor,{h:-160}),this.primaryBorderColor=yn(this.primaryColor,this.darkMode),this.secondaryBorderColor=yn(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=yn(this.tertiaryColor,this.darkMode),this.primaryTextColor=gt(this.primaryColor),this.secondaryTextColor=gt(this.secondaryColor),this.tertiaryTextColor=gt(this.tertiaryColor),this.lineColor=gt(this.background),this.textColor=gt(this.background),this.mainBkg="#eee",this.secondBkg="calculated",this.lineColor="#666",this.border1="#999",this.border2="calculated",this.note="#ffa",this.text="#333",this.critical="#d42",this.done="#bbb",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="white",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor=this.actorBorder,this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="calculated",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="white",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBkgColor="calculated",this.critBorderColor="calculated",this.todayLineColor="calculated",this.vertLineColor="calculated",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.rowOdd=this.rowOdd||Ct(this.mainBkg,75)||"#ffffff",this.rowEven=this.rowEven||"#f4f4f4",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){var t,n,i,a,s,l,c,f,h,d,m,v,x,S,b,E,A,k,R,I,B;this.secondBkg=Ct(this.contrast,55),this.border2=this.contrast,this.actorBorder=Ct(this.border1,23),this.actorBkg=this.mainBkg,this.actorTextColor=this.text,this.actorLineColor=this.actorBorder,this.signalColor=this.text,this.signalTextColor=this.text,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.text,this.loopTextColor=this.text,this.noteBorderColor="#999",this.noteBkgColor="#666",this.noteTextColor="#fff",this.cScale0=this.cScale0||"#555",this.cScale1=this.cScale1||"#F4F4F4",this.cScale2=this.cScale2||"#555",this.cScale3=this.cScale3||"#BBB",this.cScale4=this.cScale4||"#777",this.cScale5=this.cScale5||"#999",this.cScale6=this.cScale6||"#DDD",this.cScale7=this.cScale7||"#FFF",this.cScale8=this.cScale8||"#DDD",this.cScale9=this.cScale9||"#BBB",this.cScale10=this.cScale10||"#999",this.cScale11=this.cScale11||"#777";for(let L=0;L<this.THEME_COLOR_LIMIT;L++)this["cScaleInv"+L]=this["cScaleInv"+L]||gt(this["cScale"+L]);for(let L=0;L<this.THEME_COLOR_LIMIT;L++)this.darkMode?this["cScalePeer"+L]=this["cScalePeer"+L]||Ct(this["cScale"+L],10):this["cScalePeer"+L]=this["cScalePeer"+L]||Rt(this["cScale"+L],10);this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor),this.cScaleLabel0=this.cScaleLabel0||this.cScale1,this.cScaleLabel2=this.cScaleLabel2||this.cScale1;for(let L=0;L<this.THEME_COLOR_LIMIT;L++)this["cScaleLabel"+L]=this["cScaleLabel"+L]||this.scaleLabelColor;for(let L=0;L<5;L++)this["surface"+L]=this["surface"+L]||G(this.mainBkg,{l:-(5+L*5)}),this["surfacePeer"+L]=this["surfacePeer"+L]||G(this.mainBkg,{l:-(8+L*5)});this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.text,this.sectionBkgColor=Ct(this.contrast,30),this.sectionBkgColor2=Ct(this.contrast,30),this.taskBorderColor=Rt(this.contrast,10),this.taskBkgColor=this.contrast,this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor=this.text,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.gridColor=Ct(this.border1,30),this.doneTaskBkgColor=this.done,this.doneTaskBorderColor=this.lineColor,this.critBkgColor=this.critical,this.critBorderColor=Rt(this.critBkgColor,10),this.todayLineColor=this.critBkgColor,this.vertLineColor=this.critBkgColor,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.transitionColor=this.transitionColor||"#000",this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f4f4f4",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.stateBorder=this.stateBorder||"#000",this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#222",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=G(this.primaryColor,{h:64}),this.fillType3=G(this.secondaryColor,{h:64}),this.fillType4=G(this.primaryColor,{h:-64}),this.fillType5=G(this.secondaryColor,{h:-64}),this.fillType6=G(this.primaryColor,{h:128}),this.fillType7=G(this.secondaryColor,{h:128});for(let L=0;L<this.THEME_COLOR_LIMIT;L++)this["pie"+L]=this["cScale"+L];this.pie12=this.pie0,this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||G(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||G(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||G(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||G(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||G(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||G(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||mc(this.quadrant1Fill)?Ct(this.quadrant1Fill):Rt(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:((t=this.xyChart)==null?void 0:t.backgroundColor)||this.background,titleColor:((n=this.xyChart)==null?void 0:n.titleColor)||this.primaryTextColor,xAxisTitleColor:((i=this.xyChart)==null?void 0:i.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((a=this.xyChart)==null?void 0:a.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((s=this.xyChart)==null?void 0:s.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((l=this.xyChart)==null?void 0:l.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((c=this.xyChart)==null?void 0:c.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((f=this.xyChart)==null?void 0:f.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((h=this.xyChart)==null?void 0:h.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((d=this.xyChart)==null?void 0:d.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((m=this.xyChart)==null?void 0:m.plotColorPalette)||"#EEE,#6BB8E4,#8ACB88,#C7ACD6,#E8DCC2,#FFB2A8,#FFF380,#7E8D91,#FFD8B1,#FAF3E0"},this.radar={axisColor:((v=this.radar)==null?void 0:v.axisColor)||this.lineColor,axisStrokeWidth:((x=this.radar)==null?void 0:x.axisStrokeWidth)||2,axisLabelFontSize:((S=this.radar)==null?void 0:S.axisLabelFontSize)||12,curveOpacity:((b=this.radar)==null?void 0:b.curveOpacity)||.5,curveStrokeWidth:((E=this.radar)==null?void 0:E.curveStrokeWidth)||2,graticuleColor:((A=this.radar)==null?void 0:A.graticuleColor)||"#DEDEDE",graticuleStrokeWidth:((k=this.radar)==null?void 0:k.graticuleStrokeWidth)||1,graticuleOpacity:((R=this.radar)==null?void 0:R.graticuleOpacity)||.3,legendBoxSize:((I=this.radar)==null?void 0:I.legendBoxSize)||12,legendFontSize:((B=this.radar)==null?void 0:B.legendFontSize)||12},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=Rt(this.pie1,25)||this.primaryColor,this.git1=this.pie2||this.secondaryColor,this.git2=this.pie3||this.tertiaryColor,this.git3=this.pie4||G(this.primaryColor,{h:-30}),this.git4=this.pie5||G(this.primaryColor,{h:-60}),this.git5=this.pie6||G(this.primaryColor,{h:-90}),this.git6=this.pie7||G(this.primaryColor,{h:60}),this.git7=this.pie8||G(this.primaryColor,{h:120}),this.gitInv0=this.gitInv0||gt(this.git0),this.gitInv1=this.gitInv1||gt(this.git1),this.gitInv2=this.gitInv2||gt(this.git2),this.gitInv3=this.gitInv3||gt(this.git3),this.gitInv4=this.gitInv4||gt(this.git4),this.gitInv5=this.gitInv5||gt(this.git5),this.gitInv6=this.gitInv6||gt(this.git6),this.gitInv7=this.gitInv7||gt(this.git7),this.branchLabelColor=this.branchLabelColor||this.labelTextColor,this.gitBranchLabel0=this.branchLabelColor,this.gitBranchLabel1="white",this.gitBranchLabel2=this.branchLabelColor,this.gitBranchLabel3="white",this.gitBranchLabel4=this.branchLabelColor,this.gitBranchLabel5=this.branchLabelColor,this.gitBranchLabel6=this.branchLabelColor,this.gitBranchLabel7=this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||wf,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||Af}calculate(t){if(typeof t!="object"){this.updateColors();return}const n=Object.keys(t);n.forEach(i=>{this[i]=t[i]}),this.updateColors(),n.forEach(i=>{this[i]=t[i]})}},T(rs,"Theme"),rs),ZO=T(e=>{const t=new QO;return t.calculate(e),t},"getThemeVariables"),vr={base:{getThemeVariables:GO},dark:{getThemeVariables:YO},default:{getThemeVariables:XO},forest:{getThemeVariables:KO},neutral:{getThemeVariables:ZO}},Ii={flowchart:{useMaxWidth:!0,titleTopMargin:25,subGraphTitleMargin:{top:0,bottom:0},diagramPadding:8,htmlLabels:!0,nodeSpacing:50,rankSpacing:50,curve:"basis",padding:15,defaultRenderer:"dagre-wrapper",wrappingWidth:200,inheritDir:!1},sequence:{useMaxWidth:!0,hideUnusedParticipants:!1,activationWidth:10,diagramMarginX:50,diagramMarginY:10,actorMargin:50,width:150,height:65,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",mirrorActors:!0,forceMenus:!1,bottomMarginAdj:1,rightAngles:!1,showSequenceNumbers:!1,actorFontSize:14,actorFontFamily:'"Open Sans", sans-serif',actorFontWeight:400,noteFontSize:14,noteFontFamily:'"trebuchet ms", verdana, arial, sans-serif',noteFontWeight:400,noteAlign:"center",messageFontSize:16,messageFontFamily:'"trebuchet ms", verdana, arial, sans-serif',messageFontWeight:400,wrap:!1,wrapPadding:10,labelBoxWidth:50,labelBoxHeight:20},gantt:{useMaxWidth:!0,titleTopMargin:25,barHeight:20,barGap:4,topPadding:50,rightPadding:75,leftPadding:75,gridLineStartPadding:35,fontSize:11,sectionFontSize:11,numberSectionStyles:4,axisFormat:"%Y-%m-%d",topAxis:!1,displayMode:"",weekday:"sunday"},journey:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,leftMargin:150,maxLabelWidth:360,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,rightAngles:!1,taskFontSize:14,taskFontFamily:'"Open Sans", sans-serif',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"],titleColor:"",titleFontFamily:'"trebuchet ms", verdana, arial, sans-serif',titleFontSize:"4ex"},class:{useMaxWidth:!0,titleTopMargin:25,arrowMarkerAbsolute:!1,dividerMargin:10,padding:5,textHeight:10,defaultRenderer:"dagre-wrapper",htmlLabels:!1,hideEmptyMembersBox:!1},state:{useMaxWidth:!0,titleTopMargin:25,dividerMargin:10,sizeUnit:5,padding:8,textHeight:10,titleShift:-15,noteMargin:10,forkWidth:70,forkHeight:7,miniPadding:2,fontSizeFactor:5.02,fontSize:24,labelHeight:16,edgeLengthFactor:"20",compositTitleSize:35,radius:5,defaultRenderer:"dagre-wrapper"},er:{useMaxWidth:!0,titleTopMargin:25,diagramPadding:20,layoutDirection:"TB",minEntityWidth:100,minEntityHeight:75,entityPadding:15,nodeSpacing:140,rankSpacing:80,stroke:"gray",fill:"honeydew",fontSize:12},pie:{useMaxWidth:!0,textPosition:.75},quadrantChart:{useMaxWidth:!0,chartWidth:500,chartHeight:500,titleFontSize:20,titlePadding:10,quadrantPadding:5,xAxisLabelPadding:5,yAxisLabelPadding:5,xAxisLabelFontSize:16,yAxisLabelFontSize:16,quadrantLabelFontSize:16,quadrantTextTopPadding:5,pointTextPadding:5,pointLabelFontSize:12,pointRadius:5,xAxisPosition:"top",yAxisPosition:"left",quadrantInternalBorderStrokeWidth:1,quadrantExternalBorderStrokeWidth:2},xyChart:{useMaxWidth:!0,width:700,height:500,titleFontSize:20,titlePadding:10,showDataLabel:!1,showTitle:!0,xAxis:{$ref:"#/$defs/XYChartAxisConfig",showLabel:!0,labelFontSize:14,labelPadding:5,showTitle:!0,titleFontSize:16,titlePadding:5,showTick:!0,tickLength:5,tickWidth:2,showAxisLine:!0,axisLineWidth:2},yAxis:{$ref:"#/$defs/XYChartAxisConfig",showLabel:!0,labelFontSize:14,labelPadding:5,showTitle:!0,titleFontSize:16,titlePadding:5,showTick:!0,tickLength:5,tickWidth:2,showAxisLine:!0,axisLineWidth:2},chartOrientation:"vertical",plotReservedSpacePercent:50},requirement:{useMaxWidth:!0,rect_fill:"#f9f9f9",text_color:"#333",rect_border_size:"0.5px",rect_border_color:"#bbb",rect_min_width:200,rect_min_height:200,fontSize:14,rect_padding:10,line_height:20},mindmap:{useMaxWidth:!0,padding:10,maxNodeWidth:200,layoutAlgorithm:"cose-bilkent"},kanban:{useMaxWidth:!0,padding:8,sectionWidth:200,ticketBaseUrl:""},timeline:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,leftMargin:150,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,rightAngles:!1,taskFontSize:14,taskFontFamily:'"Open Sans", sans-serif',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"],disableMulticolor:!1},gitGraph:{useMaxWidth:!0,titleTopMargin:25,diagramPadding:8,nodeLabel:{width:75,height:100,x:-25,y:0},mainBranchName:"main",mainBranchOrder:0,showCommitLabel:!0,showBranches:!0,rotateCommitLabel:!0,parallelCommits:!1,arrowMarkerAbsolute:!1},c4:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,c4ShapeMargin:50,c4ShapePadding:20,width:216,height:60,boxMargin:10,c4ShapeInRow:4,nextLinePaddingX:0,c4BoundaryInRow:2,personFontSize:14,personFontFamily:'"Open Sans", sans-serif',personFontWeight:"normal",external_personFontSize:14,external_personFontFamily:'"Open Sans", sans-serif',external_personFontWeight:"normal",systemFontSize:14,systemFontFamily:'"Open Sans", sans-serif',systemFontWeight:"normal",external_systemFontSize:14,external_systemFontFamily:'"Open Sans", sans-serif',external_systemFontWeight:"normal",system_dbFontSize:14,system_dbFontFamily:'"Open Sans", sans-serif',system_dbFontWeight:"normal",external_system_dbFontSize:14,external_system_dbFontFamily:'"Open Sans", sans-serif',external_system_dbFontWeight:"normal",system_queueFontSize:14,system_queueFontFamily:'"Open Sans", sans-serif',system_queueFontWeight:"normal",external_system_queueFontSize:14,external_system_queueFontFamily:'"Open Sans", sans-serif',external_system_queueFontWeight:"normal",boundaryFontSize:14,boundaryFontFamily:'"Open Sans", sans-serif',boundaryFontWeight:"normal",messageFontSize:12,messageFontFamily:'"Open Sans", sans-serif',messageFontWeight:"normal",containerFontSize:14,containerFontFamily:'"Open Sans", sans-serif',containerFontWeight:"normal",external_containerFontSize:14,external_containerFontFamily:'"Open Sans", sans-serif',external_containerFontWeight:"normal",container_dbFontSize:14,container_dbFontFamily:'"Open Sans", sans-serif',container_dbFontWeight:"normal",external_container_dbFontSize:14,external_container_dbFontFamily:'"Open Sans", sans-serif',external_container_dbFontWeight:"normal",container_queueFontSize:14,container_queueFontFamily:'"Open Sans", sans-serif',container_queueFontWeight:"normal",external_container_queueFontSize:14,external_container_queueFontFamily:'"Open Sans", sans-serif',external_container_queueFontWeight:"normal",componentFontSize:14,componentFontFamily:'"Open Sans", sans-serif',componentFontWeight:"normal",external_componentFontSize:14,external_componentFontFamily:'"Open Sans", sans-serif',external_componentFontWeight:"normal",component_dbFontSize:14,component_dbFontFamily:'"Open Sans", sans-serif',component_dbFontWeight:"normal",external_component_dbFontSize:14,external_component_dbFontFamily:'"Open Sans", sans-serif',external_component_dbFontWeight:"normal",component_queueFontSize:14,component_queueFontFamily:'"Open Sans", sans-serif',component_queueFontWeight:"normal",external_component_queueFontSize:14,external_component_queueFontFamily:'"Open Sans", sans-serif',external_component_queueFontWeight:"normal",wrap:!0,wrapPadding:10,person_bg_color:"#08427B",person_border_color:"#073B6F",external_person_bg_color:"#686868",external_person_border_color:"#8A8A8A",system_bg_color:"#1168BD",system_border_color:"#3C7FC0",system_db_bg_color:"#1168BD",system_db_border_color:"#3C7FC0",system_queue_bg_color:"#1168BD",system_queue_border_color:"#3C7FC0",external_system_bg_color:"#999999",external_system_border_color:"#8A8A8A",external_system_db_bg_color:"#999999",external_system_db_border_color:"#8A8A8A",external_system_queue_bg_color:"#999999",external_system_queue_border_color:"#8A8A8A",container_bg_color:"#438DD5",container_border_color:"#3C7FC0",container_db_bg_color:"#438DD5",container_db_border_color:"#3C7FC0",container_queue_bg_color:"#438DD5",container_queue_border_color:"#3C7FC0",external_container_bg_color:"#B3B3B3",external_container_border_color:"#A6A6A6",external_container_db_bg_color:"#B3B3B3",external_container_db_border_color:"#A6A6A6",external_container_queue_bg_color:"#B3B3B3",external_container_queue_border_color:"#A6A6A6",component_bg_color:"#85BBF0",component_border_color:"#78A8D8",component_db_bg_color:"#85BBF0",component_db_border_color:"#78A8D8",component_queue_bg_color:"#85BBF0",component_queue_border_color:"#78A8D8",external_component_bg_color:"#CCCCCC",external_component_border_color:"#BFBFBF",external_component_db_bg_color:"#CCCCCC",external_component_db_border_color:"#BFBFBF",external_component_queue_bg_color:"#CCCCCC",external_component_queue_border_color:"#BFBFBF"},sankey:{useMaxWidth:!0,width:600,height:400,linkColor:"gradient",nodeAlignment:"justify",showValues:!0,prefix:"",suffix:""},block:{useMaxWidth:!0,padding:8},packet:{useMaxWidth:!0,rowHeight:32,bitWidth:32,bitsPerRow:32,showBits:!0,paddingX:5,paddingY:5},architecture:{useMaxWidth:!0,padding:40,iconSize:80,fontSize:16},radar:{useMaxWidth:!0,width:600,height:600,marginTop:50,marginRight:50,marginBottom:50,marginLeft:50,axisScaleFactor:1,axisLabelFactor:1.05,curveTension:.17},theme:"default",look:"classic",handDrawnSeed:0,layout:"dagre",maxTextSize:5e4,maxEdges:500,darkMode:!1,fontFamily:'"trebuchet ms", verdana, arial, sans-serif;',logLevel:5,securityLevel:"strict",startOnLoad:!0,arrowMarkerAbsolute:!1,secure:["secure","securityLevel","startOnLoad","maxTextSize","suppressErrorRendering","maxEdges"],legacyMathML:!1,forceLegacyMathML:!1,deterministicIds:!1,fontSize:16,markdownAutoWrap:!0,suppressErrorRendering:!1},AT={...Ii,deterministicIDSeed:void 0,elk:{mergeEdges:!1,nodePlacementStrategy:"BRANDES_KOEPF",forceNodeModelOrder:!1,considerModelOrder:"NODES_AND_EDGES"},themeCSS:void 0,themeVariables:vr.default.getThemeVariables(),sequence:{...Ii.sequence,messageFont:T(function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}},"messageFont"),noteFont:T(function(){return{fontFamily:this.noteFontFamily,fontSize:this.noteFontSize,fontWeight:this.noteFontWeight}},"noteFont"),actorFont:T(function(){return{fontFamily:this.actorFontFamily,fontSize:this.actorFontSize,fontWeight:this.actorFontWeight}},"actorFont")},class:{hideEmptyMembersBox:!1},gantt:{...Ii.gantt,tickInterval:void 0,useWidth:void 0},c4:{...Ii.c4,useWidth:void 0,personFont:T(function(){return{fontFamily:this.personFontFamily,fontSize:this.personFontSize,fontWeight:this.personFontWeight}},"personFont"),flowchart:{...Ii.flowchart,inheritDir:!1},external_personFont:T(function(){return{fontFamily:this.external_personFontFamily,fontSize:this.external_personFontSize,fontWeight:this.external_personFontWeight}},"external_personFont"),systemFont:T(function(){return{fontFamily:this.systemFontFamily,fontSize:this.systemFontSize,fontWeight:this.systemFontWeight}},"systemFont"),external_systemFont:T(function(){return{fontFamily:this.external_systemFontFamily,fontSize:this.external_systemFontSize,fontWeight:this.external_systemFontWeight}},"external_systemFont"),system_dbFont:T(function(){return{fontFamily:this.system_dbFontFamily,fontSize:this.system_dbFontSize,fontWeight:this.system_dbFontWeight}},"system_dbFont"),external_system_dbFont:T(function(){return{fontFamily:this.external_system_dbFontFamily,fontSize:this.external_system_dbFontSize,fontWeight:this.external_system_dbFontWeight}},"external_system_dbFont"),system_queueFont:T(function(){return{fontFamily:this.system_queueFontFamily,fontSize:this.system_queueFontSize,fontWeight:this.system_queueFontWeight}},"system_queueFont"),external_system_queueFont:T(function(){return{fontFamily:this.external_system_queueFontFamily,fontSize:this.external_system_queueFontSize,fontWeight:this.external_system_queueFontWeight}},"external_system_queueFont"),containerFont:T(function(){return{fontFamily:this.containerFontFamily,fontSize:this.containerFontSize,fontWeight:this.containerFontWeight}},"containerFont"),external_containerFont:T(function(){return{fontFamily:this.external_containerFontFamily,fontSize:this.external_containerFontSize,fontWeight:this.external_containerFontWeight}},"external_containerFont"),container_dbFont:T(function(){return{fontFamily:this.container_dbFontFamily,fontSize:this.container_dbFontSize,fontWeight:this.container_dbFontWeight}},"container_dbFont"),external_container_dbFont:T(function(){return{fontFamily:this.external_container_dbFontFamily,fontSize:this.external_container_dbFontSize,fontWeight:this.external_container_dbFontWeight}},"external_container_dbFont"),container_queueFont:T(function(){return{fontFamily:this.container_queueFontFamily,fontSize:this.container_queueFontSize,fontWeight:this.container_queueFontWeight}},"container_queueFont"),external_container_queueFont:T(function(){return{fontFamily:this.external_container_queueFontFamily,fontSize:this.external_container_queueFontSize,fontWeight:this.external_container_queueFontWeight}},"external_container_queueFont"),componentFont:T(function(){return{fontFamily:this.componentFontFamily,fontSize:this.componentFontSize,fontWeight:this.componentFontWeight}},"componentFont"),external_componentFont:T(function(){return{fontFamily:this.external_componentFontFamily,fontSize:this.external_componentFontSize,fontWeight:this.external_componentFontWeight}},"external_componentFont"),component_dbFont:T(function(){return{fontFamily:this.component_dbFontFamily,fontSize:this.component_dbFontSize,fontWeight:this.component_dbFontWeight}},"component_dbFont"),external_component_dbFont:T(function(){return{fontFamily:this.external_component_dbFontFamily,fontSize:this.external_component_dbFontSize,fontWeight:this.external_component_dbFontWeight}},"external_component_dbFont"),component_queueFont:T(function(){return{fontFamily:this.component_queueFontFamily,fontSize:this.component_queueFontSize,fontWeight:this.component_queueFontWeight}},"component_queueFont"),external_component_queueFont:T(function(){return{fontFamily:this.external_component_queueFontFamily,fontSize:this.external_component_queueFontSize,fontWeight:this.external_component_queueFontWeight}},"external_component_queueFont"),boundaryFont:T(function(){return{fontFamily:this.boundaryFontFamily,fontSize:this.boundaryFontSize,fontWeight:this.boundaryFontWeight}},"boundaryFont"),messageFont:T(function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}},"messageFont")},pie:{...Ii.pie,useWidth:984},xyChart:{...Ii.xyChart,useWidth:void 0},requirement:{...Ii.requirement,useWidth:void 0},packet:{...Ii.packet},radar:{...Ii.radar},treemap:{useMaxWidth:!0,padding:10,diagramPadding:8,showValues:!0,nodeWidth:100,nodeHeight:40,borderWidth:1,valueFontSize:12,labelFontSize:14,valueFormat:","}},kT=T((e,t="")=>Object.keys(e).reduce((n,i)=>Array.isArray(e[i])?n:typeof e[i]=="object"&&e[i]!==null?[...n,t+i,...kT(e[i],"")]:[...n,t+i],[]),"keyify"),jO=new Set(kT(AT,"")),MT=AT,Bh=T(e=>{if(st.debug("sanitizeDirective called with",e),!(typeof e!="object"||e==null)){if(Array.isArray(e)){e.forEach(t=>Bh(t));return}for(const t of Object.keys(e)){if(st.debug("Checking key",t),t.startsWith("__")||t.includes("proto")||t.includes("constr")||!jO.has(t)||e[t]==null){st.debug("sanitize deleting key: ",t),delete e[t];continue}if(typeof e[t]=="object"){st.debug("sanitizing object",t),Bh(e[t]);continue}const n=["themeCSS","fontFamily","altFontFamily"];for(const i of n)t.includes(i)&&(st.debug("sanitizing css option",t),e[t]=tP(e[t]))}if(e.themeVariables)for(const t of Object.keys(e.themeVariables)){const n=e.themeVariables[t];n!=null&&n.match&&!n.match(/^[\d "#%(),.;A-Za-z]+$/)&&(e.themeVariables[t]="")}st.debug("After sanitization",e)}},"sanitizeDirective"),tP=T(e=>{let t=0,n=0;for(const i of e){if(t<n)return"{ /* ERROR: Unbalanced CSS */ }";i==="{"?t++:i==="}"&&n++}return t!==n?"{ /* ERROR: Unbalanced CSS */ }":e},"sanitizeCss"),ls=Object.freeze(MT),Ln=$e({},ls),Fh,Ga=[],tc=$e({},ls),kf=T((e,t)=>{let n=$e({},e),i={};for(const a of t)LT(a),i=$e(i,a);if(n=$e(n,i),i.theme&&i.theme in vr){const a=$e({},Fh),s=$e(a.themeVariables||{},i.themeVariables);n.theme&&n.theme in vr&&(n.themeVariables=vr[n.theme].getThemeVariables(s))}return tc=n,DT(tc),tc},"updateCurrentConfig"),eP=T(e=>(Ln=$e({},ls),Ln=$e(Ln,e),e.theme&&vr[e.theme]&&(Ln.themeVariables=vr[e.theme].getThemeVariables(e.themeVariables)),kf(Ln,Ga),Ln),"setSiteConfig"),nP=T(e=>{Fh=$e({},e)},"saveConfigFromInitialize"),iP=T(e=>(Ln=$e(Ln,e),kf(Ln,Ga),Ln),"updateSiteConfig"),RT=T(()=>$e({},Ln),"getSiteConfig"),NT=T(e=>(DT(e),$e(tc,e),ln()),"setConfig"),ln=T(()=>$e({},tc),"getConfig"),LT=T(e=>{e&&(["secure",...Ln.secure??[]].forEach(t=>{Object.hasOwn(e,t)&&(st.debug(`Denied attempt to modify a secure key ${t}`,e[t]),delete e[t])}),Object.keys(e).forEach(t=>{t.startsWith("__")&&delete e[t]}),Object.keys(e).forEach(t=>{typeof e[t]=="string"&&(e[t].includes("<")||e[t].includes(">")||e[t].includes("url(data:"))&&delete e[t],typeof e[t]=="object"&&LT(e[t])}))},"sanitize"),rP=T(e=>{var t;Bh(e),e.fontFamily&&!((t=e.themeVariables)!=null&&t.fontFamily)&&(e.themeVariables={...e.themeVariables,fontFamily:e.fontFamily}),Ga.push(e),kf(Ln,Ga)},"addDirective"),Oh=T((e=Ln)=>{Ga=[],kf(e,Ga)},"reset"),aP={LAZY_LOAD_DEPRECATED:"The configuration options lazyLoadedDiagrams and loadExternalDiagramsAtStartup are deprecated. Please use registerExternalDiagrams instead."},QS={},oP=T(e=>{QS[e]||(st.warn(aP[e]),QS[e]=!0)},"issueWarning"),DT=T(e=>{e&&(e.lazyLoadedDiagrams||e.loadExternalDiagramsAtStartup)&&oP("LAZY_LOAD_DEPRECATED")},"checkConfig"),sX=T(()=>{let e={};Fh&&(e=$e(e,Fh));for(const t of Ga)e=$e(e,t);return e},"getUserDefinedConfig"),yc=/<br\s*\/?>/gi,sP=T(e=>e?FT(e).replace(/\\n/g,"#br#").split("#br#"):[""],"getRows"),lP=(()=>{let e=!1;return()=>{e||(IT(),e=!0)}})();function IT(){const e="data-temp-href-target";ss.addHook("beforeSanitizeAttributes",t=>{t.tagName==="A"&&t.hasAttribute("target")&&t.setAttribute(e,t.getAttribute("target")??"")}),ss.addHook("afterSanitizeAttributes",t=>{t.tagName==="A"&&t.hasAttribute(e)&&(t.setAttribute("target",t.getAttribute(e)??""),t.removeAttribute(e),t.getAttribute("target")==="_blank"&&t.setAttribute("rel","noopener"))})}T(IT,"setupDompurifyHooks");var BT=T(e=>(lP(),ss.sanitize(e)),"removeScript"),ZS=T((e,t)=>{var n;if(((n=t.flowchart)==null?void 0:n.htmlLabels)!==!1){const i=t.securityLevel;i==="antiscript"||i==="strict"?e=BT(e):i!=="loose"&&(e=FT(e),e=e.replace(/</g,"&lt;").replace(/>/g,"&gt;"),e=e.replace(/=/g,"&equals;"),e=fP(e))}return e},"sanitizeMore"),ci=T((e,t)=>e&&(t.dompurifyConfig?e=ss.sanitize(ZS(e,t),t.dompurifyConfig).toString():e=ss.sanitize(ZS(e,t),{FORBID_TAGS:["style"]}).toString(),e),"sanitizeText"),cP=T((e,t)=>typeof e=="string"?ci(e,t):e.flat().map(n=>ci(n,t)),"sanitizeTextOrArray"),uP=T(e=>yc.test(e),"hasBreaks"),hP=T(e=>e.split(yc),"splitBreaks"),fP=T(e=>e.replace(/#br#/g,"<br/>"),"placeholderToBreak"),FT=T(e=>e.replace(yc,"#br#"),"breakToPlaceholder"),dP=T(e=>{let t="";return e&&(t=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,t=CSS.escape(t)),t},"getUrl"),qe=T(e=>!(e===!1||["false","null","0"].includes(String(e).trim().toLowerCase())),"evaluate"),pP=T(function(...e){const t=e.filter(n=>!isNaN(n));return Math.max(...t)},"getMax"),gP=T(function(...e){const t=e.filter(n=>!isNaN(n));return Math.min(...t)},"getMin"),jS=T(function(e){const t=e.split(/(,)/),n=[];for(let i=0;i<t.length;i++){let a=t[i];if(a===","&&i>0&&i+1<t.length){const s=t[i-1],l=t[i+1];mP(s,l)&&(a=s+","+l,i++,n.pop())}n.push(yP(a))}return n.join("")},"parseGenericTypes"),nm=T((e,t)=>Math.max(0,e.split(t).length-1),"countOccurrence"),mP=T((e,t)=>{const n=nm(e,"~"),i=nm(t,"~");return n===1&&i===1},"shouldCombineSets"),yP=T(e=>{const t=nm(e,"~");let n=!1;if(t<=1)return e;t%2!==0&&e.startsWith("~")&&(e=e.substring(1),n=!0);const i=[...e];let a=i.indexOf("~"),s=i.lastIndexOf("~");for(;a!==-1&&s!==-1&&a!==s;)i[a]="<",i[s]=">",a=i.indexOf("~"),s=i.lastIndexOf("~");return n&&i.unshift("~"),i.join("")},"processSet"),tb=T(()=>window.MathMLElement!==void 0,"isMathMLSupported"),im=/\$\$(.*)\$\$/g,cs=T(e=>{var t;return(((t=e.match(im))==null?void 0:t.length)??0)>0},"hasKatex"),lX=T(async(e,t)=>{const n=document.createElement("div");n.innerHTML=await hy(e,t),n.id="katex-temp",n.style.visibility="hidden",n.style.position="absolute",n.style.top="0";const i=document.querySelector("body");i==null||i.insertAdjacentElement("beforeend",n);const a={width:n.clientWidth,height:n.clientHeight};return n.remove(),a},"calculateMathMLDimensions"),vP=T(async(e,t)=>{if(!cs(e))return e;if(!(tb()||t.legacyMathML||t.forceLegacyMathML))return e.replace(im,"MathML is unsupported in this environment.");{const{default:n}=await le(async()=>{const{default:a}=await import("./katex-Cu_Erd72.js");return{default:a}},[]),i=t.forceLegacyMathML||!tb()&&t.legacyMathML?"htmlAndMathml":"mathml";return e.split(yc).map(a=>cs(a)?`<div style="display: flex; align-items: center; justify-content: center; white-space: nowrap;">${a}</div>`:`<div>${a}</div>`).join("").replace(im,(a,s)=>n.renderToString(s,{throwOnError:!0,displayMode:!0,output:i}).replace(/\n/g," ").replace(/<annotation.*<\/annotation>/g,""))}},"renderKatexUnsanitized"),hy=T(async(e,t)=>ci(await vP(e,t),t),"renderKatexSanitized"),_s={getRows:sP,sanitizeText:ci,sanitizeTextOrArray:cP,hasBreaks:uP,splitBreaks:hP,lineBreakRegex:yc,removeScript:BT,getUrl:dP,evaluate:qe,getMax:pP,getMin:gP},_P=T(function(e,t){for(let n of t)e.attr(n[0],n[1])},"d3Attrs"),xP=T(function(e,t,n){let i=new Map;return n?(i.set("width","100%"),i.set("style",`max-width: ${t}px;`)):(i.set("height",e),i.set("width",t)),i},"calculateSvgSizeAttrs"),OT=T(function(e,t,n,i){const a=xP(t,n,i);_P(e,a)},"configureSvgSize"),CP=T(function(e,t,n,i){const a=t.node().getBBox(),s=a.width,l=a.height;st.info(`SVG bounds: ${s}x${l}`,a);let c=0,f=0;st.info(`Graph bounds: ${c}x${f}`,e),c=s+n*2,f=l+n*2,st.info(`Calculated bounds: ${c}x${f}`),OT(t,f,c,i);const h=`${a.x-n} ${a.y-n} ${a.width+2*n} ${a.height+2*n}`;t.attr("viewBox",h)},"setupGraphViewbox"),mh={},SP=T((e,t,n)=>{let i="";return e in mh&&mh[e]?i=mh[e](n):st.warn(`No theme found for ${e}`),` & {
    font-family: ${n.fontFamily};
    font-size: ${n.fontSize};
    fill: ${n.textColor}
  }
  @keyframes edge-animation-frame {
    from {
      stroke-dashoffset: 0;
    }
  }
  @keyframes dash {
    to {
      stroke-dashoffset: 0;
    }
  }
  & .edge-animation-slow {
    stroke-dasharray: 9,5 !important;
    stroke-dashoffset: 900;
    animation: dash 50s linear infinite;
    stroke-linecap: round;
  }
  & .edge-animation-fast {
    stroke-dasharray: 9,5 !important;
    stroke-dashoffset: 900;
    animation: dash 20s linear infinite;
    stroke-linecap: round;
  }
  /* Classes common for multiple diagrams */

  & .error-icon {
    fill: ${n.errorBkgColor};
  }
  & .error-text {
    fill: ${n.errorTextColor};
    stroke: ${n.errorTextColor};
  }

  & .edge-thickness-normal {
    stroke-width: 1px;
  }
  & .edge-thickness-thick {
    stroke-width: 3.5px
  }
  & .edge-pattern-solid {
    stroke-dasharray: 0;
  }
  & .edge-thickness-invisible {
    stroke-width: 0;
    fill: none;
  }
  & .edge-pattern-dashed{
    stroke-dasharray: 3;
  }
  .edge-pattern-dotted {
    stroke-dasharray: 2;
  }

  & .marker {
    fill: ${n.lineColor};
    stroke: ${n.lineColor};
  }
  & .marker.cross {
    stroke: ${n.lineColor};
  }

  & svg {
    font-family: ${n.fontFamily};
    font-size: ${n.fontSize};
  }
   & p {
    margin: 0
   }

  ${i}

  ${t}
`},"getStyles"),bP=T((e,t)=>{t!==void 0&&(mh[e]=t)},"addStylesForDiagram"),TP=SP,PT={};fO(PT,{clear:()=>EP,getAccDescription:()=>MP,getAccTitle:()=>AP,getDiagramTitle:()=>NP,setAccDescription:()=>kP,setAccTitle:()=>wP,setDiagramTitle:()=>RP});var fy="",dy="",py="",gy=T(e=>ci(e,ln()),"sanitizeText"),EP=T(()=>{fy="",py="",dy=""},"clear"),wP=T(e=>{fy=gy(e).replace(/^\s+/g,"")},"setAccTitle"),AP=T(()=>fy,"getAccTitle"),kP=T(e=>{py=gy(e).replace(/\n\s+/g,`
`)},"setAccDescription"),MP=T(()=>py,"getAccDescription"),RP=T(e=>{dy=gy(e)},"setDiagramTitle"),NP=T(()=>dy,"getDiagramTitle"),eb=st,LP=cy,oe=ln,cX=NT,uX=ls,my=T(e=>ci(e,oe()),"sanitizeText"),DP=CP,IP=T(()=>PT,"getCommonDb"),Ph={},Uh=T((e,t,n)=>{var i;Ph[e]&&eb.warn(`Diagram with id ${e} already registered. Overwriting.`),Ph[e]=t,n&&wT(e,n),bP(e,t.styles),(i=t.injectUtils)==null||i.call(t,eb,LP,oe,my,DP,IP(),()=>{})},"registerDiagram"),rm=T(e=>{if(e in Ph)return Ph[e];throw new BP(e)},"getDiagram"),as,BP=(as=class extends Error{constructor(t){super(`Diagram ${t} not found.`)}},T(as,"DiagramNotFoundError"),as),FP={value:()=>{}};function UT(){for(var e=0,t=arguments.length,n={},i;e<t;++e){if(!(i=arguments[e]+"")||i in n||/[\s.]/.test(i))throw new Error("illegal type: "+i);n[i]=[]}return new yh(n)}function yh(e){this._=e}function OP(e,t){return e.trim().split(/^|\s+/).map(function(n){var i="",a=n.indexOf(".");if(a>=0&&(i=n.slice(a+1),n=n.slice(0,a)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:i}})}yh.prototype=UT.prototype={constructor:yh,on:function(e,t){var n=this._,i=OP(e+"",n),a,s=-1,l=i.length;if(arguments.length<2){for(;++s<l;)if((a=(e=i[s]).type)&&(a=PP(n[a],e.name)))return a;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++s<l;)if(a=(e=i[s]).type)n[a]=nb(n[a],e.name,t);else if(t==null)for(a in n)n[a]=nb(n[a],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new yh(e)},call:function(e,t){if((a=arguments.length-2)>0)for(var n=new Array(a),i=0,a,s;i<a;++i)n[i]=arguments[i+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(s=this._[e],i=0,a=s.length;i<a;++i)s[i].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var i=this._[e],a=0,s=i.length;a<s;++a)i[a].value.apply(t,n)}};function PP(e,t){for(var n=0,i=e.length,a;n<i;++n)if((a=e[n]).name===t)return a.value}function nb(e,t,n){for(var i=0,a=e.length;i<a;++i)if(e[i].name===t){e[i]=FP,e=e.slice(0,i).concat(e.slice(i+1));break}return n!=null&&e.push({name:t,value:n}),e}var am="http://www.w3.org/1999/xhtml";const ib={svg:"http://www.w3.org/2000/svg",xhtml:am,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Mf(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),ib.hasOwnProperty(t)?{space:ib[t],local:e}:e}function UP(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===am&&t.documentElement.namespaceURI===am?t.createElement(e):t.createElementNS(n,e)}}function $P(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function $T(e){var t=Mf(e);return(t.local?$P:UP)(t)}function zP(){}function yy(e){return e==null?zP:function(){return this.querySelector(e)}}function qP(e){typeof e!="function"&&(e=yy(e));for(var t=this._groups,n=t.length,i=new Array(n),a=0;a<n;++a)for(var s=t[a],l=s.length,c=i[a]=new Array(l),f,h,d=0;d<l;++d)(f=s[d])&&(h=e.call(f,f.__data__,d,s))&&("__data__"in f&&(h.__data__=f.__data__),c[d]=h);return new Yn(i,this._parents)}function HP(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function GP(){return[]}function zT(e){return e==null?GP:function(){return this.querySelectorAll(e)}}function VP(e){return function(){return HP(e.apply(this,arguments))}}function YP(e){typeof e=="function"?e=VP(e):e=zT(e);for(var t=this._groups,n=t.length,i=[],a=[],s=0;s<n;++s)for(var l=t[s],c=l.length,f,h=0;h<c;++h)(f=l[h])&&(i.push(e.call(f,f.__data__,h,l)),a.push(f));return new Yn(i,a)}function qT(e){return function(){return this.matches(e)}}function HT(e){return function(t){return t.matches(e)}}var WP=Array.prototype.find;function XP(e){return function(){return WP.call(this.children,e)}}function JP(){return this.firstElementChild}function KP(e){return this.select(e==null?JP:XP(typeof e=="function"?e:HT(e)))}var QP=Array.prototype.filter;function ZP(){return Array.from(this.children)}function jP(e){return function(){return QP.call(this.children,e)}}function tU(e){return this.selectAll(e==null?ZP:jP(typeof e=="function"?e:HT(e)))}function eU(e){typeof e!="function"&&(e=qT(e));for(var t=this._groups,n=t.length,i=new Array(n),a=0;a<n;++a)for(var s=t[a],l=s.length,c=i[a]=[],f,h=0;h<l;++h)(f=s[h])&&e.call(f,f.__data__,h,s)&&c.push(f);return new Yn(i,this._parents)}function GT(e){return new Array(e.length)}function nU(){return new Yn(this._enter||this._groups.map(GT),this._parents)}function $h(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}$h.prototype={constructor:$h,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function iU(e){return function(){return e}}function rU(e,t,n,i,a,s){for(var l=0,c,f=t.length,h=s.length;l<h;++l)(c=t[l])?(c.__data__=s[l],i[l]=c):n[l]=new $h(e,s[l]);for(;l<f;++l)(c=t[l])&&(a[l]=c)}function aU(e,t,n,i,a,s,l){var c,f,h=new Map,d=t.length,m=s.length,v=new Array(d),x;for(c=0;c<d;++c)(f=t[c])&&(v[c]=x=l.call(f,f.__data__,c,t)+"",h.has(x)?a[c]=f:h.set(x,f));for(c=0;c<m;++c)x=l.call(e,s[c],c,s)+"",(f=h.get(x))?(i[c]=f,f.__data__=s[c],h.delete(x)):n[c]=new $h(e,s[c]);for(c=0;c<d;++c)(f=t[c])&&h.get(v[c])===f&&(a[c]=f)}function oU(e){return e.__data__}function sU(e,t){if(!arguments.length)return Array.from(this,oU);var n=t?aU:rU,i=this._parents,a=this._groups;typeof e!="function"&&(e=iU(e));for(var s=a.length,l=new Array(s),c=new Array(s),f=new Array(s),h=0;h<s;++h){var d=i[h],m=a[h],v=m.length,x=lU(e.call(d,d&&d.__data__,h,i)),S=x.length,b=c[h]=new Array(S),E=l[h]=new Array(S),A=f[h]=new Array(v);n(d,m,b,E,A,x,t);for(var k=0,R=0,I,B;k<S;++k)if(I=b[k]){for(k>=R&&(R=k+1);!(B=E[R])&&++R<S;);I._next=B||null}}return l=new Yn(l,i),l._enter=c,l._exit=f,l}function lU(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function cU(){return new Yn(this._exit||this._groups.map(GT),this._parents)}function uU(e,t,n){var i=this.enter(),a=this,s=this.exit();return typeof e=="function"?(i=e(i),i&&(i=i.selection())):i=i.append(e+""),t!=null&&(a=t(a),a&&(a=a.selection())),n==null?s.remove():n(s),i&&a?i.merge(a).order():a}function hU(e){for(var t=e.selection?e.selection():e,n=this._groups,i=t._groups,a=n.length,s=i.length,l=Math.min(a,s),c=new Array(a),f=0;f<l;++f)for(var h=n[f],d=i[f],m=h.length,v=c[f]=new Array(m),x,S=0;S<m;++S)(x=h[S]||d[S])&&(v[S]=x);for(;f<a;++f)c[f]=n[f];return new Yn(c,this._parents)}function fU(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var i=e[t],a=i.length-1,s=i[a],l;--a>=0;)(l=i[a])&&(s&&l.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(l,s),s=l);return this}function dU(e){e||(e=pU);function t(m,v){return m&&v?e(m.__data__,v.__data__):!m-!v}for(var n=this._groups,i=n.length,a=new Array(i),s=0;s<i;++s){for(var l=n[s],c=l.length,f=a[s]=new Array(c),h,d=0;d<c;++d)(h=l[d])&&(f[d]=h);f.sort(t)}return new Yn(a,this._parents).order()}function pU(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function gU(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function mU(){return Array.from(this)}function yU(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var i=e[t],a=0,s=i.length;a<s;++a){var l=i[a];if(l)return l}return null}function vU(){let e=0;for(const t of this)++e;return e}function _U(){return!this.node()}function xU(e){for(var t=this._groups,n=0,i=t.length;n<i;++n)for(var a=t[n],s=0,l=a.length,c;s<l;++s)(c=a[s])&&e.call(c,c.__data__,s,a);return this}function CU(e){return function(){this.removeAttribute(e)}}function SU(e){return function(){this.removeAttributeNS(e.space,e.local)}}function bU(e,t){return function(){this.setAttribute(e,t)}}function TU(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function EU(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function wU(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function AU(e,t){var n=Mf(e);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((t==null?n.local?SU:CU:typeof t=="function"?n.local?wU:EU:n.local?TU:bU)(n,t))}function VT(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function kU(e){return function(){this.style.removeProperty(e)}}function MU(e,t,n){return function(){this.style.setProperty(e,t,n)}}function RU(e,t,n){return function(){var i=t.apply(this,arguments);i==null?this.style.removeProperty(e):this.style.setProperty(e,i,n)}}function NU(e,t,n){return arguments.length>1?this.each((t==null?kU:typeof t=="function"?RU:MU)(e,t,n??"")):us(this.node(),e)}function us(e,t){return e.style.getPropertyValue(t)||VT(e).getComputedStyle(e,null).getPropertyValue(t)}function LU(e){return function(){delete this[e]}}function DU(e,t){return function(){this[e]=t}}function IU(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function BU(e,t){return arguments.length>1?this.each((t==null?LU:typeof t=="function"?IU:DU)(e,t)):this.node()[e]}function YT(e){return e.trim().split(/^|\s+/)}function vy(e){return e.classList||new WT(e)}function WT(e){this._node=e,this._names=YT(e.getAttribute("class")||"")}WT.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function XT(e,t){for(var n=vy(e),i=-1,a=t.length;++i<a;)n.add(t[i])}function JT(e,t){for(var n=vy(e),i=-1,a=t.length;++i<a;)n.remove(t[i])}function FU(e){return function(){XT(this,e)}}function OU(e){return function(){JT(this,e)}}function PU(e,t){return function(){(t.apply(this,arguments)?XT:JT)(this,e)}}function UU(e,t){var n=YT(e+"");if(arguments.length<2){for(var i=vy(this.node()),a=-1,s=n.length;++a<s;)if(!i.contains(n[a]))return!1;return!0}return this.each((typeof t=="function"?PU:t?FU:OU)(n,t))}function $U(){this.textContent=""}function zU(e){return function(){this.textContent=e}}function qU(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function HU(e){return arguments.length?this.each(e==null?$U:(typeof e=="function"?qU:zU)(e)):this.node().textContent}function GU(){this.innerHTML=""}function VU(e){return function(){this.innerHTML=e}}function YU(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function WU(e){return arguments.length?this.each(e==null?GU:(typeof e=="function"?YU:VU)(e)):this.node().innerHTML}function XU(){this.nextSibling&&this.parentNode.appendChild(this)}function JU(){return this.each(XU)}function KU(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function QU(){return this.each(KU)}function ZU(e){var t=typeof e=="function"?e:$T(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function jU(){return null}function t$(e,t){var n=typeof e=="function"?e:$T(e),i=t==null?jU:typeof t=="function"?t:yy(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)})}function e$(){var e=this.parentNode;e&&e.removeChild(this)}function n$(){return this.each(e$)}function i$(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function r$(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function a$(e){return this.select(e?r$:i$)}function o$(e){return arguments.length?this.property("__data__",e):this.node().__data__}function s$(e){return function(t){e.call(this,t,this.__data__)}}function l$(e){return e.trim().split(/^|\s+/).map(function(t){var n="",i=t.indexOf(".");return i>=0&&(n=t.slice(i+1),t=t.slice(0,i)),{type:t,name:n}})}function c$(e){return function(){var t=this.__on;if(t){for(var n=0,i=-1,a=t.length,s;n<a;++n)s=t[n],(!e.type||s.type===e.type)&&s.name===e.name?this.removeEventListener(s.type,s.listener,s.options):t[++i]=s;++i?t.length=i:delete this.__on}}}function u$(e,t,n){return function(){var i=this.__on,a,s=s$(t);if(i){for(var l=0,c=i.length;l<c;++l)if((a=i[l]).type===e.type&&a.name===e.name){this.removeEventListener(a.type,a.listener,a.options),this.addEventListener(a.type,a.listener=s,a.options=n),a.value=t;return}}this.addEventListener(e.type,s,n),a={type:e.type,name:e.name,value:t,listener:s,options:n},i?i.push(a):this.__on=[a]}}function h$(e,t,n){var i=l$(e+""),a,s=i.length,l;if(arguments.length<2){var c=this.node().__on;if(c){for(var f=0,h=c.length,d;f<h;++f)for(a=0,d=c[f];a<s;++a)if((l=i[a]).type===d.type&&l.name===d.name)return d.value}return}for(c=t?u$:c$,a=0;a<s;++a)this.each(c(i[a],t,n));return this}function KT(e,t,n){var i=VT(e),a=i.CustomEvent;typeof a=="function"?a=new a(t,n):(a=i.document.createEvent("Event"),n?(a.initEvent(t,n.bubbles,n.cancelable),a.detail=n.detail):a.initEvent(t,!1,!1)),e.dispatchEvent(a)}function f$(e,t){return function(){return KT(this,e,t)}}function d$(e,t){return function(){return KT(this,e,t.apply(this,arguments))}}function p$(e,t){return this.each((typeof t=="function"?d$:f$)(e,t))}function*g$(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var i=e[t],a=0,s=i.length,l;a<s;++a)(l=i[a])&&(yield l)}var QT=[null];function Yn(e,t){this._groups=e,this._parents=t}function vc(){return new Yn([[document.documentElement]],QT)}function m$(){return this}Yn.prototype=vc.prototype={constructor:Yn,select:qP,selectAll:YP,selectChild:KP,selectChildren:tU,filter:eU,data:sU,enter:nU,exit:cU,join:uU,merge:hU,selection:m$,order:fU,sort:dU,call:gU,nodes:mU,node:yU,size:vU,empty:_U,each:xU,attr:AU,style:NU,property:BU,classed:UU,text:HU,html:WU,raise:JU,lower:QU,append:ZU,insert:t$,remove:n$,clone:a$,datum:o$,on:h$,dispatch:p$,[Symbol.iterator]:g$};function Qt(e){return typeof e=="string"?new Yn([[document.querySelector(e)]],[document.documentElement]):new Yn([[e]],QT)}function _y(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function ZT(e,t){var n=Object.create(e.prototype);for(var i in t)n[i]=t[i];return n}function _c(){}var ic=.7,zh=1/ic,Qo="\\s*([+-]?\\d+)\\s*",rc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ui="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",y$=/^#([0-9a-f]{3,8})$/,v$=new RegExp(`^rgb\\(${Qo},${Qo},${Qo}\\)$`),_$=new RegExp(`^rgb\\(${Ui},${Ui},${Ui}\\)$`),x$=new RegExp(`^rgba\\(${Qo},${Qo},${Qo},${rc}\\)$`),C$=new RegExp(`^rgba\\(${Ui},${Ui},${Ui},${rc}\\)$`),S$=new RegExp(`^hsl\\(${rc},${Ui},${Ui}\\)$`),b$=new RegExp(`^hsla\\(${rc},${Ui},${Ui},${rc}\\)$`),rb={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};_y(_c,ac,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:ab,formatHex:ab,formatHex8:T$,formatHsl:E$,formatRgb:ob,toString:ob});function ab(){return this.rgb().formatHex()}function T$(){return this.rgb().formatHex8()}function E$(){return jT(this).formatHsl()}function ob(){return this.rgb().formatRgb()}function ac(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=y$.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?sb(t):n===3?new In(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?ju(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?ju(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=v$.exec(e))?new In(t[1],t[2],t[3],1):(t=_$.exec(e))?new In(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=x$.exec(e))?ju(t[1],t[2],t[3],t[4]):(t=C$.exec(e))?ju(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=S$.exec(e))?ub(t[1],t[2]/100,t[3]/100,1):(t=b$.exec(e))?ub(t[1],t[2]/100,t[3]/100,t[4]):rb.hasOwnProperty(e)?sb(rb[e]):e==="transparent"?new In(NaN,NaN,NaN,0):null}function sb(e){return new In(e>>16&255,e>>8&255,e&255,1)}function ju(e,t,n,i){return i<=0&&(e=t=n=NaN),new In(e,t,n,i)}function w$(e){return e instanceof _c||(e=ac(e)),e?(e=e.rgb(),new In(e.r,e.g,e.b,e.opacity)):new In}function om(e,t,n,i){return arguments.length===1?w$(e):new In(e,t,n,i??1)}function In(e,t,n,i){this.r=+e,this.g=+t,this.b=+n,this.opacity=+i}_y(In,om,ZT(_c,{brighter(e){return e=e==null?zh:Math.pow(zh,e),new In(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?ic:Math.pow(ic,e),new In(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new In(za(this.r),za(this.g),za(this.b),qh(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:lb,formatHex:lb,formatHex8:A$,formatRgb:cb,toString:cb}));function lb(){return`#${Oa(this.r)}${Oa(this.g)}${Oa(this.b)}`}function A$(){return`#${Oa(this.r)}${Oa(this.g)}${Oa(this.b)}${Oa((isNaN(this.opacity)?1:this.opacity)*255)}`}function cb(){const e=qh(this.opacity);return`${e===1?"rgb(":"rgba("}${za(this.r)}, ${za(this.g)}, ${za(this.b)}${e===1?")":`, ${e})`}`}function qh(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function za(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Oa(e){return e=za(e),(e<16?"0":"")+e.toString(16)}function ub(e,t,n,i){return i<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new xi(e,t,n,i)}function jT(e){if(e instanceof xi)return new xi(e.h,e.s,e.l,e.opacity);if(e instanceof _c||(e=ac(e)),!e)return new xi;if(e instanceof xi)return e;e=e.rgb();var t=e.r/255,n=e.g/255,i=e.b/255,a=Math.min(t,n,i),s=Math.max(t,n,i),l=NaN,c=s-a,f=(s+a)/2;return c?(t===s?l=(n-i)/c+(n<i)*6:n===s?l=(i-t)/c+2:l=(t-n)/c+4,c/=f<.5?s+a:2-s-a,l*=60):c=f>0&&f<1?0:l,new xi(l,c,f,e.opacity)}function k$(e,t,n,i){return arguments.length===1?jT(e):new xi(e,t,n,i??1)}function xi(e,t,n,i){this.h=+e,this.s=+t,this.l=+n,this.opacity=+i}_y(xi,k$,ZT(_c,{brighter(e){return e=e==null?zh:Math.pow(zh,e),new xi(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?ic:Math.pow(ic,e),new xi(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*t,a=2*n-i;return new In(Cg(e>=240?e-240:e+120,a,i),Cg(e,a,i),Cg(e<120?e+240:e-120,a,i),this.opacity)},clamp(){return new xi(hb(this.h),th(this.s),th(this.l),qh(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=qh(this.opacity);return`${e===1?"hsl(":"hsla("}${hb(this.h)}, ${th(this.s)*100}%, ${th(this.l)*100}%${e===1?")":`, ${e})`}`}}));function hb(e){return e=(e||0)%360,e<0?e+360:e}function th(e){return Math.max(0,Math.min(1,e||0))}function Cg(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const xy=e=>()=>e;function t2(e,t){return function(n){return e+n*t}}function M$(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(i){return Math.pow(e+i*t,n)}}function hX(e,t){var n=t-e;return n?t2(e,n>180||n<-180?n-360*Math.round(n/360):n):xy(isNaN(e)?t:e)}function R$(e){return(e=+e)==1?e2:function(t,n){return n-t?M$(t,n,e):xy(isNaN(t)?n:t)}}function e2(e,t){var n=t-e;return n?t2(e,n):xy(isNaN(e)?t:e)}const fb=(function e(t){var n=R$(t);function i(a,s){var l=n((a=om(a)).r,(s=om(s)).r),c=n(a.g,s.g),f=n(a.b,s.b),h=e2(a.opacity,s.opacity);return function(d){return a.r=l(d),a.g=c(d),a.b=f(d),a.opacity=h(d),a+""}}return i.gamma=e,i})(1);function ta(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var sm=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Sg=new RegExp(sm.source,"g");function N$(e){return function(){return e}}function L$(e){return function(t){return e(t)+""}}function D$(e,t){var n=sm.lastIndex=Sg.lastIndex=0,i,a,s,l=-1,c=[],f=[];for(e=e+"",t=t+"";(i=sm.exec(e))&&(a=Sg.exec(t));)(s=a.index)>n&&(s=t.slice(n,s),c[l]?c[l]+=s:c[++l]=s),(i=i[0])===(a=a[0])?c[l]?c[l]+=a:c[++l]=a:(c[++l]=null,f.push({i:l,x:ta(i,a)})),n=Sg.lastIndex;return n<t.length&&(s=t.slice(n),c[l]?c[l]+=s:c[++l]=s),c.length<2?f[0]?L$(f[0].x):N$(t):(t=f.length,function(h){for(var d=0,m;d<t;++d)c[(m=f[d]).i]=m.x(h);return c.join("")})}var db=180/Math.PI,lm={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function n2(e,t,n,i,a,s){var l,c,f;return(l=Math.sqrt(e*e+t*t))&&(e/=l,t/=l),(f=e*n+t*i)&&(n-=e*f,i-=t*f),(c=Math.sqrt(n*n+i*i))&&(n/=c,i/=c,f/=c),e*i<t*n&&(e=-e,t=-t,f=-f,l=-l),{translateX:a,translateY:s,rotate:Math.atan2(t,e)*db,skewX:Math.atan(f)*db,scaleX:l,scaleY:c}}var eh;function I$(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?lm:n2(t.a,t.b,t.c,t.d,t.e,t.f)}function B$(e){return e==null||(eh||(eh=document.createElementNS("http://www.w3.org/2000/svg","g")),eh.setAttribute("transform",e),!(e=eh.transform.baseVal.consolidate()))?lm:(e=e.matrix,n2(e.a,e.b,e.c,e.d,e.e,e.f))}function i2(e,t,n,i){function a(h){return h.length?h.pop()+" ":""}function s(h,d,m,v,x,S){if(h!==m||d!==v){var b=x.push("translate(",null,t,null,n);S.push({i:b-4,x:ta(h,m)},{i:b-2,x:ta(d,v)})}else(m||v)&&x.push("translate("+m+t+v+n)}function l(h,d,m,v){h!==d?(h-d>180?d+=360:d-h>180&&(h+=360),v.push({i:m.push(a(m)+"rotate(",null,i)-2,x:ta(h,d)})):d&&m.push(a(m)+"rotate("+d+i)}function c(h,d,m,v){h!==d?v.push({i:m.push(a(m)+"skewX(",null,i)-2,x:ta(h,d)}):d&&m.push(a(m)+"skewX("+d+i)}function f(h,d,m,v,x,S){if(h!==m||d!==v){var b=x.push(a(x)+"scale(",null,",",null,")");S.push({i:b-4,x:ta(h,m)},{i:b-2,x:ta(d,v)})}else(m!==1||v!==1)&&x.push(a(x)+"scale("+m+","+v+")")}return function(h,d){var m=[],v=[];return h=e(h),d=e(d),s(h.translateX,h.translateY,d.translateX,d.translateY,m,v),l(h.rotate,d.rotate,m,v),c(h.skewX,d.skewX,m,v),f(h.scaleX,h.scaleY,d.scaleX,d.scaleY,m,v),h=d=null,function(x){for(var S=-1,b=v.length,E;++S<b;)m[(E=v[S]).i]=E.x(x);return m.join("")}}}var F$=i2(I$,"px, ","px)","deg)"),O$=i2(B$,", ",")",")"),hs=0,Hl=0,Il=0,r2=1e3,Hh,Gl,Gh=0,Va=0,Rf=0,oc=typeof performance=="object"&&performance.now?performance:Date,a2=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Cy(){return Va||(a2(P$),Va=oc.now()+Rf)}function P$(){Va=0}function Vh(){this._call=this._time=this._next=null}Vh.prototype=o2.prototype={constructor:Vh,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?Cy():+n)+(t==null?0:+t),!this._next&&Gl!==this&&(Gl?Gl._next=this:Hh=this,Gl=this),this._call=e,this._time=n,cm()},stop:function(){this._call&&(this._call=null,this._time=1/0,cm())}};function o2(e,t,n){var i=new Vh;return i.restart(e,t,n),i}function U$(){Cy(),++hs;for(var e=Hh,t;e;)(t=Va-e._time)>=0&&e._call.call(void 0,t),e=e._next;--hs}function pb(){Va=(Gh=oc.now())+Rf,hs=Hl=0;try{U$()}finally{hs=0,z$(),Va=0}}function $$(){var e=oc.now(),t=e-Gh;t>r2&&(Rf-=t,Gh=e)}function z$(){for(var e,t=Hh,n,i=1/0;t;)t._call?(i>t._time&&(i=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:Hh=n);Gl=e,cm(i)}function cm(e){if(!hs){Hl&&(Hl=clearTimeout(Hl));var t=e-Va;t>24?(e<1/0&&(Hl=setTimeout(pb,e-oc.now()-Rf)),Il&&(Il=clearInterval(Il))):(Il||(Gh=oc.now(),Il=setInterval($$,r2)),hs=1,a2(pb))}}function gb(e,t,n){var i=new Vh;return t=t==null?0:+t,i.restart(a=>{i.stop(),e(a+t)},t,n),i}var q$=UT("start","end","cancel","interrupt"),H$=[],s2=0,mb=1,um=2,vh=3,yb=4,hm=5,_h=6;function Nf(e,t,n,i,a,s){var l=e.__transition;if(!l)e.__transition={};else if(n in l)return;G$(e,n,{name:t,index:i,group:a,on:q$,tween:H$,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:s2})}function Sy(e,t){var n=Ai(e,t);if(n.state>s2)throw new Error("too late; already scheduled");return n}function qi(e,t){var n=Ai(e,t);if(n.state>vh)throw new Error("too late; already running");return n}function Ai(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function G$(e,t,n){var i=e.__transition,a;i[t]=n,n.timer=o2(s,0,n.time);function s(h){n.state=mb,n.timer.restart(l,n.delay,n.time),n.delay<=h&&l(h-n.delay)}function l(h){var d,m,v,x;if(n.state!==mb)return f();for(d in i)if(x=i[d],x.name===n.name){if(x.state===vh)return gb(l);x.state===yb?(x.state=_h,x.timer.stop(),x.on.call("interrupt",e,e.__data__,x.index,x.group),delete i[d]):+d<t&&(x.state=_h,x.timer.stop(),x.on.call("cancel",e,e.__data__,x.index,x.group),delete i[d])}if(gb(function(){n.state===vh&&(n.state=yb,n.timer.restart(c,n.delay,n.time),c(h))}),n.state=um,n.on.call("start",e,e.__data__,n.index,n.group),n.state===um){for(n.state=vh,a=new Array(v=n.tween.length),d=0,m=-1;d<v;++d)(x=n.tween[d].value.call(e,e.__data__,n.index,n.group))&&(a[++m]=x);a.length=m+1}}function c(h){for(var d=h<n.duration?n.ease.call(null,h/n.duration):(n.timer.restart(f),n.state=hm,1),m=-1,v=a.length;++m<v;)a[m].call(e,d);n.state===hm&&(n.on.call("end",e,e.__data__,n.index,n.group),f())}function f(){n.state=_h,n.timer.stop(),delete i[t];for(var h in i)return;delete e.__transition}}function V$(e,t){var n=e.__transition,i,a,s=!0,l;if(n){t=t==null?null:t+"";for(l in n){if((i=n[l]).name!==t){s=!1;continue}a=i.state>um&&i.state<hm,i.state=_h,i.timer.stop(),i.on.call(a?"interrupt":"cancel",e,e.__data__,i.index,i.group),delete n[l]}s&&delete e.__transition}}function Y$(e){return this.each(function(){V$(this,e)})}function W$(e,t){var n,i;return function(){var a=qi(this,e),s=a.tween;if(s!==n){i=n=s;for(var l=0,c=i.length;l<c;++l)if(i[l].name===t){i=i.slice(),i.splice(l,1);break}}a.tween=i}}function X$(e,t,n){var i,a;if(typeof n!="function")throw new Error;return function(){var s=qi(this,e),l=s.tween;if(l!==i){a=(i=l).slice();for(var c={name:t,value:n},f=0,h=a.length;f<h;++f)if(a[f].name===t){a[f]=c;break}f===h&&a.push(c)}s.tween=a}}function J$(e,t){var n=this._id;if(e+="",arguments.length<2){for(var i=Ai(this.node(),n).tween,a=0,s=i.length,l;a<s;++a)if((l=i[a]).name===e)return l.value;return null}return this.each((t==null?W$:X$)(n,e,t))}function by(e,t,n){var i=e._id;return e.each(function(){var a=qi(this,i);(a.value||(a.value={}))[t]=n.apply(this,arguments)}),function(a){return Ai(a,i).value[t]}}function l2(e,t){var n;return(typeof t=="number"?ta:t instanceof ac?fb:(n=ac(t))?(t=n,fb):D$)(e,t)}function K$(e){return function(){this.removeAttribute(e)}}function Q$(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Z$(e,t,n){var i,a=n+"",s;return function(){var l=this.getAttribute(e);return l===a?null:l===i?s:s=t(i=l,n)}}function j$(e,t,n){var i,a=n+"",s;return function(){var l=this.getAttributeNS(e.space,e.local);return l===a?null:l===i?s:s=t(i=l,n)}}function t6(e,t,n){var i,a,s;return function(){var l,c=n(this),f;return c==null?void this.removeAttribute(e):(l=this.getAttribute(e),f=c+"",l===f?null:l===i&&f===a?s:(a=f,s=t(i=l,c)))}}function e6(e,t,n){var i,a,s;return function(){var l,c=n(this),f;return c==null?void this.removeAttributeNS(e.space,e.local):(l=this.getAttributeNS(e.space,e.local),f=c+"",l===f?null:l===i&&f===a?s:(a=f,s=t(i=l,c)))}}function n6(e,t){var n=Mf(e),i=n==="transform"?O$:l2;return this.attrTween(e,typeof t=="function"?(n.local?e6:t6)(n,i,by(this,"attr."+e,t)):t==null?(n.local?Q$:K$)(n):(n.local?j$:Z$)(n,i,t))}function i6(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function r6(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function a6(e,t){var n,i;function a(){var s=t.apply(this,arguments);return s!==i&&(n=(i=s)&&r6(e,s)),n}return a._value=t,a}function o6(e,t){var n,i;function a(){var s=t.apply(this,arguments);return s!==i&&(n=(i=s)&&i6(e,s)),n}return a._value=t,a}function s6(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var i=Mf(e);return this.tween(n,(i.local?a6:o6)(i,t))}function l6(e,t){return function(){Sy(this,e).delay=+t.apply(this,arguments)}}function c6(e,t){return t=+t,function(){Sy(this,e).delay=t}}function u6(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?l6:c6)(t,e)):Ai(this.node(),t).delay}function h6(e,t){return function(){qi(this,e).duration=+t.apply(this,arguments)}}function f6(e,t){return t=+t,function(){qi(this,e).duration=t}}function d6(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?h6:f6)(t,e)):Ai(this.node(),t).duration}function p6(e,t){if(typeof t!="function")throw new Error;return function(){qi(this,e).ease=t}}function g6(e){var t=this._id;return arguments.length?this.each(p6(t,e)):Ai(this.node(),t).ease}function m6(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;qi(this,e).ease=n}}function y6(e){if(typeof e!="function")throw new Error;return this.each(m6(this._id,e))}function v6(e){typeof e!="function"&&(e=qT(e));for(var t=this._groups,n=t.length,i=new Array(n),a=0;a<n;++a)for(var s=t[a],l=s.length,c=i[a]=[],f,h=0;h<l;++h)(f=s[h])&&e.call(f,f.__data__,h,s)&&c.push(f);return new Cr(i,this._parents,this._name,this._id)}function _6(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,i=t.length,a=n.length,s=Math.min(i,a),l=new Array(i),c=0;c<s;++c)for(var f=t[c],h=n[c],d=f.length,m=l[c]=new Array(d),v,x=0;x<d;++x)(v=f[x]||h[x])&&(m[x]=v);for(;c<i;++c)l[c]=t[c];return new Cr(l,this._parents,this._name,this._id)}function x6(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function C6(e,t,n){var i,a,s=x6(t)?Sy:qi;return function(){var l=s(this,e),c=l.on;c!==i&&(a=(i=c).copy()).on(t,n),l.on=a}}function S6(e,t){var n=this._id;return arguments.length<2?Ai(this.node(),n).on.on(e):this.each(C6(n,e,t))}function b6(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function T6(){return this.on("end.remove",b6(this._id))}function E6(e){var t=this._name,n=this._id;typeof e!="function"&&(e=yy(e));for(var i=this._groups,a=i.length,s=new Array(a),l=0;l<a;++l)for(var c=i[l],f=c.length,h=s[l]=new Array(f),d,m,v=0;v<f;++v)(d=c[v])&&(m=e.call(d,d.__data__,v,c))&&("__data__"in d&&(m.__data__=d.__data__),h[v]=m,Nf(h[v],t,n,v,h,Ai(d,n)));return new Cr(s,this._parents,t,n)}function w6(e){var t=this._name,n=this._id;typeof e!="function"&&(e=zT(e));for(var i=this._groups,a=i.length,s=[],l=[],c=0;c<a;++c)for(var f=i[c],h=f.length,d,m=0;m<h;++m)if(d=f[m]){for(var v=e.call(d,d.__data__,m,f),x,S=Ai(d,n),b=0,E=v.length;b<E;++b)(x=v[b])&&Nf(x,t,n,b,v,S);s.push(v),l.push(d)}return new Cr(s,l,t,n)}var A6=vc.prototype.constructor;function k6(){return new A6(this._groups,this._parents)}function M6(e,t){var n,i,a;return function(){var s=us(this,e),l=(this.style.removeProperty(e),us(this,e));return s===l?null:s===n&&l===i?a:a=t(n=s,i=l)}}function c2(e){return function(){this.style.removeProperty(e)}}function R6(e,t,n){var i,a=n+"",s;return function(){var l=us(this,e);return l===a?null:l===i?s:s=t(i=l,n)}}function N6(e,t,n){var i,a,s;return function(){var l=us(this,e),c=n(this),f=c+"";return c==null&&(f=c=(this.style.removeProperty(e),us(this,e))),l===f?null:l===i&&f===a?s:(a=f,s=t(i=l,c))}}function L6(e,t){var n,i,a,s="style."+t,l="end."+s,c;return function(){var f=qi(this,e),h=f.on,d=f.value[s]==null?c||(c=c2(t)):void 0;(h!==n||a!==d)&&(i=(n=h).copy()).on(l,a=d),f.on=i}}function D6(e,t,n){var i=(e+="")=="transform"?F$:l2;return t==null?this.styleTween(e,M6(e,i)).on("end.style."+e,c2(e)):typeof t=="function"?this.styleTween(e,N6(e,i,by(this,"style."+e,t))).each(L6(this._id,e)):this.styleTween(e,R6(e,i,t),n).on("end.style."+e,null)}function I6(e,t,n){return function(i){this.style.setProperty(e,t.call(this,i),n)}}function B6(e,t,n){var i,a;function s(){var l=t.apply(this,arguments);return l!==a&&(i=(a=l)&&I6(e,l,n)),i}return s._value=t,s}function F6(e,t,n){var i="style."+(e+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(t==null)return this.tween(i,null);if(typeof t!="function")throw new Error;return this.tween(i,B6(e,t,n??""))}function O6(e){return function(){this.textContent=e}}function P6(e){return function(){var t=e(this);this.textContent=t??""}}function U6(e){return this.tween("text",typeof e=="function"?P6(by(this,"text",e)):O6(e==null?"":e+""))}function $6(e){return function(t){this.textContent=e.call(this,t)}}function z6(e){var t,n;function i(){var a=e.apply(this,arguments);return a!==n&&(t=(n=a)&&$6(a)),t}return i._value=e,i}function q6(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,z6(e))}function H6(){for(var e=this._name,t=this._id,n=u2(),i=this._groups,a=i.length,s=0;s<a;++s)for(var l=i[s],c=l.length,f,h=0;h<c;++h)if(f=l[h]){var d=Ai(f,t);Nf(f,e,n,h,l,{time:d.time+d.delay+d.duration,delay:0,duration:d.duration,ease:d.ease})}return new Cr(i,this._parents,e,n)}function G6(){var e,t,n=this,i=n._id,a=n.size();return new Promise(function(s,l){var c={value:l},f={value:function(){--a===0&&s()}};n.each(function(){var h=qi(this,i),d=h.on;d!==e&&(t=(e=d).copy(),t._.cancel.push(c),t._.interrupt.push(c),t._.end.push(f)),h.on=t}),a===0&&s()})}var V6=0;function Cr(e,t,n,i){this._groups=e,this._parents=t,this._name=n,this._id=i}function u2(){return++V6}var gr=vc.prototype;Cr.prototype={constructor:Cr,select:E6,selectAll:w6,selectChild:gr.selectChild,selectChildren:gr.selectChildren,filter:v6,merge:_6,selection:k6,transition:H6,call:gr.call,nodes:gr.nodes,node:gr.node,size:gr.size,empty:gr.empty,each:gr.each,on:S6,attr:n6,attrTween:s6,style:D6,styleTween:F6,text:U6,textTween:q6,remove:T6,tween:J$,delay:u6,duration:d6,ease:g6,easeVarying:y6,end:G6,[Symbol.iterator]:gr[Symbol.iterator]};function Y6(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var W6={time:null,delay:0,duration:250,ease:Y6};function X6(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function J6(e){var t,n;e instanceof Cr?(t=e._id,e=e._name):(t=u2(),(n=W6).time=Cy(),e=e==null?null:e+"");for(var i=this._groups,a=i.length,s=0;s<a;++s)for(var l=i[s],c=l.length,f,h=0;h<c;++h)(f=l[h])&&Nf(f,e,t,h,l,n||X6(f,t));return new Cr(i,this._parents,e,t)}vc.prototype.interrupt=Y$;vc.prototype.transition=J6;const fm=Math.PI,dm=2*fm,Da=1e-6,K6=dm-Da;function h2(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function Q6(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return h2;const n=10**t;return function(i){this._+=i[0];for(let a=1,s=i.length;a<s;++a)this._+=Math.round(arguments[a]*n)/n+i[a]}}class Z6{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?h2:Q6(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,i,a){this._append`Q${+t},${+n},${this._x1=+i},${this._y1=+a}`}bezierCurveTo(t,n,i,a,s,l){this._append`C${+t},${+n},${+i},${+a},${this._x1=+s},${this._y1=+l}`}arcTo(t,n,i,a,s){if(t=+t,n=+n,i=+i,a=+a,s=+s,s<0)throw new Error(`negative radius: ${s}`);let l=this._x1,c=this._y1,f=i-t,h=a-n,d=l-t,m=c-n,v=d*d+m*m;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(v>Da)if(!(Math.abs(m*f-h*d)>Da)||!s)this._append`L${this._x1=t},${this._y1=n}`;else{let x=i-l,S=a-c,b=f*f+h*h,E=x*x+S*S,A=Math.sqrt(b),k=Math.sqrt(v),R=s*Math.tan((fm-Math.acos((b+v-E)/(2*A*k)))/2),I=R/k,B=R/A;Math.abs(I-1)>Da&&this._append`L${t+I*d},${n+I*m}`,this._append`A${s},${s},0,0,${+(m*x>d*S)},${this._x1=t+B*f},${this._y1=n+B*h}`}}arc(t,n,i,a,s,l){if(t=+t,n=+n,i=+i,l=!!l,i<0)throw new Error(`negative radius: ${i}`);let c=i*Math.cos(a),f=i*Math.sin(a),h=t+c,d=n+f,m=1^l,v=l?a-s:s-a;this._x1===null?this._append`M${h},${d}`:(Math.abs(this._x1-h)>Da||Math.abs(this._y1-d)>Da)&&this._append`L${h},${d}`,i&&(v<0&&(v=v%dm+dm),v>K6?this._append`A${i},${i},0,1,${m},${t-c},${n-f}A${i},${i},0,1,${m},${this._x1=h},${this._y1=d}`:v>Da&&this._append`A${i},${i},0,${+(v>=fm)},${m},${this._x1=t+i*Math.cos(s)},${this._y1=n+i*Math.sin(s)}`)}rect(t,n,i,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${i=+i}v${+a}h${-i}Z`}toString(){return this._}}function $o(e){return function(){return e}}const fX=Math.abs,dX=Math.atan2,pX=Math.cos,gX=Math.max,mX=Math.min,yX=Math.sin,vX=Math.sqrt,vb=1e-12,Ty=Math.PI,_b=Ty/2,_X=2*Ty;function xX(e){return e>1?0:e<-1?Ty:Math.acos(e)}function CX(e){return e>=1?_b:e<=-1?-_b:Math.asin(e)}function j6(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const i=Math.floor(n);if(!(i>=0))throw new RangeError(`invalid digits: ${n}`);t=i}return e},()=>new Z6(t)}function t8(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function f2(e){this._context=e}f2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Yh(e){return new f2(e)}function e8(e){return e[0]}function n8(e){return e[1]}function i8(e,t){var n=$o(!0),i=null,a=Yh,s=null,l=j6(c);e=typeof e=="function"?e:e===void 0?e8:$o(e),t=typeof t=="function"?t:t===void 0?n8:$o(t);function c(f){var h,d=(f=t8(f)).length,m,v=!1,x;for(i==null&&(s=a(x=l())),h=0;h<=d;++h)!(h<d&&n(m=f[h],h,f))===v&&((v=!v)?s.lineStart():s.lineEnd()),v&&s.point(+e(m,h,f),+t(m,h,f));if(x)return s=null,x+""||null}return c.x=function(f){return arguments.length?(e=typeof f=="function"?f:$o(+f),c):e},c.y=function(f){return arguments.length?(t=typeof f=="function"?f:$o(+f),c):t},c.defined=function(f){return arguments.length?(n=typeof f=="function"?f:$o(!!f),c):n},c.curve=function(f){return arguments.length?(a=f,i!=null&&(s=a(i)),c):a},c.context=function(f){return arguments.length?(f==null?i=s=null:s=a(i=f),c):i},c}class d2{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function p2(e){return new d2(e,!0)}function g2(e){return new d2(e,!1)}function ia(){}function Wh(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function Lf(e){this._context=e}Lf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Wh(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Wh(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function xh(e){return new Lf(e)}function m2(e){this._context=e}m2.prototype={areaStart:ia,areaEnd:ia,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Wh(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function r8(e){return new m2(e)}function y2(e){this._context=e}y2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,i=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,i):this._context.moveTo(n,i);break;case 3:this._point=4;default:Wh(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function a8(e){return new y2(e)}function v2(e,t){this._basis=new Lf(e),this._beta=t}v2.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,n=e.length-1;if(n>0)for(var i=e[0],a=t[0],s=e[n]-i,l=t[n]-a,c=-1,f;++c<=n;)f=c/n,this._basis.point(this._beta*e[c]+(1-this._beta)*(i+f*s),this._beta*t[c]+(1-this._beta)*(a+f*l));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};const o8=(function e(t){function n(i){return t===1?new Lf(i):new v2(i,t)}return n.beta=function(i){return e(+i)},n})(.85);function Xh(e,t,n){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-n),e._x2,e._y2)}function Ey(e,t){this._context=e,this._k=(1-t)/6}Ey.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Xh(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:Xh(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const _2=(function e(t){function n(i){return new Ey(i,t)}return n.tension=function(i){return e(+i)},n})(0);function wy(e,t){this._context=e,this._k=(1-t)/6}wy.prototype={areaStart:ia,areaEnd:ia,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:Xh(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const s8=(function e(t){function n(i){return new wy(i,t)}return n.tension=function(i){return e(+i)},n})(0);function Ay(e,t){this._context=e,this._k=(1-t)/6}Ay.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Xh(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const l8=(function e(t){function n(i){return new Ay(i,t)}return n.tension=function(i){return e(+i)},n})(0);function ky(e,t,n){var i=e._x1,a=e._y1,s=e._x2,l=e._y2;if(e._l01_a>vb){var c=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,f=3*e._l01_a*(e._l01_a+e._l12_a);i=(i*c-e._x0*e._l12_2a+e._x2*e._l01_2a)/f,a=(a*c-e._y0*e._l12_2a+e._y2*e._l01_2a)/f}if(e._l23_a>vb){var h=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,d=3*e._l23_a*(e._l23_a+e._l12_a);s=(s*h+e._x1*e._l23_2a-t*e._l12_2a)/d,l=(l*h+e._y1*e._l23_2a-n*e._l12_2a)/d}e._context.bezierCurveTo(i,a,s,l,e._x2,e._y2)}function x2(e,t){this._context=e,this._alpha=t}x2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,i=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+i*i,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:ky(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const C2=(function e(t){function n(i){return t?new x2(i,t):new Ey(i,0)}return n.alpha=function(i){return e(+i)},n})(.5);function S2(e,t){this._context=e,this._alpha=t}S2.prototype={areaStart:ia,areaEnd:ia,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,i=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+i*i,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:ky(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const c8=(function e(t){function n(i){return t?new S2(i,t):new wy(i,0)}return n.alpha=function(i){return e(+i)},n})(.5);function b2(e,t){this._context=e,this._alpha=t}b2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,i=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+i*i,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:ky(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const u8=(function e(t){function n(i){return t?new b2(i,t):new Ay(i,0)}return n.alpha=function(i){return e(+i)},n})(.5);function T2(e){this._context=e}T2.prototype={areaStart:ia,areaEnd:ia,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function h8(e){return new T2(e)}function xb(e){return e<0?-1:1}function Cb(e,t,n){var i=e._x1-e._x0,a=t-e._x1,s=(e._y1-e._y0)/(i||a<0&&-0),l=(n-e._y1)/(a||i<0&&-0),c=(s*a+l*i)/(i+a);return(xb(s)+xb(l))*Math.min(Math.abs(s),Math.abs(l),.5*Math.abs(c))||0}function Sb(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function bg(e,t,n){var i=e._x0,a=e._y0,s=e._x1,l=e._y1,c=(s-i)/3;e._context.bezierCurveTo(i+c,a+c*t,s-c,l-c*n,s,l)}function Jh(e){this._context=e}Jh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:bg(this,this._t0,Sb(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,bg(this,Sb(this,n=Cb(this,e,t)),n);break;default:bg(this,this._t0,n=Cb(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function E2(e){this._context=new w2(e)}(E2.prototype=Object.create(Jh.prototype)).point=function(e,t){Jh.prototype.point.call(this,t,e)};function w2(e){this._context=e}w2.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,i,a,s){this._context.bezierCurveTo(t,e,i,n,s,a)}};function A2(e){return new Jh(e)}function k2(e){return new E2(e)}function M2(e){this._context=e}M2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var i=bb(e),a=bb(t),s=0,l=1;l<n;++s,++l)this._context.bezierCurveTo(i[0][s],a[0][s],i[1][s],a[1][s],e[l],t[l]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function bb(e){var t,n=e.length-1,i,a=new Array(n),s=new Array(n),l=new Array(n);for(a[0]=0,s[0]=2,l[0]=e[0]+2*e[1],t=1;t<n-1;++t)a[t]=1,s[t]=4,l[t]=4*e[t]+2*e[t+1];for(a[n-1]=2,s[n-1]=7,l[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)i=a[t]/s[t-1],s[t]-=i,l[t]-=i*l[t-1];for(a[n-1]=l[n-1]/s[n-1],t=n-2;t>=0;--t)a[t]=(l[t]-a[t+1])/s[t];for(s[n-1]=(e[n]+a[n-1])/2,t=0;t<n-1;++t)s[t]=2*e[t+1]-a[t+1];return[a,s]}function R2(e){return new M2(e)}function Df(e,t){this._context=e,this._t=t}Df.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function N2(e){return new Df(e,.5)}function L2(e){return new Df(e,0)}function D2(e){return new Df(e,1)}function Vl(e,t,n){this.k=e,this.x=t,this.y=n}Vl.prototype={constructor:Vl,scale:function(e){return e===1?this:new Vl(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new Vl(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};Vl.prototype;var f8=T(e=>{var a;const{securityLevel:t}=oe();let n=Qt("body");if(t==="sandbox"){const l=((a=Qt(`#i${e}`).node())==null?void 0:a.contentDocument)??document;n=Qt(l.body)}return n.select(`#${e}`)},"selectSvgElement");function My(e){return typeof e>"u"||e===null}T(My,"isNothing");function I2(e){return typeof e=="object"&&e!==null}T(I2,"isObject");function B2(e){return Array.isArray(e)?e:My(e)?[]:[e]}T(B2,"toArray");function F2(e,t){var n,i,a,s;if(t)for(s=Object.keys(t),n=0,i=s.length;n<i;n+=1)a=s[n],e[a]=t[a];return e}T(F2,"extend");function O2(e,t){var n="",i;for(i=0;i<t;i+=1)n+=e;return n}T(O2,"repeat");function P2(e){return e===0&&Number.NEGATIVE_INFINITY===1/e}T(P2,"isNegativeZero");var d8=My,p8=I2,g8=B2,m8=O2,y8=P2,v8=F2,ze={isNothing:d8,isObject:p8,toArray:g8,repeat:m8,isNegativeZero:y8,extend:v8};function Ry(e,t){var n="",i=e.reason||"(unknown reason)";return e.mark?(e.mark.name&&(n+='in "'+e.mark.name+'" '),n+="("+(e.mark.line+1)+":"+(e.mark.column+1)+")",!t&&e.mark.snippet&&(n+=`

`+e.mark.snippet),i+" "+n):i}T(Ry,"formatError");function fs(e,t){Error.call(this),this.name="YAMLException",this.reason=e,this.mark=t,this.message=Ry(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}T(fs,"YAMLException$1");fs.prototype=Object.create(Error.prototype);fs.prototype.constructor=fs;fs.prototype.toString=T(function(t){return this.name+": "+Ry(this,t)},"toString");var Dn=fs;function Ch(e,t,n,i,a){var s="",l="",c=Math.floor(a/2)-1;return i-t>c&&(s=" ... ",t=i-c+s.length),n-i>c&&(l=" ...",n=i+c-l.length),{str:s+e.slice(t,n).replace(/\t/g,"")+l,pos:i-t+s.length}}T(Ch,"getLine");function Sh(e,t){return ze.repeat(" ",t-e.length)+e}T(Sh,"padStart");function U2(e,t){if(t=Object.create(t||null),!e.buffer)return null;t.maxLength||(t.maxLength=79),typeof t.indent!="number"&&(t.indent=1),typeof t.linesBefore!="number"&&(t.linesBefore=3),typeof t.linesAfter!="number"&&(t.linesAfter=2);for(var n=/\r?\n|\r|\0/g,i=[0],a=[],s,l=-1;s=n.exec(e.buffer);)a.push(s.index),i.push(s.index+s[0].length),e.position<=s.index&&l<0&&(l=i.length-2);l<0&&(l=i.length-1);var c="",f,h,d=Math.min(e.line+t.linesAfter,a.length).toString().length,m=t.maxLength-(t.indent+d+3);for(f=1;f<=t.linesBefore&&!(l-f<0);f++)h=Ch(e.buffer,i[l-f],a[l-f],e.position-(i[l]-i[l-f]),m),c=ze.repeat(" ",t.indent)+Sh((e.line-f+1).toString(),d)+" | "+h.str+`
`+c;for(h=Ch(e.buffer,i[l],a[l],e.position,m),c+=ze.repeat(" ",t.indent)+Sh((e.line+1).toString(),d)+" | "+h.str+`
`,c+=ze.repeat("-",t.indent+d+3+h.pos)+`^
`,f=1;f<=t.linesAfter&&!(l+f>=a.length);f++)h=Ch(e.buffer,i[l+f],a[l+f],e.position-(i[l]-i[l+f]),m),c+=ze.repeat(" ",t.indent)+Sh((e.line+f+1).toString(),d)+" | "+h.str+`
`;return c.replace(/\n$/,"")}T(U2,"makeSnippet");var _8=U2,x8=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],C8=["scalar","sequence","mapping"];function $2(e){var t={};return e!==null&&Object.keys(e).forEach(function(n){e[n].forEach(function(i){t[String(i)]=n})}),t}T($2,"compileStyleAliases");function z2(e,t){if(t=t||{},Object.keys(t).forEach(function(n){if(x8.indexOf(n)===-1)throw new Dn('Unknown option "'+n+'" is met in definition of "'+e+'" YAML type.')}),this.options=t,this.tag=e,this.kind=t.kind||null,this.resolve=t.resolve||function(){return!0},this.construct=t.construct||function(n){return n},this.instanceOf=t.instanceOf||null,this.predicate=t.predicate||null,this.represent=t.represent||null,this.representName=t.representName||null,this.defaultStyle=t.defaultStyle||null,this.multi=t.multi||!1,this.styleAliases=$2(t.styleAliases||null),C8.indexOf(this.kind)===-1)throw new Dn('Unknown kind "'+this.kind+'" is specified for "'+e+'" YAML type.')}T(z2,"Type$1");var cn=z2;function pm(e,t){var n=[];return e[t].forEach(function(i){var a=n.length;n.forEach(function(s,l){s.tag===i.tag&&s.kind===i.kind&&s.multi===i.multi&&(a=l)}),n[a]=i}),n}T(pm,"compileList");function q2(){var e={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},t,n;function i(a){a.multi?(e.multi[a.kind].push(a),e.multi.fallback.push(a)):e[a.kind][a.tag]=e.fallback[a.tag]=a}for(T(i,"collectType"),t=0,n=arguments.length;t<n;t+=1)arguments[t].forEach(i);return e}T(q2,"compileMap");function Kh(e){return this.extend(e)}T(Kh,"Schema$1");Kh.prototype.extend=T(function(t){var n=[],i=[];if(t instanceof cn)i.push(t);else if(Array.isArray(t))i=i.concat(t);else if(t&&(Array.isArray(t.implicit)||Array.isArray(t.explicit)))t.implicit&&(n=n.concat(t.implicit)),t.explicit&&(i=i.concat(t.explicit));else throw new Dn("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");n.forEach(function(s){if(!(s instanceof cn))throw new Dn("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(s.loadKind&&s.loadKind!=="scalar")throw new Dn("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(s.multi)throw new Dn("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),i.forEach(function(s){if(!(s instanceof cn))throw new Dn("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var a=Object.create(Kh.prototype);return a.implicit=(this.implicit||[]).concat(n),a.explicit=(this.explicit||[]).concat(i),a.compiledImplicit=pm(a,"implicit"),a.compiledExplicit=pm(a,"explicit"),a.compiledTypeMap=q2(a.compiledImplicit,a.compiledExplicit),a},"extend");var S8=Kh,b8=new cn("tag:yaml.org,2002:str",{kind:"scalar",construct:T(function(e){return e!==null?e:""},"construct")}),T8=new cn("tag:yaml.org,2002:seq",{kind:"sequence",construct:T(function(e){return e!==null?e:[]},"construct")}),E8=new cn("tag:yaml.org,2002:map",{kind:"mapping",construct:T(function(e){return e!==null?e:{}},"construct")}),w8=new S8({explicit:[b8,T8,E8]});function H2(e){if(e===null)return!0;var t=e.length;return t===1&&e==="~"||t===4&&(e==="null"||e==="Null"||e==="NULL")}T(H2,"resolveYamlNull");function G2(){return null}T(G2,"constructYamlNull");function V2(e){return e===null}T(V2,"isNull");var A8=new cn("tag:yaml.org,2002:null",{kind:"scalar",resolve:H2,construct:G2,predicate:V2,represent:{canonical:T(function(){return"~"},"canonical"),lowercase:T(function(){return"null"},"lowercase"),uppercase:T(function(){return"NULL"},"uppercase"),camelcase:T(function(){return"Null"},"camelcase"),empty:T(function(){return""},"empty")},defaultStyle:"lowercase"});function Y2(e){if(e===null)return!1;var t=e.length;return t===4&&(e==="true"||e==="True"||e==="TRUE")||t===5&&(e==="false"||e==="False"||e==="FALSE")}T(Y2,"resolveYamlBoolean");function W2(e){return e==="true"||e==="True"||e==="TRUE"}T(W2,"constructYamlBoolean");function X2(e){return Object.prototype.toString.call(e)==="[object Boolean]"}T(X2,"isBoolean");var k8=new cn("tag:yaml.org,2002:bool",{kind:"scalar",resolve:Y2,construct:W2,predicate:X2,represent:{lowercase:T(function(e){return e?"true":"false"},"lowercase"),uppercase:T(function(e){return e?"TRUE":"FALSE"},"uppercase"),camelcase:T(function(e){return e?"True":"False"},"camelcase")},defaultStyle:"lowercase"});function J2(e){return 48<=e&&e<=57||65<=e&&e<=70||97<=e&&e<=102}T(J2,"isHexCode");function K2(e){return 48<=e&&e<=55}T(K2,"isOctCode");function Q2(e){return 48<=e&&e<=57}T(Q2,"isDecCode");function Z2(e){if(e===null)return!1;var t=e.length,n=0,i=!1,a;if(!t)return!1;if(a=e[n],(a==="-"||a==="+")&&(a=e[++n]),a==="0"){if(n+1===t)return!0;if(a=e[++n],a==="b"){for(n++;n<t;n++)if(a=e[n],a!=="_"){if(a!=="0"&&a!=="1")return!1;i=!0}return i&&a!=="_"}if(a==="x"){for(n++;n<t;n++)if(a=e[n],a!=="_"){if(!J2(e.charCodeAt(n)))return!1;i=!0}return i&&a!=="_"}if(a==="o"){for(n++;n<t;n++)if(a=e[n],a!=="_"){if(!K2(e.charCodeAt(n)))return!1;i=!0}return i&&a!=="_"}}if(a==="_")return!1;for(;n<t;n++)if(a=e[n],a!=="_"){if(!Q2(e.charCodeAt(n)))return!1;i=!0}return!(!i||a==="_")}T(Z2,"resolveYamlInteger");function j2(e){var t=e,n=1,i;if(t.indexOf("_")!==-1&&(t=t.replace(/_/g,"")),i=t[0],(i==="-"||i==="+")&&(i==="-"&&(n=-1),t=t.slice(1),i=t[0]),t==="0")return 0;if(i==="0"){if(t[1]==="b")return n*parseInt(t.slice(2),2);if(t[1]==="x")return n*parseInt(t.slice(2),16);if(t[1]==="o")return n*parseInt(t.slice(2),8)}return n*parseInt(t,10)}T(j2,"constructYamlInteger");function tE(e){return Object.prototype.toString.call(e)==="[object Number]"&&e%1===0&&!ze.isNegativeZero(e)}T(tE,"isInteger");var M8=new cn("tag:yaml.org,2002:int",{kind:"scalar",resolve:Z2,construct:j2,predicate:tE,represent:{binary:T(function(e){return e>=0?"0b"+e.toString(2):"-0b"+e.toString(2).slice(1)},"binary"),octal:T(function(e){return e>=0?"0o"+e.toString(8):"-0o"+e.toString(8).slice(1)},"octal"),decimal:T(function(e){return e.toString(10)},"decimal"),hexadecimal:T(function(e){return e>=0?"0x"+e.toString(16).toUpperCase():"-0x"+e.toString(16).toUpperCase().slice(1)},"hexadecimal")},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),R8=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function eE(e){return!(e===null||!R8.test(e)||e[e.length-1]==="_")}T(eE,"resolveYamlFloat");function nE(e){var t,n;return t=e.replace(/_/g,"").toLowerCase(),n=t[0]==="-"?-1:1,"+-".indexOf(t[0])>=0&&(t=t.slice(1)),t===".inf"?n===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:t===".nan"?NaN:n*parseFloat(t,10)}T(nE,"constructYamlFloat");var N8=/^[-+]?[0-9]+e/;function iE(e,t){var n;if(isNaN(e))switch(t){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===e)switch(t){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===e)switch(t){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(ze.isNegativeZero(e))return"-0.0";return n=e.toString(10),N8.test(n)?n.replace("e",".e"):n}T(iE,"representYamlFloat");function rE(e){return Object.prototype.toString.call(e)==="[object Number]"&&(e%1!==0||ze.isNegativeZero(e))}T(rE,"isFloat");var L8=new cn("tag:yaml.org,2002:float",{kind:"scalar",resolve:eE,construct:nE,predicate:rE,represent:iE,defaultStyle:"lowercase"}),aE=w8.extend({implicit:[A8,k8,M8,L8]}),D8=aE,oE=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),sE=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function lE(e){return e===null?!1:oE.exec(e)!==null||sE.exec(e)!==null}T(lE,"resolveYamlTimestamp");function cE(e){var t,n,i,a,s,l,c,f=0,h=null,d,m,v;if(t=oE.exec(e),t===null&&(t=sE.exec(e)),t===null)throw new Error("Date resolve error");if(n=+t[1],i=+t[2]-1,a=+t[3],!t[4])return new Date(Date.UTC(n,i,a));if(s=+t[4],l=+t[5],c=+t[6],t[7]){for(f=t[7].slice(0,3);f.length<3;)f+="0";f=+f}return t[9]&&(d=+t[10],m=+(t[11]||0),h=(d*60+m)*6e4,t[9]==="-"&&(h=-h)),v=new Date(Date.UTC(n,i,a,s,l,c,f)),h&&v.setTime(v.getTime()-h),v}T(cE,"constructYamlTimestamp");function uE(e){return e.toISOString()}T(uE,"representYamlTimestamp");var I8=new cn("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:lE,construct:cE,instanceOf:Date,represent:uE});function hE(e){return e==="<<"||e===null}T(hE,"resolveYamlMerge");var B8=new cn("tag:yaml.org,2002:merge",{kind:"scalar",resolve:hE}),Ny=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function fE(e){if(e===null)return!1;var t,n,i=0,a=e.length,s=Ny;for(n=0;n<a;n++)if(t=s.indexOf(e.charAt(n)),!(t>64)){if(t<0)return!1;i+=6}return i%8===0}T(fE,"resolveYamlBinary");function dE(e){var t,n,i=e.replace(/[\r\n=]/g,""),a=i.length,s=Ny,l=0,c=[];for(t=0;t<a;t++)t%4===0&&t&&(c.push(l>>16&255),c.push(l>>8&255),c.push(l&255)),l=l<<6|s.indexOf(i.charAt(t));return n=a%4*6,n===0?(c.push(l>>16&255),c.push(l>>8&255),c.push(l&255)):n===18?(c.push(l>>10&255),c.push(l>>2&255)):n===12&&c.push(l>>4&255),new Uint8Array(c)}T(dE,"constructYamlBinary");function pE(e){var t="",n=0,i,a,s=e.length,l=Ny;for(i=0;i<s;i++)i%3===0&&i&&(t+=l[n>>18&63],t+=l[n>>12&63],t+=l[n>>6&63],t+=l[n&63]),n=(n<<8)+e[i];return a=s%3,a===0?(t+=l[n>>18&63],t+=l[n>>12&63],t+=l[n>>6&63],t+=l[n&63]):a===2?(t+=l[n>>10&63],t+=l[n>>4&63],t+=l[n<<2&63],t+=l[64]):a===1&&(t+=l[n>>2&63],t+=l[n<<4&63],t+=l[64],t+=l[64]),t}T(pE,"representYamlBinary");function gE(e){return Object.prototype.toString.call(e)==="[object Uint8Array]"}T(gE,"isBinary");var F8=new cn("tag:yaml.org,2002:binary",{kind:"scalar",resolve:fE,construct:dE,predicate:gE,represent:pE}),O8=Object.prototype.hasOwnProperty,P8=Object.prototype.toString;function mE(e){if(e===null)return!0;var t=[],n,i,a,s,l,c=e;for(n=0,i=c.length;n<i;n+=1){if(a=c[n],l=!1,P8.call(a)!=="[object Object]")return!1;for(s in a)if(O8.call(a,s))if(!l)l=!0;else return!1;if(!l)return!1;if(t.indexOf(s)===-1)t.push(s);else return!1}return!0}T(mE,"resolveYamlOmap");function yE(e){return e!==null?e:[]}T(yE,"constructYamlOmap");var U8=new cn("tag:yaml.org,2002:omap",{kind:"sequence",resolve:mE,construct:yE}),$8=Object.prototype.toString;function vE(e){if(e===null)return!0;var t,n,i,a,s,l=e;for(s=new Array(l.length),t=0,n=l.length;t<n;t+=1){if(i=l[t],$8.call(i)!=="[object Object]"||(a=Object.keys(i),a.length!==1))return!1;s[t]=[a[0],i[a[0]]]}return!0}T(vE,"resolveYamlPairs");function _E(e){if(e===null)return[];var t,n,i,a,s,l=e;for(s=new Array(l.length),t=0,n=l.length;t<n;t+=1)i=l[t],a=Object.keys(i),s[t]=[a[0],i[a[0]]];return s}T(_E,"constructYamlPairs");var z8=new cn("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:vE,construct:_E}),q8=Object.prototype.hasOwnProperty;function xE(e){if(e===null)return!0;var t,n=e;for(t in n)if(q8.call(n,t)&&n[t]!==null)return!1;return!0}T(xE,"resolveYamlSet");function CE(e){return e!==null?e:{}}T(CE,"constructYamlSet");var H8=new cn("tag:yaml.org,2002:set",{kind:"mapping",resolve:xE,construct:CE}),SE=D8.extend({implicit:[I8,B8],explicit:[F8,U8,z8,H8]}),ra=Object.prototype.hasOwnProperty,Qh=1,bE=2,TE=3,Zh=4,Tg=1,G8=2,Tb=3,V8=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,Y8=/[\x85\u2028\u2029]/,W8=/[,\[\]\{\}]/,EE=/^(?:!|!!|![a-z\-]+!)$/i,wE=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function gm(e){return Object.prototype.toString.call(e)}T(gm,"_class");function Ti(e){return e===10||e===13}T(Ti,"is_EOL");function na(e){return e===9||e===32}T(na,"is_WHITE_SPACE");function vn(e){return e===9||e===32||e===10||e===13}T(vn,"is_WS_OR_EOL");function Pa(e){return e===44||e===91||e===93||e===123||e===125}T(Pa,"is_FLOW_INDICATOR");function AE(e){var t;return 48<=e&&e<=57?e-48:(t=e|32,97<=t&&t<=102?t-97+10:-1)}T(AE,"fromHexCode");function kE(e){return e===120?2:e===117?4:e===85?8:0}T(kE,"escapedHexLen");function ME(e){return 48<=e&&e<=57?e-48:-1}T(ME,"fromDecimalCode");function mm(e){return e===48?"\0":e===97?"\x07":e===98?"\b":e===116||e===9?"	":e===110?`
`:e===118?"\v":e===102?"\f":e===114?"\r":e===101?"\x1B":e===32?" ":e===34?'"':e===47?"/":e===92?"\\":e===78?"":e===95?"":e===76?"\u2028":e===80?"\u2029":""}T(mm,"simpleEscapeSequence");function RE(e){return e<=65535?String.fromCharCode(e):String.fromCharCode((e-65536>>10)+55296,(e-65536&1023)+56320)}T(RE,"charFromCodepoint");var NE=new Array(256),LE=new Array(256);for(Na=0;Na<256;Na++)NE[Na]=mm(Na)?1:0,LE[Na]=mm(Na);var Na;function DE(e,t){this.input=e,this.filename=t.filename||null,this.schema=t.schema||SE,this.onWarning=t.onWarning||null,this.legacy=t.legacy||!1,this.json=t.json||!1,this.listener=t.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=e.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}T(DE,"State$1");function Ly(e,t){var n={name:e.filename,buffer:e.input.slice(0,-1),position:e.position,line:e.line,column:e.position-e.lineStart};return n.snippet=_8(n),new Dn(t,n)}T(Ly,"generateError");function kt(e,t){throw Ly(e,t)}T(kt,"throwError");function sc(e,t){e.onWarning&&e.onWarning.call(null,Ly(e,t))}T(sc,"throwWarning");var Eb={YAML:T(function(t,n,i){var a,s,l;t.version!==null&&kt(t,"duplication of %YAML directive"),i.length!==1&&kt(t,"YAML directive accepts exactly one argument"),a=/^([0-9]+)\.([0-9]+)$/.exec(i[0]),a===null&&kt(t,"ill-formed argument of the YAML directive"),s=parseInt(a[1],10),l=parseInt(a[2],10),s!==1&&kt(t,"unacceptable YAML version of the document"),t.version=i[0],t.checkLineBreaks=l<2,l!==1&&l!==2&&sc(t,"unsupported YAML version of the document")},"handleYamlDirective"),TAG:T(function(t,n,i){var a,s;i.length!==2&&kt(t,"TAG directive accepts exactly two arguments"),a=i[0],s=i[1],EE.test(a)||kt(t,"ill-formed tag handle (first argument) of the TAG directive"),ra.call(t.tagMap,a)&&kt(t,'there is a previously declared suffix for "'+a+'" tag handle'),wE.test(s)||kt(t,"ill-formed tag prefix (second argument) of the TAG directive");try{s=decodeURIComponent(s)}catch{kt(t,"tag prefix is malformed: "+s)}t.tagMap[a]=s},"handleTagDirective")};function _r(e,t,n,i){var a,s,l,c;if(t<n){if(c=e.input.slice(t,n),i)for(a=0,s=c.length;a<s;a+=1)l=c.charCodeAt(a),l===9||32<=l&&l<=1114111||kt(e,"expected valid JSON character");else V8.test(c)&&kt(e,"the stream contains non-printable characters");e.result+=c}}T(_r,"captureSegment");function ym(e,t,n,i){var a,s,l,c;for(ze.isObject(n)||kt(e,"cannot merge mappings; the provided source object is unacceptable"),a=Object.keys(n),l=0,c=a.length;l<c;l+=1)s=a[l],ra.call(t,s)||(t[s]=n[s],i[s]=!0)}T(ym,"mergeMappings");function Ua(e,t,n,i,a,s,l,c,f){var h,d;if(Array.isArray(a))for(a=Array.prototype.slice.call(a),h=0,d=a.length;h<d;h+=1)Array.isArray(a[h])&&kt(e,"nested arrays are not supported inside keys"),typeof a=="object"&&gm(a[h])==="[object Object]"&&(a[h]="[object Object]");if(typeof a=="object"&&gm(a)==="[object Object]"&&(a="[object Object]"),a=String(a),t===null&&(t={}),i==="tag:yaml.org,2002:merge")if(Array.isArray(s))for(h=0,d=s.length;h<d;h+=1)ym(e,t,s[h],n);else ym(e,t,s,n);else!e.json&&!ra.call(n,a)&&ra.call(t,a)&&(e.line=l||e.line,e.lineStart=c||e.lineStart,e.position=f||e.position,kt(e,"duplicated mapping key")),a==="__proto__"?Object.defineProperty(t,a,{configurable:!0,enumerable:!0,writable:!0,value:s}):t[a]=s,delete n[a];return t}T(Ua,"storeMappingPair");function If(e){var t;t=e.input.charCodeAt(e.position),t===10?e.position++:t===13?(e.position++,e.input.charCodeAt(e.position)===10&&e.position++):kt(e,"a line break is expected"),e.line+=1,e.lineStart=e.position,e.firstTabInLine=-1}T(If,"readLineBreak");function Me(e,t,n){for(var i=0,a=e.input.charCodeAt(e.position);a!==0;){for(;na(a);)a===9&&e.firstTabInLine===-1&&(e.firstTabInLine=e.position),a=e.input.charCodeAt(++e.position);if(t&&a===35)do a=e.input.charCodeAt(++e.position);while(a!==10&&a!==13&&a!==0);if(Ti(a))for(If(e),a=e.input.charCodeAt(e.position),i++,e.lineIndent=0;a===32;)e.lineIndent++,a=e.input.charCodeAt(++e.position);else break}return n!==-1&&i!==0&&e.lineIndent<n&&sc(e,"deficient indentation"),i}T(Me,"skipSeparationSpace");function xc(e){var t=e.position,n;return n=e.input.charCodeAt(t),!!((n===45||n===46)&&n===e.input.charCodeAt(t+1)&&n===e.input.charCodeAt(t+2)&&(t+=3,n=e.input.charCodeAt(t),n===0||vn(n)))}T(xc,"testDocumentSeparator");function Bf(e,t){t===1?e.result+=" ":t>1&&(e.result+=ze.repeat(`
`,t-1))}T(Bf,"writeFoldedLines");function IE(e,t,n){var i,a,s,l,c,f,h,d,m=e.kind,v=e.result,x;if(x=e.input.charCodeAt(e.position),vn(x)||Pa(x)||x===35||x===38||x===42||x===33||x===124||x===62||x===39||x===34||x===37||x===64||x===96||(x===63||x===45)&&(a=e.input.charCodeAt(e.position+1),vn(a)||n&&Pa(a)))return!1;for(e.kind="scalar",e.result="",s=l=e.position,c=!1;x!==0;){if(x===58){if(a=e.input.charCodeAt(e.position+1),vn(a)||n&&Pa(a))break}else if(x===35){if(i=e.input.charCodeAt(e.position-1),vn(i))break}else{if(e.position===e.lineStart&&xc(e)||n&&Pa(x))break;if(Ti(x))if(f=e.line,h=e.lineStart,d=e.lineIndent,Me(e,!1,-1),e.lineIndent>=t){c=!0,x=e.input.charCodeAt(e.position);continue}else{e.position=l,e.line=f,e.lineStart=h,e.lineIndent=d;break}}c&&(_r(e,s,l,!1),Bf(e,e.line-f),s=l=e.position,c=!1),na(x)||(l=e.position+1),x=e.input.charCodeAt(++e.position)}return _r(e,s,l,!1),e.result?!0:(e.kind=m,e.result=v,!1)}T(IE,"readPlainScalar");function BE(e,t){var n,i,a;if(n=e.input.charCodeAt(e.position),n!==39)return!1;for(e.kind="scalar",e.result="",e.position++,i=a=e.position;(n=e.input.charCodeAt(e.position))!==0;)if(n===39)if(_r(e,i,e.position,!0),n=e.input.charCodeAt(++e.position),n===39)i=e.position,e.position++,a=e.position;else return!0;else Ti(n)?(_r(e,i,a,!0),Bf(e,Me(e,!1,t)),i=a=e.position):e.position===e.lineStart&&xc(e)?kt(e,"unexpected end of the document within a single quoted scalar"):(e.position++,a=e.position);kt(e,"unexpected end of the stream within a single quoted scalar")}T(BE,"readSingleQuotedScalar");function FE(e,t){var n,i,a,s,l,c;if(c=e.input.charCodeAt(e.position),c!==34)return!1;for(e.kind="scalar",e.result="",e.position++,n=i=e.position;(c=e.input.charCodeAt(e.position))!==0;){if(c===34)return _r(e,n,e.position,!0),e.position++,!0;if(c===92){if(_r(e,n,e.position,!0),c=e.input.charCodeAt(++e.position),Ti(c))Me(e,!1,t);else if(c<256&&NE[c])e.result+=LE[c],e.position++;else if((l=kE(c))>0){for(a=l,s=0;a>0;a--)c=e.input.charCodeAt(++e.position),(l=AE(c))>=0?s=(s<<4)+l:kt(e,"expected hexadecimal character");e.result+=RE(s),e.position++}else kt(e,"unknown escape sequence");n=i=e.position}else Ti(c)?(_r(e,n,i,!0),Bf(e,Me(e,!1,t)),n=i=e.position):e.position===e.lineStart&&xc(e)?kt(e,"unexpected end of the document within a double quoted scalar"):(e.position++,i=e.position)}kt(e,"unexpected end of the stream within a double quoted scalar")}T(FE,"readDoubleQuotedScalar");function OE(e,t){var n=!0,i,a,s,l=e.tag,c,f=e.anchor,h,d,m,v,x,S=Object.create(null),b,E,A,k;if(k=e.input.charCodeAt(e.position),k===91)d=93,x=!1,c=[];else if(k===123)d=125,x=!0,c={};else return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=c),k=e.input.charCodeAt(++e.position);k!==0;){if(Me(e,!0,t),k=e.input.charCodeAt(e.position),k===d)return e.position++,e.tag=l,e.anchor=f,e.kind=x?"mapping":"sequence",e.result=c,!0;n?k===44&&kt(e,"expected the node content, but found ','"):kt(e,"missed comma between flow collection entries"),E=b=A=null,m=v=!1,k===63&&(h=e.input.charCodeAt(e.position+1),vn(h)&&(m=v=!0,e.position++,Me(e,!0,t))),i=e.line,a=e.lineStart,s=e.position,Ya(e,t,Qh,!1,!0),E=e.tag,b=e.result,Me(e,!0,t),k=e.input.charCodeAt(e.position),(v||e.line===i)&&k===58&&(m=!0,k=e.input.charCodeAt(++e.position),Me(e,!0,t),Ya(e,t,Qh,!1,!0),A=e.result),x?Ua(e,c,S,E,b,A,i,a,s):m?c.push(Ua(e,null,S,E,b,A,i,a,s)):c.push(b),Me(e,!0,t),k=e.input.charCodeAt(e.position),k===44?(n=!0,k=e.input.charCodeAt(++e.position)):n=!1}kt(e,"unexpected end of the stream within a flow collection")}T(OE,"readFlowCollection");function PE(e,t){var n,i,a=Tg,s=!1,l=!1,c=t,f=0,h=!1,d,m;if(m=e.input.charCodeAt(e.position),m===124)i=!1;else if(m===62)i=!0;else return!1;for(e.kind="scalar",e.result="";m!==0;)if(m=e.input.charCodeAt(++e.position),m===43||m===45)Tg===a?a=m===43?Tb:G8:kt(e,"repeat of a chomping mode identifier");else if((d=ME(m))>=0)d===0?kt(e,"bad explicit indentation width of a block scalar; it cannot be less than one"):l?kt(e,"repeat of an indentation width identifier"):(c=t+d-1,l=!0);else break;if(na(m)){do m=e.input.charCodeAt(++e.position);while(na(m));if(m===35)do m=e.input.charCodeAt(++e.position);while(!Ti(m)&&m!==0)}for(;m!==0;){for(If(e),e.lineIndent=0,m=e.input.charCodeAt(e.position);(!l||e.lineIndent<c)&&m===32;)e.lineIndent++,m=e.input.charCodeAt(++e.position);if(!l&&e.lineIndent>c&&(c=e.lineIndent),Ti(m)){f++;continue}if(e.lineIndent<c){a===Tb?e.result+=ze.repeat(`
`,s?1+f:f):a===Tg&&s&&(e.result+=`
`);break}for(i?na(m)?(h=!0,e.result+=ze.repeat(`
`,s?1+f:f)):h?(h=!1,e.result+=ze.repeat(`
`,f+1)):f===0?s&&(e.result+=" "):e.result+=ze.repeat(`
`,f):e.result+=ze.repeat(`
`,s?1+f:f),s=!0,l=!0,f=0,n=e.position;!Ti(m)&&m!==0;)m=e.input.charCodeAt(++e.position);_r(e,n,e.position,!1)}return!0}T(PE,"readBlockScalar");function vm(e,t){var n,i=e.tag,a=e.anchor,s=[],l,c=!1,f;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=s),f=e.input.charCodeAt(e.position);f!==0&&(e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,kt(e,"tab characters must not be used in indentation")),!(f!==45||(l=e.input.charCodeAt(e.position+1),!vn(l))));){if(c=!0,e.position++,Me(e,!0,-1)&&e.lineIndent<=t){s.push(null),f=e.input.charCodeAt(e.position);continue}if(n=e.line,Ya(e,t,TE,!1,!0),s.push(e.result),Me(e,!0,-1),f=e.input.charCodeAt(e.position),(e.line===n||e.lineIndent>t)&&f!==0)kt(e,"bad indentation of a sequence entry");else if(e.lineIndent<t)break}return c?(e.tag=i,e.anchor=a,e.kind="sequence",e.result=s,!0):!1}T(vm,"readBlockSequence");function UE(e,t,n){var i,a,s,l,c,f,h=e.tag,d=e.anchor,m={},v=Object.create(null),x=null,S=null,b=null,E=!1,A=!1,k;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=m),k=e.input.charCodeAt(e.position);k!==0;){if(!E&&e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,kt(e,"tab characters must not be used in indentation")),i=e.input.charCodeAt(e.position+1),s=e.line,(k===63||k===58)&&vn(i))k===63?(E&&(Ua(e,m,v,x,S,null,l,c,f),x=S=b=null),A=!0,E=!0,a=!0):E?(E=!1,a=!0):kt(e,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),e.position+=1,k=i;else{if(l=e.line,c=e.lineStart,f=e.position,!Ya(e,n,bE,!1,!0))break;if(e.line===s){for(k=e.input.charCodeAt(e.position);na(k);)k=e.input.charCodeAt(++e.position);if(k===58)k=e.input.charCodeAt(++e.position),vn(k)||kt(e,"a whitespace character is expected after the key-value separator within a block mapping"),E&&(Ua(e,m,v,x,S,null,l,c,f),x=S=b=null),A=!0,E=!1,a=!1,x=e.tag,S=e.result;else if(A)kt(e,"can not read an implicit mapping pair; a colon is missed");else return e.tag=h,e.anchor=d,!0}else if(A)kt(e,"can not read a block mapping entry; a multiline key may not be an implicit key");else return e.tag=h,e.anchor=d,!0}if((e.line===s||e.lineIndent>t)&&(E&&(l=e.line,c=e.lineStart,f=e.position),Ya(e,t,Zh,!0,a)&&(E?S=e.result:b=e.result),E||(Ua(e,m,v,x,S,b,l,c,f),x=S=b=null),Me(e,!0,-1),k=e.input.charCodeAt(e.position)),(e.line===s||e.lineIndent>t)&&k!==0)kt(e,"bad indentation of a mapping entry");else if(e.lineIndent<t)break}return E&&Ua(e,m,v,x,S,null,l,c,f),A&&(e.tag=h,e.anchor=d,e.kind="mapping",e.result=m),A}T(UE,"readBlockMapping");function $E(e){var t,n=!1,i=!1,a,s,l;if(l=e.input.charCodeAt(e.position),l!==33)return!1;if(e.tag!==null&&kt(e,"duplication of a tag property"),l=e.input.charCodeAt(++e.position),l===60?(n=!0,l=e.input.charCodeAt(++e.position)):l===33?(i=!0,a="!!",l=e.input.charCodeAt(++e.position)):a="!",t=e.position,n){do l=e.input.charCodeAt(++e.position);while(l!==0&&l!==62);e.position<e.length?(s=e.input.slice(t,e.position),l=e.input.charCodeAt(++e.position)):kt(e,"unexpected end of the stream within a verbatim tag")}else{for(;l!==0&&!vn(l);)l===33&&(i?kt(e,"tag suffix cannot contain exclamation marks"):(a=e.input.slice(t-1,e.position+1),EE.test(a)||kt(e,"named tag handle cannot contain such characters"),i=!0,t=e.position+1)),l=e.input.charCodeAt(++e.position);s=e.input.slice(t,e.position),W8.test(s)&&kt(e,"tag suffix cannot contain flow indicator characters")}s&&!wE.test(s)&&kt(e,"tag name cannot contain such characters: "+s);try{s=decodeURIComponent(s)}catch{kt(e,"tag name is malformed: "+s)}return n?e.tag=s:ra.call(e.tagMap,a)?e.tag=e.tagMap[a]+s:a==="!"?e.tag="!"+s:a==="!!"?e.tag="tag:yaml.org,2002:"+s:kt(e,'undeclared tag handle "'+a+'"'),!0}T($E,"readTagProperty");function zE(e){var t,n;if(n=e.input.charCodeAt(e.position),n!==38)return!1;for(e.anchor!==null&&kt(e,"duplication of an anchor property"),n=e.input.charCodeAt(++e.position),t=e.position;n!==0&&!vn(n)&&!Pa(n);)n=e.input.charCodeAt(++e.position);return e.position===t&&kt(e,"name of an anchor node must contain at least one character"),e.anchor=e.input.slice(t,e.position),!0}T(zE,"readAnchorProperty");function qE(e){var t,n,i;if(i=e.input.charCodeAt(e.position),i!==42)return!1;for(i=e.input.charCodeAt(++e.position),t=e.position;i!==0&&!vn(i)&&!Pa(i);)i=e.input.charCodeAt(++e.position);return e.position===t&&kt(e,"name of an alias node must contain at least one character"),n=e.input.slice(t,e.position),ra.call(e.anchorMap,n)||kt(e,'unidentified alias "'+n+'"'),e.result=e.anchorMap[n],Me(e,!0,-1),!0}T(qE,"readAlias");function Ya(e,t,n,i,a){var s,l,c,f=1,h=!1,d=!1,m,v,x,S,b,E;if(e.listener!==null&&e.listener("open",e),e.tag=null,e.anchor=null,e.kind=null,e.result=null,s=l=c=Zh===n||TE===n,i&&Me(e,!0,-1)&&(h=!0,e.lineIndent>t?f=1:e.lineIndent===t?f=0:e.lineIndent<t&&(f=-1)),f===1)for(;$E(e)||zE(e);)Me(e,!0,-1)?(h=!0,c=s,e.lineIndent>t?f=1:e.lineIndent===t?f=0:e.lineIndent<t&&(f=-1)):c=!1;if(c&&(c=h||a),(f===1||Zh===n)&&(Qh===n||bE===n?b=t:b=t+1,E=e.position-e.lineStart,f===1?c&&(vm(e,E)||UE(e,E,b))||OE(e,b)?d=!0:(l&&PE(e,b)||BE(e,b)||FE(e,b)?d=!0:qE(e)?(d=!0,(e.tag!==null||e.anchor!==null)&&kt(e,"alias node should not have any properties")):IE(e,b,Qh===n)&&(d=!0,e.tag===null&&(e.tag="?")),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):f===0&&(d=c&&vm(e,E))),e.tag===null)e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);else if(e.tag==="?"){for(e.result!==null&&e.kind!=="scalar"&&kt(e,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+e.kind+'"'),m=0,v=e.implicitTypes.length;m<v;m+=1)if(S=e.implicitTypes[m],S.resolve(e.result)){e.result=S.construct(e.result),e.tag=S.tag,e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);break}}else if(e.tag!=="!"){if(ra.call(e.typeMap[e.kind||"fallback"],e.tag))S=e.typeMap[e.kind||"fallback"][e.tag];else for(S=null,x=e.typeMap.multi[e.kind||"fallback"],m=0,v=x.length;m<v;m+=1)if(e.tag.slice(0,x[m].tag.length)===x[m].tag){S=x[m];break}S||kt(e,"unknown tag !<"+e.tag+">"),e.result!==null&&S.kind!==e.kind&&kt(e,"unacceptable node kind for !<"+e.tag+'> tag; it should be "'+S.kind+'", not "'+e.kind+'"'),S.resolve(e.result,e.tag)?(e.result=S.construct(e.result,e.tag),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):kt(e,"cannot resolve a node with !<"+e.tag+"> explicit tag")}return e.listener!==null&&e.listener("close",e),e.tag!==null||e.anchor!==null||d}T(Ya,"composeNode");function HE(e){var t=e.position,n,i,a,s=!1,l;for(e.version=null,e.checkLineBreaks=e.legacy,e.tagMap=Object.create(null),e.anchorMap=Object.create(null);(l=e.input.charCodeAt(e.position))!==0&&(Me(e,!0,-1),l=e.input.charCodeAt(e.position),!(e.lineIndent>0||l!==37));){for(s=!0,l=e.input.charCodeAt(++e.position),n=e.position;l!==0&&!vn(l);)l=e.input.charCodeAt(++e.position);for(i=e.input.slice(n,e.position),a=[],i.length<1&&kt(e,"directive name must not be less than one character in length");l!==0;){for(;na(l);)l=e.input.charCodeAt(++e.position);if(l===35){do l=e.input.charCodeAt(++e.position);while(l!==0&&!Ti(l));break}if(Ti(l))break;for(n=e.position;l!==0&&!vn(l);)l=e.input.charCodeAt(++e.position);a.push(e.input.slice(n,e.position))}l!==0&&If(e),ra.call(Eb,i)?Eb[i](e,i,a):sc(e,'unknown document directive "'+i+'"')}if(Me(e,!0,-1),e.lineIndent===0&&e.input.charCodeAt(e.position)===45&&e.input.charCodeAt(e.position+1)===45&&e.input.charCodeAt(e.position+2)===45?(e.position+=3,Me(e,!0,-1)):s&&kt(e,"directives end mark is expected"),Ya(e,e.lineIndent-1,Zh,!1,!0),Me(e,!0,-1),e.checkLineBreaks&&Y8.test(e.input.slice(t,e.position))&&sc(e,"non-ASCII line breaks are interpreted as content"),e.documents.push(e.result),e.position===e.lineStart&&xc(e)){e.input.charCodeAt(e.position)===46&&(e.position+=3,Me(e,!0,-1));return}if(e.position<e.length-1)kt(e,"end of the stream or a document separator is expected");else return}T(HE,"readDocument");function Dy(e,t){e=String(e),t=t||{},e.length!==0&&(e.charCodeAt(e.length-1)!==10&&e.charCodeAt(e.length-1)!==13&&(e+=`
`),e.charCodeAt(0)===65279&&(e=e.slice(1)));var n=new DE(e,t),i=e.indexOf("\0");for(i!==-1&&(n.position=i,kt(n,"null byte is not allowed in input")),n.input+="\0";n.input.charCodeAt(n.position)===32;)n.lineIndent+=1,n.position+=1;for(;n.position<n.length-1;)HE(n);return n.documents}T(Dy,"loadDocuments");function X8(e,t,n){t!==null&&typeof t=="object"&&typeof n>"u"&&(n=t,t=null);var i=Dy(e,n);if(typeof t!="function")return i;for(var a=0,s=i.length;a<s;a+=1)t(i[a])}T(X8,"loadAll$1");function GE(e,t){var n=Dy(e,t);if(n.length!==0){if(n.length===1)return n[0];throw new Dn("expected a single document in the stream, but found more")}}T(GE,"load$1");var J8=GE,K8={load:J8},VE=Object.prototype.toString,YE=Object.prototype.hasOwnProperty,Iy=65279,Q8=9,lc=10,Z8=13,j8=32,tz=33,ez=34,_m=35,nz=37,iz=38,rz=39,az=42,WE=44,oz=45,jh=58,sz=61,lz=62,cz=63,uz=64,XE=91,JE=93,hz=96,KE=123,fz=124,QE=125,hn={};hn[0]="\\0";hn[7]="\\a";hn[8]="\\b";hn[9]="\\t";hn[10]="\\n";hn[11]="\\v";hn[12]="\\f";hn[13]="\\r";hn[27]="\\e";hn[34]='\\"';hn[92]="\\\\";hn[133]="\\N";hn[160]="\\_";hn[8232]="\\L";hn[8233]="\\P";var dz=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],pz=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function ZE(e,t){var n,i,a,s,l,c,f;if(t===null)return{};for(n={},i=Object.keys(t),a=0,s=i.length;a<s;a+=1)l=i[a],c=String(t[l]),l.slice(0,2)==="!!"&&(l="tag:yaml.org,2002:"+l.slice(2)),f=e.compiledTypeMap.fallback[l],f&&YE.call(f.styleAliases,c)&&(c=f.styleAliases[c]),n[l]=c;return n}T(ZE,"compileStyleMap");function jE(e){var t,n,i;if(t=e.toString(16).toUpperCase(),e<=255)n="x",i=2;else if(e<=65535)n="u",i=4;else if(e<=4294967295)n="U",i=8;else throw new Dn("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+n+ze.repeat("0",i-t.length)+t}T(jE,"encodeHex");var gz=1,cc=2;function tw(e){this.schema=e.schema||SE,this.indent=Math.max(1,e.indent||2),this.noArrayIndent=e.noArrayIndent||!1,this.skipInvalid=e.skipInvalid||!1,this.flowLevel=ze.isNothing(e.flowLevel)?-1:e.flowLevel,this.styleMap=ZE(this.schema,e.styles||null),this.sortKeys=e.sortKeys||!1,this.lineWidth=e.lineWidth||80,this.noRefs=e.noRefs||!1,this.noCompatMode=e.noCompatMode||!1,this.condenseFlow=e.condenseFlow||!1,this.quotingType=e.quotingType==='"'?cc:gz,this.forceQuotes=e.forceQuotes||!1,this.replacer=typeof e.replacer=="function"?e.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}T(tw,"State");function xm(e,t){for(var n=ze.repeat(" ",t),i=0,a=-1,s="",l,c=e.length;i<c;)a=e.indexOf(`
`,i),a===-1?(l=e.slice(i),i=c):(l=e.slice(i,a+1),i=a+1),l.length&&l!==`
`&&(s+=n),s+=l;return s}T(xm,"indentString");function tf(e,t){return`
`+ze.repeat(" ",e.indent*t)}T(tf,"generateNextLine");function ew(e,t){var n,i,a;for(n=0,i=e.implicitTypes.length;n<i;n+=1)if(a=e.implicitTypes[n],a.resolve(t))return!0;return!1}T(ew,"testImplicitResolving");function uc(e){return e===j8||e===Q8}T(uc,"isWhitespace");function ds(e){return 32<=e&&e<=126||161<=e&&e<=55295&&e!==8232&&e!==8233||57344<=e&&e<=65533&&e!==Iy||65536<=e&&e<=1114111}T(ds,"isPrintable");function Cm(e){return ds(e)&&e!==Iy&&e!==Z8&&e!==lc}T(Cm,"isNsCharOrWhitespace");function Sm(e,t,n){var i=Cm(e),a=i&&!uc(e);return(n?i:i&&e!==WE&&e!==XE&&e!==JE&&e!==KE&&e!==QE)&&e!==_m&&!(t===jh&&!a)||Cm(t)&&!uc(t)&&e===_m||t===jh&&a}T(Sm,"isPlainSafe");function nw(e){return ds(e)&&e!==Iy&&!uc(e)&&e!==oz&&e!==cz&&e!==jh&&e!==WE&&e!==XE&&e!==JE&&e!==KE&&e!==QE&&e!==_m&&e!==iz&&e!==az&&e!==tz&&e!==fz&&e!==sz&&e!==lz&&e!==rz&&e!==ez&&e!==nz&&e!==uz&&e!==hz}T(nw,"isPlainSafeFirst");function iw(e){return!uc(e)&&e!==jh}T(iw,"isPlainSafeLast");function Wo(e,t){var n=e.charCodeAt(t),i;return n>=55296&&n<=56319&&t+1<e.length&&(i=e.charCodeAt(t+1),i>=56320&&i<=57343)?(n-55296)*1024+i-56320+65536:n}T(Wo,"codePointAt");function By(e){var t=/^\n* /;return t.test(e)}T(By,"needIndentIndicator");var rw=1,bm=2,aw=3,ow=4,Ho=5;function sw(e,t,n,i,a,s,l,c){var f,h=0,d=null,m=!1,v=!1,x=i!==-1,S=-1,b=nw(Wo(e,0))&&iw(Wo(e,e.length-1));if(t||l)for(f=0;f<e.length;h>=65536?f+=2:f++){if(h=Wo(e,f),!ds(h))return Ho;b=b&&Sm(h,d,c),d=h}else{for(f=0;f<e.length;h>=65536?f+=2:f++){if(h=Wo(e,f),h===lc)m=!0,x&&(v=v||f-S-1>i&&e[S+1]!==" ",S=f);else if(!ds(h))return Ho;b=b&&Sm(h,d,c),d=h}v=v||x&&f-S-1>i&&e[S+1]!==" "}return!m&&!v?b&&!l&&!a(e)?rw:s===cc?Ho:bm:n>9&&By(e)?Ho:l?s===cc?Ho:bm:v?ow:aw}T(sw,"chooseScalarStyle");function lw(e,t,n,i,a){e.dump=(function(){if(t.length===0)return e.quotingType===cc?'""':"''";if(!e.noCompatMode&&(dz.indexOf(t)!==-1||pz.test(t)))return e.quotingType===cc?'"'+t+'"':"'"+t+"'";var s=e.indent*Math.max(1,n),l=e.lineWidth===-1?-1:Math.max(Math.min(e.lineWidth,40),e.lineWidth-s),c=i||e.flowLevel>-1&&n>=e.flowLevel;function f(h){return ew(e,h)}switch(T(f,"testAmbiguity"),sw(t,c,e.indent,l,f,e.quotingType,e.forceQuotes&&!i,a)){case rw:return t;case bm:return"'"+t.replace(/'/g,"''")+"'";case aw:return"|"+Tm(t,e.indent)+Em(xm(t,s));case ow:return">"+Tm(t,e.indent)+Em(xm(cw(t,l),s));case Ho:return'"'+uw(t)+'"';default:throw new Dn("impossible error: invalid scalar style")}})()}T(lw,"writeScalar");function Tm(e,t){var n=By(e)?String(t):"",i=e[e.length-1]===`
`,a=i&&(e[e.length-2]===`
`||e===`
`),s=a?"+":i?"":"-";return n+s+`
`}T(Tm,"blockHeader");function Em(e){return e[e.length-1]===`
`?e.slice(0,-1):e}T(Em,"dropEndingNewline");function cw(e,t){for(var n=/(\n+)([^\n]*)/g,i=(function(){var h=e.indexOf(`
`);return h=h!==-1?h:e.length,n.lastIndex=h,wm(e.slice(0,h),t)})(),a=e[0]===`
`||e[0]===" ",s,l;l=n.exec(e);){var c=l[1],f=l[2];s=f[0]===" ",i+=c+(!a&&!s&&f!==""?`
`:"")+wm(f,t),a=s}return i}T(cw,"foldString");function wm(e,t){if(e===""||e[0]===" ")return e;for(var n=/ [^ ]/g,i,a=0,s,l=0,c=0,f="";i=n.exec(e);)c=i.index,c-a>t&&(s=l>a?l:c,f+=`
`+e.slice(a,s),a=s+1),l=c;return f+=`
`,e.length-a>t&&l>a?f+=e.slice(a,l)+`
`+e.slice(l+1):f+=e.slice(a),f.slice(1)}T(wm,"foldLine");function uw(e){for(var t="",n=0,i,a=0;a<e.length;n>=65536?a+=2:a++)n=Wo(e,a),i=hn[n],!i&&ds(n)?(t+=e[a],n>=65536&&(t+=e[a+1])):t+=i||jE(n);return t}T(uw,"escapeString");function hw(e,t,n){var i="",a=e.tag,s,l,c;for(s=0,l=n.length;s<l;s+=1)c=n[s],e.replacer&&(c=e.replacer.call(n,String(s),c)),(zi(e,t,c,!1,!1)||typeof c>"u"&&zi(e,t,null,!1,!1))&&(i!==""&&(i+=","+(e.condenseFlow?"":" ")),i+=e.dump);e.tag=a,e.dump="["+i+"]"}T(hw,"writeFlowSequence");function Am(e,t,n,i){var a="",s=e.tag,l,c,f;for(l=0,c=n.length;l<c;l+=1)f=n[l],e.replacer&&(f=e.replacer.call(n,String(l),f)),(zi(e,t+1,f,!0,!0,!1,!0)||typeof f>"u"&&zi(e,t+1,null,!0,!0,!1,!0))&&((!i||a!=="")&&(a+=tf(e,t)),e.dump&&lc===e.dump.charCodeAt(0)?a+="-":a+="- ",a+=e.dump);e.tag=s,e.dump=a||"[]"}T(Am,"writeBlockSequence");function fw(e,t,n){var i="",a=e.tag,s=Object.keys(n),l,c,f,h,d;for(l=0,c=s.length;l<c;l+=1)d="",i!==""&&(d+=", "),e.condenseFlow&&(d+='"'),f=s[l],h=n[f],e.replacer&&(h=e.replacer.call(n,f,h)),zi(e,t,f,!1,!1)&&(e.dump.length>1024&&(d+="? "),d+=e.dump+(e.condenseFlow?'"':"")+":"+(e.condenseFlow?"":" "),zi(e,t,h,!1,!1)&&(d+=e.dump,i+=d));e.tag=a,e.dump="{"+i+"}"}T(fw,"writeFlowMapping");function dw(e,t,n,i){var a="",s=e.tag,l=Object.keys(n),c,f,h,d,m,v;if(e.sortKeys===!0)l.sort();else if(typeof e.sortKeys=="function")l.sort(e.sortKeys);else if(e.sortKeys)throw new Dn("sortKeys must be a boolean or a function");for(c=0,f=l.length;c<f;c+=1)v="",(!i||a!=="")&&(v+=tf(e,t)),h=l[c],d=n[h],e.replacer&&(d=e.replacer.call(n,h,d)),zi(e,t+1,h,!0,!0,!0)&&(m=e.tag!==null&&e.tag!=="?"||e.dump&&e.dump.length>1024,m&&(e.dump&&lc===e.dump.charCodeAt(0)?v+="?":v+="? "),v+=e.dump,m&&(v+=tf(e,t)),zi(e,t+1,d,!0,m)&&(e.dump&&lc===e.dump.charCodeAt(0)?v+=":":v+=": ",v+=e.dump,a+=v));e.tag=s,e.dump=a||"{}"}T(dw,"writeBlockMapping");function km(e,t,n){var i,a,s,l,c,f;for(a=n?e.explicitTypes:e.implicitTypes,s=0,l=a.length;s<l;s+=1)if(c=a[s],(c.instanceOf||c.predicate)&&(!c.instanceOf||typeof t=="object"&&t instanceof c.instanceOf)&&(!c.predicate||c.predicate(t))){if(n?c.multi&&c.representName?e.tag=c.representName(t):e.tag=c.tag:e.tag="?",c.represent){if(f=e.styleMap[c.tag]||c.defaultStyle,VE.call(c.represent)==="[object Function]")i=c.represent(t,f);else if(YE.call(c.represent,f))i=c.represent[f](t,f);else throw new Dn("!<"+c.tag+'> tag resolver accepts not "'+f+'" style');e.dump=i}return!0}return!1}T(km,"detectType");function zi(e,t,n,i,a,s,l){e.tag=null,e.dump=n,km(e,n,!1)||km(e,n,!0);var c=VE.call(e.dump),f=i,h;i&&(i=e.flowLevel<0||e.flowLevel>t);var d=c==="[object Object]"||c==="[object Array]",m,v;if(d&&(m=e.duplicates.indexOf(n),v=m!==-1),(e.tag!==null&&e.tag!=="?"||v||e.indent!==2&&t>0)&&(a=!1),v&&e.usedDuplicates[m])e.dump="*ref_"+m;else{if(d&&v&&!e.usedDuplicates[m]&&(e.usedDuplicates[m]=!0),c==="[object Object]")i&&Object.keys(e.dump).length!==0?(dw(e,t,e.dump,a),v&&(e.dump="&ref_"+m+e.dump)):(fw(e,t,e.dump),v&&(e.dump="&ref_"+m+" "+e.dump));else if(c==="[object Array]")i&&e.dump.length!==0?(e.noArrayIndent&&!l&&t>0?Am(e,t-1,e.dump,a):Am(e,t,e.dump,a),v&&(e.dump="&ref_"+m+e.dump)):(hw(e,t,e.dump),v&&(e.dump="&ref_"+m+" "+e.dump));else if(c==="[object String]")e.tag!=="?"&&lw(e,e.dump,t,s,f);else{if(c==="[object Undefined]")return!1;if(e.skipInvalid)return!1;throw new Dn("unacceptable kind of an object to dump "+c)}e.tag!==null&&e.tag!=="?"&&(h=encodeURI(e.tag[0]==="!"?e.tag.slice(1):e.tag).replace(/!/g,"%21"),e.tag[0]==="!"?h="!"+h:h.slice(0,18)==="tag:yaml.org,2002:"?h="!!"+h.slice(18):h="!<"+h+">",e.dump=h+" "+e.dump)}return!0}T(zi,"writeNode");function pw(e,t){var n=[],i=[],a,s;for(ef(e,n,i),a=0,s=i.length;a<s;a+=1)t.duplicates.push(n[i[a]]);t.usedDuplicates=new Array(s)}T(pw,"getDuplicateReferences");function ef(e,t,n){var i,a,s;if(e!==null&&typeof e=="object")if(a=t.indexOf(e),a!==-1)n.indexOf(a)===-1&&n.push(a);else if(t.push(e),Array.isArray(e))for(a=0,s=e.length;a<s;a+=1)ef(e[a],t,n);else for(i=Object.keys(e),a=0,s=i.length;a<s;a+=1)ef(e[i[a]],t,n)}T(ef,"inspectNode");function mz(e,t){t=t||{};var n=new tw(t);n.noRefs||pw(e,n);var i=e;return n.replacer&&(i=n.replacer.call({"":i},"",i)),zi(n,0,i,!0,!0)?n.dump+`
`:""}T(mz,"dump$1");function yz(e,t){return function(){throw new Error("Function yaml."+e+" is removed in js-yaml 4. Use yaml."+t+" instead, which is now safe by default.")}}T(yz,"renamed");var vz=aE,_z=K8.load;/*! Bundled license information:

js-yaml/dist/js-yaml.mjs:
  (*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT *)
*/var on={aggregation:17.25,extension:17.25,composition:17.25,dependency:6,lollipop:13.5,arrow_point:4},wb={arrow_point:9,arrow_cross:12.5,arrow_circle:12.5};function Yl(e,t){if(e===void 0||t===void 0)return{angle:0,deltaX:0,deltaY:0};e=Se(e),t=Se(t);const[n,i]=[e.x,e.y],[a,s]=[t.x,t.y],l=a-n,c=s-i;return{angle:Math.atan(c/l),deltaX:l,deltaY:c}}T(Yl,"calculateDeltaAndAngle");var Se=T(e=>Array.isArray(e)?{x:e[0],y:e[1]}:e,"pointTransformer"),xz=T(e=>({x:T(function(t,n,i){let a=0;const s=Se(i[0]).x<Se(i[i.length-1]).x?"left":"right";if(n===0&&Object.hasOwn(on,e.arrowTypeStart)){const{angle:x,deltaX:S}=Yl(i[0],i[1]);a=on[e.arrowTypeStart]*Math.cos(x)*(S>=0?1:-1)}else if(n===i.length-1&&Object.hasOwn(on,e.arrowTypeEnd)){const{angle:x,deltaX:S}=Yl(i[i.length-1],i[i.length-2]);a=on[e.arrowTypeEnd]*Math.cos(x)*(S>=0?1:-1)}const l=Math.abs(Se(t).x-Se(i[i.length-1]).x),c=Math.abs(Se(t).y-Se(i[i.length-1]).y),f=Math.abs(Se(t).x-Se(i[0]).x),h=Math.abs(Se(t).y-Se(i[0]).y),d=on[e.arrowTypeStart],m=on[e.arrowTypeEnd],v=1;if(l<m&&l>0&&c<m){let x=m+v-l;x*=s==="right"?-1:1,a-=x}if(f<d&&f>0&&h<d){let x=d+v-f;x*=s==="right"?-1:1,a+=x}return Se(t).x+a},"x"),y:T(function(t,n,i){let a=0;const s=Se(i[0]).y<Se(i[i.length-1]).y?"down":"up";if(n===0&&Object.hasOwn(on,e.arrowTypeStart)){const{angle:x,deltaY:S}=Yl(i[0],i[1]);a=on[e.arrowTypeStart]*Math.abs(Math.sin(x))*(S>=0?1:-1)}else if(n===i.length-1&&Object.hasOwn(on,e.arrowTypeEnd)){const{angle:x,deltaY:S}=Yl(i[i.length-1],i[i.length-2]);a=on[e.arrowTypeEnd]*Math.abs(Math.sin(x))*(S>=0?1:-1)}const l=Math.abs(Se(t).y-Se(i[i.length-1]).y),c=Math.abs(Se(t).x-Se(i[i.length-1]).x),f=Math.abs(Se(t).y-Se(i[0]).y),h=Math.abs(Se(t).x-Se(i[0]).x),d=on[e.arrowTypeStart],m=on[e.arrowTypeEnd],v=1;if(l<m&&l>0&&c<m){let x=m+v-l;x*=s==="up"?-1:1,a-=x}if(f<d&&f>0&&h<d){let x=d+v-f;x*=s==="up"?-1:1,a+=x}return Se(t).y+a},"y")}),"getLineFunctionsWithOffset"),Fy=T(({flowchart:e})=>{var a,s;const t=((a=e==null?void 0:e.subGraphTitleMargin)==null?void 0:a.top)??0,n=((s=e==null?void 0:e.subGraphTitleMargin)==null?void 0:s.bottom)??0,i=t+n;return{subGraphTitleTopMargin:t,subGraphTitleBottomMargin:n,subGraphTitleTotalMargin:i}},"getSubGraphTitleMargins"),Cz=T(e=>{const{handDrawnSeed:t}=oe();return{fill:e,hachureAngle:120,hachureGap:4,fillWeight:2,roughness:.7,stroke:e,seed:t}},"solidStateFill"),xs=T(e=>{const t=Sz([...e.cssCompiledStyles||[],...e.cssStyles||[],...e.labelStyle||[]]);return{stylesMap:t,stylesArray:[...t]}},"compileStyles"),Sz=T(e=>{const t=new Map;return e.forEach(n=>{const[i,a]=n.split(":");t.set(i.trim(),a==null?void 0:a.trim())}),t},"styles2Map"),gw=T(e=>e==="color"||e==="font-size"||e==="font-family"||e==="font-weight"||e==="font-style"||e==="text-decoration"||e==="text-align"||e==="text-transform"||e==="line-height"||e==="letter-spacing"||e==="word-spacing"||e==="text-shadow"||e==="text-overflow"||e==="white-space"||e==="word-wrap"||e==="word-break"||e==="overflow-wrap"||e==="hyphens","isLabelStyle"),Tt=T(e=>{const{stylesArray:t}=xs(e),n=[],i=[],a=[],s=[];return t.forEach(l=>{const c=l[0];gw(c)?n.push(l.join(":")+" !important"):(i.push(l.join(":")+" !important"),c.includes("stroke")&&a.push(l.join(":")+" !important"),c==="fill"&&s.push(l.join(":")+" !important"))}),{labelStyles:n.join(";"),nodeStyles:i.join(";"),stylesArray:t,borderStyles:a,backgroundStyles:s}},"styles2String"),bt=T((e,t)=>{var f;const{themeVariables:n,handDrawnSeed:i}=oe(),{nodeBorder:a,mainBkg:s}=n,{stylesMap:l}=xs(e);return Object.assign({roughness:.7,fill:l.get("fill")||s,fillStyle:"hachure",fillWeight:4,hachureGap:5.2,stroke:l.get("stroke")||a,seed:i,strokeWidth:((f=l.get("stroke-width"))==null?void 0:f.replace("px",""))||1.3,fillLineDash:[0,0],strokeLineDash:bz(l.get("stroke-dasharray"))},t)},"userNodeOverrides"),bz=T(e=>{if(!e)return[0,0];const t=e.trim().split(/\s+/).map(Number);if(t.length===1){const a=isNaN(t[0])?0:t[0];return[a,a]}const n=isNaN(t[0])?0:t[0],i=isNaN(t[1])?0:t[1];return[n,i]},"getStrokeDashArray"),Bl={},Ue={},Ab;function Tz(){return Ab||(Ab=1,Object.defineProperty(Ue,"__esModule",{value:!0}),Ue.BLANK_URL=Ue.relativeFirstCharacters=Ue.whitespaceEscapeCharsRegex=Ue.urlSchemeRegex=Ue.ctrlCharactersRegex=Ue.htmlCtrlEntityRegex=Ue.htmlEntitiesRegex=Ue.invalidProtocolRegex=void 0,Ue.invalidProtocolRegex=/^([^\w]*)(javascript|data|vbscript)/im,Ue.htmlEntitiesRegex=/&#(\w+)(^\w|;)?/g,Ue.htmlCtrlEntityRegex=/&(newline|tab);/gi,Ue.ctrlCharactersRegex=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,Ue.urlSchemeRegex=/^.+(:|&colon;)/gim,Ue.whitespaceEscapeCharsRegex=/(\\|%5[cC])((%(6[eE]|72|74))|[nrt])/g,Ue.relativeFirstCharacters=[".","/"],Ue.BLANK_URL="about:blank"),Ue}var kb;function Ez(){if(kb)return Bl;kb=1,Object.defineProperty(Bl,"__esModule",{value:!0}),Bl.sanitizeUrl=void 0;var e=Tz();function t(l){return e.relativeFirstCharacters.indexOf(l[0])>-1}function n(l){var c=l.replace(e.ctrlCharactersRegex,"");return c.replace(e.htmlEntitiesRegex,function(f,h){return String.fromCharCode(h)})}function i(l){return URL.canParse(l)}function a(l){try{return decodeURIComponent(l)}catch{return l}}function s(l){if(!l)return e.BLANK_URL;var c,f=a(l.trim());do f=n(f).replace(e.htmlCtrlEntityRegex,"").replace(e.ctrlCharactersRegex,"").replace(e.whitespaceEscapeCharsRegex,"").trim(),f=a(f),c=f.match(e.ctrlCharactersRegex)||f.match(e.htmlEntitiesRegex)||f.match(e.htmlCtrlEntityRegex)||f.match(e.whitespaceEscapeCharsRegex);while(c&&c.length>0);var h=f;if(!h)return e.BLANK_URL;if(t(h))return h;var d=h.trimStart(),m=d.match(e.urlSchemeRegex);if(!m)return h;var v=m[0].toLowerCase().trim();if(e.invalidProtocolRegex.test(v))return e.BLANK_URL;var x=d.replace(/\\/g,"/");if(v==="mailto:"||v.includes("://"))return x;if(v==="http:"||v==="https:"){if(!i(x))return e.BLANK_URL;var S=new URL(x);return S.protocol=S.protocol.toLowerCase(),S.hostname=S.hostname.toLowerCase(),S.toString()}return x}return Bl.sanitizeUrl=s,Bl}var wz=Ez(),mw=typeof global=="object"&&global&&global.Object===Object&&global,Az=typeof self=="object"&&self&&self.Object===Object&&self,Hi=mw||Az||Function("return this")(),nf=Hi.Symbol,yw=Object.prototype,kz=yw.hasOwnProperty,Mz=yw.toString,Fl=nf?nf.toStringTag:void 0;function Rz(e){var t=kz.call(e,Fl),n=e[Fl];try{e[Fl]=void 0;var i=!0}catch{}var a=Mz.call(e);return i&&(t?e[Fl]=n:delete e[Fl]),a}var Nz=Object.prototype,Lz=Nz.toString;function Dz(e){return Lz.call(e)}var Iz="[object Null]",Bz="[object Undefined]",Mb=nf?nf.toStringTag:void 0;function Cs(e){return e==null?e===void 0?Bz:Iz:Mb&&Mb in Object(e)?Rz(e):Dz(e)}function Qa(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Fz="[object AsyncFunction]",Oz="[object Function]",Pz="[object GeneratorFunction]",Uz="[object Proxy]";function Oy(e){if(!Qa(e))return!1;var t=Cs(e);return t==Oz||t==Pz||t==Fz||t==Uz}var Eg=Hi["__core-js_shared__"],Rb=(function(){var e=/[^.]+$/.exec(Eg&&Eg.keys&&Eg.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""})();function $z(e){return!!Rb&&Rb in e}var zz=Function.prototype,qz=zz.toString;function Za(e){if(e!=null){try{return qz.call(e)}catch{}try{return e+""}catch{}}return""}var Hz=/[\\^$.*+?()[\]{}|]/g,Gz=/^\[object .+?Constructor\]$/,Vz=Function.prototype,Yz=Object.prototype,Wz=Vz.toString,Xz=Yz.hasOwnProperty,Jz=RegExp("^"+Wz.call(Xz).replace(Hz,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Kz(e){if(!Qa(e)||$z(e))return!1;var t=Oy(e)?Jz:Gz;return t.test(Za(e))}function Qz(e,t){return e==null?void 0:e[t]}function ja(e,t){var n=Qz(e,t);return Kz(n)?n:void 0}var hc=ja(Object,"create");function Zz(){this.__data__=hc?hc(null):{},this.size=0}function jz(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var tq="__lodash_hash_undefined__",eq=Object.prototype,nq=eq.hasOwnProperty;function iq(e){var t=this.__data__;if(hc){var n=t[e];return n===tq?void 0:n}return nq.call(t,e)?t[e]:void 0}var rq=Object.prototype,aq=rq.hasOwnProperty;function oq(e){var t=this.__data__;return hc?t[e]!==void 0:aq.call(t,e)}var sq="__lodash_hash_undefined__";function lq(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=hc&&t===void 0?sq:t,this}function Wa(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}Wa.prototype.clear=Zz;Wa.prototype.delete=jz;Wa.prototype.get=iq;Wa.prototype.has=oq;Wa.prototype.set=lq;function cq(){this.__data__=[],this.size=0}function Ff(e,t){return e===t||e!==e&&t!==t}function Of(e,t){for(var n=e.length;n--;)if(Ff(e[n][0],t))return n;return-1}var uq=Array.prototype,hq=uq.splice;function fq(e){var t=this.__data__,n=Of(t,e);if(n<0)return!1;var i=t.length-1;return n==i?t.pop():hq.call(t,n,1),--this.size,!0}function dq(e){var t=this.__data__,n=Of(t,e);return n<0?void 0:t[n][1]}function pq(e){return Of(this.__data__,e)>-1}function gq(e,t){var n=this.__data__,i=Of(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this}function Er(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}Er.prototype.clear=cq;Er.prototype.delete=fq;Er.prototype.get=dq;Er.prototype.has=pq;Er.prototype.set=gq;var fc=ja(Hi,"Map");function mq(){this.size=0,this.__data__={hash:new Wa,map:new(fc||Er),string:new Wa}}function yq(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function Pf(e,t){var n=e.__data__;return yq(t)?n[typeof t=="string"?"string":"hash"]:n.map}function vq(e){var t=Pf(this,e).delete(e);return this.size-=t?1:0,t}function _q(e){return Pf(this,e).get(e)}function xq(e){return Pf(this,e).has(e)}function Cq(e,t){var n=Pf(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this}function la(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}la.prototype.clear=mq;la.prototype.delete=vq;la.prototype.get=_q;la.prototype.has=xq;la.prototype.set=Cq;var Sq="Expected a function";function Cc(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(Sq);var n=function(){var i=arguments,a=t?t.apply(this,i):i[0],s=n.cache;if(s.has(a))return s.get(a);var l=e.apply(this,i);return n.cache=s.set(a,l)||s,l};return n.cache=new(Cc.Cache||la),n}Cc.Cache=la;function bq(){this.__data__=new Er,this.size=0}function Tq(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}function Eq(e){return this.__data__.get(e)}function wq(e){return this.__data__.has(e)}var Aq=200;function kq(e,t){var n=this.__data__;if(n instanceof Er){var i=n.__data__;if(!fc||i.length<Aq-1)return i.push([e,t]),this.size=++n.size,this;n=this.__data__=new la(i)}return n.set(e,t),this.size=n.size,this}function Ss(e){var t=this.__data__=new Er(e);this.size=t.size}Ss.prototype.clear=bq;Ss.prototype.delete=Tq;Ss.prototype.get=Eq;Ss.prototype.has=wq;Ss.prototype.set=kq;var rf=(function(){try{var e=ja(Object,"defineProperty");return e({},"",{}),e}catch{}})();function Py(e,t,n){t=="__proto__"&&rf?rf(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function Mm(e,t,n){(n!==void 0&&!Ff(e[t],n)||n===void 0&&!(t in e))&&Py(e,t,n)}function Mq(e){return function(t,n,i){for(var a=-1,s=Object(t),l=i(t),c=l.length;c--;){var f=l[++a];if(n(s[f],f,s)===!1)break}return t}}var Rq=Mq(),vw=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Nb=vw&&typeof module=="object"&&module&&!module.nodeType&&module,Nq=Nb&&Nb.exports===vw,Lb=Nq?Hi.Buffer:void 0,Db=Lb?Lb.allocUnsafe:void 0;function Lq(e,t){if(t)return e.slice();var n=e.length,i=Db?Db(n):new e.constructor(n);return e.copy(i),i}var Ib=Hi.Uint8Array;function Dq(e){var t=new e.constructor(e.byteLength);return new Ib(t).set(new Ib(e)),t}function Iq(e,t){var n=t?Dq(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function Bq(e,t){var n=-1,i=e.length;for(t||(t=Array(i));++n<i;)t[n]=e[n];return t}var Bb=Object.create,Fq=(function(){function e(){}return function(t){if(!Qa(t))return{};if(Bb)return Bb(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}})();function _w(e,t){return function(n){return e(t(n))}}var xw=_w(Object.getPrototypeOf,Object),Oq=Object.prototype;function Uf(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||Oq;return e===n}function Pq(e){return typeof e.constructor=="function"&&!Uf(e)?Fq(xw(e)):{}}function Sc(e){return e!=null&&typeof e=="object"}var Uq="[object Arguments]";function Fb(e){return Sc(e)&&Cs(e)==Uq}var Cw=Object.prototype,$q=Cw.hasOwnProperty,zq=Cw.propertyIsEnumerable,af=Fb((function(){return arguments})())?Fb:function(e){return Sc(e)&&$q.call(e,"callee")&&!zq.call(e,"callee")},of=Array.isArray,qq=9007199254740991;function Sw(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=qq}function $f(e){return e!=null&&Sw(e.length)&&!Oy(e)}function Hq(e){return Sc(e)&&$f(e)}function Gq(){return!1}var bw=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Ob=bw&&typeof module=="object"&&module&&!module.nodeType&&module,Vq=Ob&&Ob.exports===bw,Pb=Vq?Hi.Buffer:void 0,Yq=Pb?Pb.isBuffer:void 0,Uy=Yq||Gq,Wq="[object Object]",Xq=Function.prototype,Jq=Object.prototype,Tw=Xq.toString,Kq=Jq.hasOwnProperty,Qq=Tw.call(Object);function Zq(e){if(!Sc(e)||Cs(e)!=Wq)return!1;var t=xw(e);if(t===null)return!0;var n=Kq.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&Tw.call(n)==Qq}var jq="[object Arguments]",tH="[object Array]",eH="[object Boolean]",nH="[object Date]",iH="[object Error]",rH="[object Function]",aH="[object Map]",oH="[object Number]",sH="[object Object]",lH="[object RegExp]",cH="[object Set]",uH="[object String]",hH="[object WeakMap]",fH="[object ArrayBuffer]",dH="[object DataView]",pH="[object Float32Array]",gH="[object Float64Array]",mH="[object Int8Array]",yH="[object Int16Array]",vH="[object Int32Array]",_H="[object Uint8Array]",xH="[object Uint8ClampedArray]",CH="[object Uint16Array]",SH="[object Uint32Array]",_e={};_e[pH]=_e[gH]=_e[mH]=_e[yH]=_e[vH]=_e[_H]=_e[xH]=_e[CH]=_e[SH]=!0;_e[jq]=_e[tH]=_e[fH]=_e[eH]=_e[dH]=_e[nH]=_e[iH]=_e[rH]=_e[aH]=_e[oH]=_e[sH]=_e[lH]=_e[cH]=_e[uH]=_e[hH]=!1;function bH(e){return Sc(e)&&Sw(e.length)&&!!_e[Cs(e)]}function TH(e){return function(t){return e(t)}}var Ew=typeof exports=="object"&&exports&&!exports.nodeType&&exports,ec=Ew&&typeof module=="object"&&module&&!module.nodeType&&module,EH=ec&&ec.exports===Ew,wg=EH&&mw.process,Ub=(function(){try{var e=ec&&ec.require&&ec.require("util").types;return e||wg&&wg.binding&&wg.binding("util")}catch{}})(),$b=Ub&&Ub.isTypedArray,$y=$b?TH($b):bH;function Rm(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}var wH=Object.prototype,AH=wH.hasOwnProperty;function kH(e,t,n){var i=e[t];(!(AH.call(e,t)&&Ff(i,n))||n===void 0&&!(t in e))&&Py(e,t,n)}function MH(e,t,n,i){var a=!n;n||(n={});for(var s=-1,l=t.length;++s<l;){var c=t[s],f=void 0;f===void 0&&(f=e[c]),a?Py(n,c,f):kH(n,c,f)}return n}function RH(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i}var NH=9007199254740991,LH=/^(?:0|[1-9]\d*)$/;function ww(e,t){var n=typeof e;return t=t??NH,!!t&&(n=="number"||n!="symbol"&&LH.test(e))&&e>-1&&e%1==0&&e<t}var DH=Object.prototype,IH=DH.hasOwnProperty;function BH(e,t){var n=of(e),i=!n&&af(e),a=!n&&!i&&Uy(e),s=!n&&!i&&!a&&$y(e),l=n||i||a||s,c=l?RH(e.length,String):[],f=c.length;for(var h in e)(t||IH.call(e,h))&&!(l&&(h=="length"||a&&(h=="offset"||h=="parent")||s&&(h=="buffer"||h=="byteLength"||h=="byteOffset")||ww(h,f)))&&c.push(h);return c}function FH(e){var t=[];if(e!=null)for(var n in Object(e))t.push(n);return t}var OH=Object.prototype,PH=OH.hasOwnProperty;function UH(e){if(!Qa(e))return FH(e);var t=Uf(e),n=[];for(var i in e)i=="constructor"&&(t||!PH.call(e,i))||n.push(i);return n}function Aw(e){return $f(e)?BH(e,!0):UH(e)}function $H(e){return MH(e,Aw(e))}function zH(e,t,n,i,a,s,l){var c=Rm(e,n),f=Rm(t,n),h=l.get(f);if(h){Mm(e,n,h);return}var d=s?s(c,f,n+"",e,t,l):void 0,m=d===void 0;if(m){var v=of(f),x=!v&&Uy(f),S=!v&&!x&&$y(f);d=f,v||x||S?of(c)?d=c:Hq(c)?d=Bq(c):x?(m=!1,d=Lq(f,!0)):S?(m=!1,d=Iq(f,!0)):d=[]:Zq(f)||af(f)?(d=c,af(c)?d=$H(c):(!Qa(c)||Oy(c))&&(d=Pq(f))):m=!1}m&&(l.set(f,d),a(d,f,i,s,l),l.delete(f)),Mm(e,n,d)}function kw(e,t,n,i,a){e!==t&&Rq(t,function(s,l){if(a||(a=new Ss),Qa(s))zH(e,t,l,n,kw,i,a);else{var c=i?i(Rm(e,l),s,l+"",e,t,a):void 0;c===void 0&&(c=s),Mm(e,l,c)}},Aw)}function Mw(e){return e}function qH(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var zb=Math.max;function HH(e,t,n){return t=zb(t===void 0?e.length-1:t,0),function(){for(var i=arguments,a=-1,s=zb(i.length-t,0),l=Array(s);++a<s;)l[a]=i[t+a];a=-1;for(var c=Array(t+1);++a<t;)c[a]=i[a];return c[t]=n(l),qH(e,this,c)}}function GH(e){return function(){return e}}var VH=rf?function(e,t){return rf(e,"toString",{configurable:!0,enumerable:!1,value:GH(t),writable:!0})}:Mw,YH=800,WH=16,XH=Date.now;function JH(e){var t=0,n=0;return function(){var i=XH(),a=WH-(i-n);if(n=i,a>0){if(++t>=YH)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var KH=JH(VH);function QH(e,t){return KH(HH(e,t,Mw),e+"")}function ZH(e,t,n){if(!Qa(n))return!1;var i=typeof t;return(i=="number"?$f(n)&&ww(t,n.length):i=="string"&&t in n)?Ff(n[t],e):!1}function jH(e){return QH(function(t,n){var i=-1,a=n.length,s=a>1?n[a-1]:void 0,l=a>2?n[2]:void 0;for(s=e.length>3&&typeof s=="function"?(a--,s):void 0,l&&ZH(n[0],n[1],l)&&(s=a<3?void 0:s,a=1),t=Object(t);++i<a;){var c=n[i];c&&e(t,c,i,s)}return t})}var t9=jH(function(e,t,n){kw(e,t,n)}),e9="",n9={curveBasis:xh,curveBasisClosed:r8,curveBasisOpen:a8,curveBumpX:p2,curveBumpY:g2,curveBundle:o8,curveCardinalClosed:s8,curveCardinalOpen:l8,curveCardinal:_2,curveCatmullRomClosed:c8,curveCatmullRomOpen:u8,curveCatmullRom:C2,curveLinear:Yh,curveLinearClosed:h8,curveMonotoneX:A2,curveMonotoneY:k2,curveNatural:R2,curveStep:N2,curveStepAfter:D2,curveStepBefore:L2},i9=/\s*(?:(\w+)(?=:):|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,r9=T(function(e,t){const n=Rw(e,/(?:init\b)|(?:initialize\b)/);let i={};if(Array.isArray(n)){const l=n.map(c=>c.args);Bh(l),i=$e(i,[...l])}else i=n.args;if(!i)return;let a=uy(e,t);const s="config";return i[s]!==void 0&&(a==="flowchart-v2"&&(a="flowchart"),i[a]=i[s],delete i[s]),i},"detectInit"),Rw=T(function(e,t=null){var n,i;try{const a=new RegExp(`[%]{2}(?![{]${i9.source})(?=[}][%]{2}).*
`,"ig");e=e.trim().replace(a,"").replace(/'/gm,'"'),st.debug(`Detecting diagram directive${t!==null?" type:"+t:""} based on the text:${e}`);let s;const l=[];for(;(s=jl.exec(e))!==null;)if(s.index===jl.lastIndex&&jl.lastIndex++,s&&!t||t&&((n=s[1])!=null&&n.match(t))||t&&((i=s[2])!=null&&i.match(t))){const c=s[1]?s[1]:s[2],f=s[3]?s[3].trim():s[4]?JSON.parse(s[4].trim()):null;l.push({type:c,args:f})}return l.length===0?{type:e,args:null}:l.length===1?l[0]:l}catch(a){return st.error(`ERROR: ${a.message} - Unable to parse directive type: '${t}' based on the text: '${e}'`),{type:void 0,args:null}}},"detectDirective"),a9=T(function(e){return e.replace(jl,"")},"removeDirectives"),o9=T(function(e,t){for(const[n,i]of t.entries())if(i.match(e))return n;return-1},"isSubstringInArray");function zy(e,t){if(!e)return t;const n=`curve${e.charAt(0).toUpperCase()+e.slice(1)}`;return n9[n]??t}T(zy,"interpolateToCurve");function Nw(e,t){const n=e.trim();if(n)return t.securityLevel!=="loose"?wz.sanitizeUrl(n):n}T(Nw,"formatUrl");var s9=T((e,...t)=>{const n=e.split("."),i=n.length-1,a=n[i];let s=window;for(let l=0;l<i;l++)if(s=s[n[l]],!s){st.error(`Function name: ${e} not found in window`);return}s[a](...t)},"runFunc");function qy(e,t){return!e||!t?0:Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}T(qy,"distance");function Lw(e){let t,n=0;e.forEach(a=>{n+=qy(a,t),t=a});const i=n/2;return Hy(e,i)}T(Lw,"traverseEdge");function Dw(e){return e.length===1?e[0]:Lw(e)}T(Dw,"calcLabelPosition");var qb=T((e,t=2)=>{const n=Math.pow(10,t);return Math.round(e*n)/n},"roundNumber"),Hy=T((e,t)=>{let n,i=t;for(const a of e){if(n){const s=qy(a,n);if(s===0)return n;if(s<i)i-=s;else{const l=i/s;if(l<=0)return n;if(l>=1)return{x:a.x,y:a.y};if(l>0&&l<1)return{x:qb((1-l)*n.x+l*a.x,5),y:qb((1-l)*n.y+l*a.y,5)}}}n=a}throw new Error("Could not find a suitable point for the given distance")},"calculatePoint"),l9=T((e,t,n)=>{st.info(`our points ${JSON.stringify(t)}`),t[0]!==n&&(t=t.reverse());const a=Hy(t,25),s=e?10:5,l=Math.atan2(t[0].y-a.y,t[0].x-a.x),c={x:0,y:0};return c.x=Math.sin(l)*s+(t[0].x+a.x)/2,c.y=-Math.cos(l)*s+(t[0].y+a.y)/2,c},"calcCardinalityPosition");function Iw(e,t,n){const i=structuredClone(n);st.info("our points",i),t!=="start_left"&&t!=="start_right"&&i.reverse();const a=25+e,s=Hy(i,a),l=10+e*.5,c=Math.atan2(i[0].y-s.y,i[0].x-s.x),f={x:0,y:0};return t==="start_left"?(f.x=Math.sin(c+Math.PI)*l+(i[0].x+s.x)/2,f.y=-Math.cos(c+Math.PI)*l+(i[0].y+s.y)/2):t==="end_right"?(f.x=Math.sin(c-Math.PI)*l+(i[0].x+s.x)/2-5,f.y=-Math.cos(c-Math.PI)*l+(i[0].y+s.y)/2-5):t==="end_left"?(f.x=Math.sin(c)*l+(i[0].x+s.x)/2-5,f.y=-Math.cos(c)*l+(i[0].y+s.y)/2-5):(f.x=Math.sin(c)*l+(i[0].x+s.x)/2,f.y=-Math.cos(c)*l+(i[0].y+s.y)/2),f}T(Iw,"calcTerminalLabelPosition");function Bw(e){let t="",n="";for(const i of e)i!==void 0&&(i.startsWith("color:")||i.startsWith("text-align:")?n=n+i+";":t=t+i+";");return{style:t,labelStyle:n}}T(Bw,"getStylesFromArray");var Hb=0,c9=T(()=>(Hb++,"id-"+Math.random().toString(36).substr(2,12)+"-"+Hb),"generateId");function Fw(e){let t="";const n="0123456789abcdef",i=n.length;for(let a=0;a<e;a++)t+=n.charAt(Math.floor(Math.random()*i));return t}T(Fw,"makeRandomHex");var u9=T(e=>Fw(e.length),"random"),h9=T(function(){return{x:0,y:0,fill:void 0,anchor:"start",style:"#666",width:100,height:100,textMargin:0,rx:0,ry:0,valign:void 0,text:""}},"getTextObj"),f9=T(function(e,t){const n=t.text.replace(_s.lineBreakRegex," "),[,i]=zf(t.fontSize),a=e.append("text");a.attr("x",t.x),a.attr("y",t.y),a.style("text-anchor",t.anchor),a.style("font-family",t.fontFamily),a.style("font-size",i),a.style("font-weight",t.fontWeight),a.attr("fill",t.fill),t.class!==void 0&&a.attr("class",t.class);const s=a.append("tspan");return s.attr("x",t.x+t.textMargin*2),s.attr("fill",t.fill),s.text(n),a},"drawSimpleText"),d9=Cc((e,t,n)=>{if(!e||(n=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",joinWith:"<br/>"},n),_s.lineBreakRegex.test(e)))return e;const i=e.split(" ").filter(Boolean),a=[];let s="";return i.forEach((l,c)=>{const f=Sr(`${l} `,n),h=Sr(s,n);if(f>t){const{hyphenatedStrings:v,remainingWord:x}=p9(l,t,"-",n);a.push(s,...v),s=x}else h+f>=t?(a.push(s),s=l):s=[s,l].filter(Boolean).join(" ");c+1===i.length&&a.push(s)}),a.filter(l=>l!=="").join(n.joinWith)},(e,t,n)=>`${e}${t}${n.fontSize}${n.fontWeight}${n.fontFamily}${n.joinWith}`),p9=Cc((e,t,n="-",i)=>{i=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",margin:0},i);const a=[...e],s=[];let l="";return a.forEach((c,f)=>{const h=`${l}${c}`;if(Sr(h,i)>=t){const m=f+1,v=a.length===m,x=`${h}${n}`;s.push(v?h:x),l=""}else l=h}),{hyphenatedStrings:s,remainingWord:l}},(e,t,n="-",i)=>`${e}${t}${n}${i.fontSize}${i.fontWeight}${i.fontFamily}`);function Ow(e,t){return Gy(e,t).height}T(Ow,"calculateTextHeight");function Sr(e,t){return Gy(e,t).width}T(Sr,"calculateTextWidth");var Gy=Cc((e,t)=>{const{fontSize:n=12,fontFamily:i="Arial",fontWeight:a=400}=t;if(!e)return{width:0,height:0};const[,s]=zf(n),l=["sans-serif",i],c=e.split(_s.lineBreakRegex),f=[],h=Qt("body");if(!h.remove)return{width:0,height:0,lineHeight:0};const d=h.append("svg");for(const v of l){let x=0;const S={width:0,height:0,lineHeight:0};for(const b of c){const E=h9();E.text=b||e9;const A=f9(d,E).style("font-size",s).style("font-weight",a).style("font-family",v),k=(A._groups||A)[0][0].getBBox();if(k.width===0&&k.height===0)throw new Error("svg element not in render tree");S.width=Math.round(Math.max(S.width,k.width)),x=Math.round(k.height),S.height+=x,S.lineHeight=Math.round(Math.max(S.lineHeight,x))}f.push(S)}d.remove();const m=isNaN(f[1].height)||isNaN(f[1].width)||isNaN(f[1].lineHeight)||f[0].height>f[1].height&&f[0].width>f[1].width&&f[0].lineHeight>f[1].lineHeight?0:1;return f[m]},(e,t)=>`${e}${t.fontSize}${t.fontWeight}${t.fontFamily}`),os,g9=(os=class{constructor(t=!1,n){this.count=0,this.count=n?n.length:0,this.next=t?()=>this.count++:()=>Date.now()}},T(os,"InitIDGenerator"),os),nh,m9=T(function(e){return nh=nh||document.createElement("div"),e=escape(e).replace(/%26/g,"&").replace(/%23/g,"#").replace(/%3B/g,";"),nh.innerHTML=e,unescape(nh.textContent)},"entityDecode");function Vy(e){return"str"in e}T(Vy,"isDetailedError");var y9=T((e,t,n,i)=>{var s;if(!i)return;const a=(s=e.node())==null?void 0:s.getBBox();a&&e.append("text").text(i).attr("text-anchor","middle").attr("x",a.x+a.width/2).attr("y",-n).attr("class",t)},"insertTitle"),zf=T(e=>{if(typeof e=="number")return[e,e+"px"];const t=parseInt(e??"",10);return Number.isNaN(t)?[void 0,void 0]:e===String(t)?[t,e+"px"]:[t,e]},"parseFontSize");function Yy(e,t){return t9({},e,t)}T(Yy,"cleanAndMerge");var Ci={assignWithDepth:$e,wrapLabel:d9,calculateTextHeight:Ow,calculateTextWidth:Sr,calculateTextDimensions:Gy,cleanAndMerge:Yy,detectInit:r9,detectDirective:Rw,isSubstringInArray:o9,interpolateToCurve:zy,calcLabelPosition:Dw,calcCardinalityPosition:l9,calcTerminalLabelPosition:Iw,formatUrl:Nw,getStylesFromArray:Bw,generateId:c9,random:u9,runFunc:s9,entityDecode:m9,insertTitle:y9,isLabelCoordinateInPath:Pw,parseFontSize:zf,InitIDGenerator:g9},v9=T(function(e){let t=e;return t=t.replace(/style.*:\S*#.*;/g,function(n){return n.substring(0,n.length-1)}),t=t.replace(/classDef.*:\S*#.*;/g,function(n){return n.substring(0,n.length-1)}),t=t.replace(/#\w+;/g,function(n){const i=n.substring(1,n.length-1);return/^\+?\d+$/.test(i)?""+i+"":""+i+""}),t},"encodeEntities"),to=T(function(e){return e.replace(//g,"&#").replace(//g,"&").replace(//g,";")},"decodeEntities"),SX=T((e,t,{counter:n=0,prefix:i,suffix:a},s)=>s||`${i?`${i}_`:""}${e}_${t}_${n}${a?`_${a}`:""}`,"getEdgeId");function un(e){return e??null}T(un,"handleUndefinedAttr");function Pw(e,t){const n=Math.round(e.x),i=Math.round(e.y),a=t.replace(/(\d+\.\d+)/g,s=>Math.round(parseFloat(s)).toString());return a.includes(n.toString())||a.includes(i.toString())}T(Pw,"isLabelCoordinateInPath");const _9=Object.freeze({left:0,top:0,width:16,height:16}),sf=Object.freeze({rotate:0,vFlip:!1,hFlip:!1}),Uw=Object.freeze({..._9,...sf}),x9=Object.freeze({...Uw,body:"",hidden:!1}),C9=Object.freeze({width:null,height:null}),S9=Object.freeze({...C9,...sf}),b9=(e,t,n,i="")=>{const a=e.split(":");if(e.slice(0,1)==="@"){if(a.length<2||a.length>3)return null;i=a.shift().slice(1)}if(a.length>3||!a.length)return null;if(a.length>1){const c=a.pop(),f=a.pop(),h={provider:a.length>0?a[0]:i,prefix:f,name:c};return Ag(h)?h:null}const s=a[0],l=s.split("-");if(l.length>1){const c={provider:i,prefix:l.shift(),name:l.join("-")};return Ag(c)?c:null}if(n&&i===""){const c={provider:i,prefix:"",name:s};return Ag(c,n)?c:null}return null},Ag=(e,t)=>e?!!((t&&e.prefix===""||e.prefix)&&e.name):!1;function T9(e,t){const n={};!e.hFlip!=!t.hFlip&&(n.hFlip=!0),!e.vFlip!=!t.vFlip&&(n.vFlip=!0);const i=((e.rotate||0)+(t.rotate||0))%4;return i&&(n.rotate=i),n}function Gb(e,t){const n=T9(e,t);for(const i in x9)i in sf?i in e&&!(i in n)&&(n[i]=sf[i]):i in t?n[i]=t[i]:i in e&&(n[i]=e[i]);return n}function E9(e,t){const n=e.icons,i=e.aliases||Object.create(null),a=Object.create(null);function s(l){if(n[l])return a[l]=[];if(!(l in a)){a[l]=null;const c=i[l]&&i[l].parent,f=c&&s(c);f&&(a[l]=[c].concat(f))}return a[l]}return(t||Object.keys(n).concat(Object.keys(i))).forEach(s),a}function Vb(e,t,n){const i=e.icons,a=e.aliases||Object.create(null);let s={};function l(c){s=Gb(i[c]||a[c],s)}return l(t),n.forEach(l),Gb(e,s)}function w9(e,t){if(e.icons[t])return Vb(e,t,[]);const n=E9(e,[t])[t];return n?Vb(e,t,n):null}const A9=/(-?[0-9.]*[0-9]+[0-9.]*)/g,k9=/^-?[0-9.]*[0-9]+[0-9.]*$/g;function Yb(e,t,n){if(t===1)return e;if(n=n||100,typeof e=="number")return Math.ceil(e*t*n)/n;if(typeof e!="string")return e;const i=e.split(A9);if(i===null||!i.length)return e;const a=[];let s=i.shift(),l=k9.test(s);for(;;){if(l){const c=parseFloat(s);isNaN(c)?a.push(s):a.push(Math.ceil(c*t*n)/n)}else a.push(s);if(s=i.shift(),s===void 0)return a.join("");l=!l}}function M9(e,t="defs"){let n="";const i=e.indexOf("<"+t);for(;i>=0;){const a=e.indexOf(">",i),s=e.indexOf("</"+t);if(a===-1||s===-1)break;const l=e.indexOf(">",s);if(l===-1)break;n+=e.slice(a+1,s).trim(),e=e.slice(0,i).trim()+e.slice(l+1)}return{defs:n,content:e}}function R9(e,t){return e?"<defs>"+e+"</defs>"+t:t}function N9(e,t,n){const i=M9(e);return R9(i.defs,t+i.content+n)}const L9=e=>e==="unset"||e==="undefined"||e==="none";function D9(e,t){const n={...Uw,...e},i={...S9,...t},a={left:n.left,top:n.top,width:n.width,height:n.height};let s=n.body;[n,i].forEach(b=>{const E=[],A=b.hFlip,k=b.vFlip;let R=b.rotate;A?k?R+=2:(E.push("translate("+(a.width+a.left).toString()+" "+(0-a.top).toString()+")"),E.push("scale(-1 1)"),a.top=a.left=0):k&&(E.push("translate("+(0-a.left).toString()+" "+(a.height+a.top).toString()+")"),E.push("scale(1 -1)"),a.top=a.left=0);let I;switch(R<0&&(R-=Math.floor(R/4)*4),R=R%4,R){case 1:I=a.height/2+a.top,E.unshift("rotate(90 "+I.toString()+" "+I.toString()+")");break;case 2:E.unshift("rotate(180 "+(a.width/2+a.left).toString()+" "+(a.height/2+a.top).toString()+")");break;case 3:I=a.width/2+a.left,E.unshift("rotate(-90 "+I.toString()+" "+I.toString()+")");break}R%2===1&&(a.left!==a.top&&(I=a.left,a.left=a.top,a.top=I),a.width!==a.height&&(I=a.width,a.width=a.height,a.height=I)),E.length&&(s=N9(s,'<g transform="'+E.join(" ")+'">',"</g>"))});const l=i.width,c=i.height,f=a.width,h=a.height;let d,m;l===null?(m=c===null?"1em":c==="auto"?h:c,d=Yb(m,f/h)):(d=l==="auto"?f:l,m=c===null?Yb(d,h/f):c==="auto"?h:c);const v={},x=(b,E)=>{L9(E)||(v[b]=E.toString())};x("width",d),x("height",m);const S=[a.left,a.top,f,h];return v.viewBox=S.join(" "),{attributes:v,viewBox:S,body:s}}const I9=/\sid="(\S+)"/g,Wb=new Map;function B9(e){e=e.replace(/[0-9]+$/,"")||"a";const t=Wb.get(e)||0;return Wb.set(e,t+1),t?`${e}${t}`:e}function F9(e){const t=[];let n;for(;n=I9.exec(e);)t.push(n[1]);if(!t.length)return e;const i="suffix"+(Math.random()*16777216|Date.now()).toString(16);return t.forEach(a=>{const s=B9(a),l=a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");e=e.replace(new RegExp('([#;"])('+l+')([")]|\\.[a-z])',"g"),"$1"+s+i+"$3")}),e=e.replace(new RegExp(i,"g"),""),e}function O9(e,t){let n=e.indexOf("xlink:")===-1?"":' xmlns:xlink="http://www.w3.org/1999/xlink"';for(const i in t)n+=" "+i+'="'+t[i]+'"';return'<svg xmlns="http://www.w3.org/2000/svg"'+n+">"+e+"</svg>"}function Wy(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}var eo=Wy();function $w(e){eo=e}var nc={exec:()=>null};function ne(e,t=""){let n=typeof e=="string"?e:e.source,i={replace:(a,s)=>{let l=typeof s=="string"?s:s.source;return l=l.replace(_n.caret,"$1"),n=n.replace(a,l),i},getRegex:()=>new RegExp(n,t)};return i}var P9=(()=>{try{return!!new RegExp("(?<=1)(?<!1)")}catch{return!1}})(),_n={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:e=>new RegExp(`^( {0,3}${e})((?:[	 ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),hrRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}#`),htmlBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}<(?:[a-z].*>|!--)`,"i")},U9=/^(?:[ \t]*(?:\n|$))+/,$9=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,z9=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,bc=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,q9=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,Xy=/(?:[*+-]|\d{1,9}[.)])/,zw=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,qw=ne(zw).replace(/bull/g,Xy).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),H9=ne(zw).replace(/bull/g,Xy).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),Jy=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,G9=/^[^\n]+/,Ky=/(?!\s*\])(?:\\[\s\S]|[^\[\]\\])+/,V9=ne(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",Ky).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),Y9=ne(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,Xy).getRegex(),qf="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",Qy=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,W9=ne("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",Qy).replace("tag",qf).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),Hw=ne(Jy).replace("hr",bc).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",qf).getRegex(),X9=ne(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",Hw).getRegex(),Zy={blockquote:X9,code:$9,def:V9,fences:z9,heading:q9,hr:bc,html:W9,lheading:qw,list:Y9,newline:U9,paragraph:Hw,table:nc,text:G9},Xb=ne("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",bc).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",qf).getRegex(),J9={...Zy,lheading:H9,table:Xb,paragraph:ne(Jy).replace("hr",bc).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",Xb).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",qf).getRegex()},K9={...Zy,html:ne(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",Qy).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:nc,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:ne(Jy).replace("hr",bc).replace("heading",` *#{1,6} *[^
]`).replace("lheading",qw).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},Q9=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,Z9=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,Gw=/^( {2,}|\\)\n(?!\s*$)/,j9=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,Hf=/[\p{P}\p{S}]/u,jy=/[\s\p{P}\p{S}]/u,Vw=/[^\s\p{P}\p{S}]/u,tG=ne(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,jy).getRegex(),Yw=/(?!~)[\p{P}\p{S}]/u,eG=/(?!~)[\s\p{P}\p{S}]/u,nG=/(?:[^\s\p{P}\p{S}]|~)/u,iG=ne(/link|precode-code|html/,"g").replace("link",/\[(?:[^\[\]`]|(?<a>`+)[^`]+\k<a>(?!`))*?\]\((?:\\[\s\S]|[^\\\(\)]|\((?:\\[\s\S]|[^\\\(\)])*\))*\)/).replace("precode-",P9?"(?<!`)()":"(^^|[^`])").replace("code",/(?<b>`+)[^`]+\k<b>(?!`)/).replace("html",/<(?! )[^<>]*?>/).getRegex(),Ww=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,rG=ne(Ww,"u").replace(/punct/g,Hf).getRegex(),aG=ne(Ww,"u").replace(/punct/g,Yw).getRegex(),Xw="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",oG=ne(Xw,"gu").replace(/notPunctSpace/g,Vw).replace(/punctSpace/g,jy).replace(/punct/g,Hf).getRegex(),sG=ne(Xw,"gu").replace(/notPunctSpace/g,nG).replace(/punctSpace/g,eG).replace(/punct/g,Yw).getRegex(),lG=ne("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,Vw).replace(/punctSpace/g,jy).replace(/punct/g,Hf).getRegex(),cG=ne(/\\(punct)/,"gu").replace(/punct/g,Hf).getRegex(),uG=ne(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),hG=ne(Qy).replace("(?:-->|$)","-->").getRegex(),fG=ne("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",hG).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),lf=/(?:\[(?:\\[\s\S]|[^\[\]\\])*\]|\\[\s\S]|`+[^`]*?`+(?!`)|[^\[\]\\`])*?/,dG=ne(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",lf).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),Jw=ne(/^!?\[(label)\]\[(ref)\]/).replace("label",lf).replace("ref",Ky).getRegex(),Kw=ne(/^!?\[(ref)\](?:\[\])?/).replace("ref",Ky).getRegex(),pG=ne("reflink|nolink(?!\\()","g").replace("reflink",Jw).replace("nolink",Kw).getRegex(),Jb=/[hH][tT][tT][pP][sS]?|[fF][tT][pP]/,t0={_backpedal:nc,anyPunctuation:cG,autolink:uG,blockSkip:iG,br:Gw,code:Z9,del:nc,emStrongLDelim:rG,emStrongRDelimAst:oG,emStrongRDelimUnd:lG,escape:Q9,link:dG,nolink:Kw,punctuation:tG,reflink:Jw,reflinkSearch:pG,tag:fG,text:j9,url:nc},gG={...t0,link:ne(/^!?\[(label)\]\((.*?)\)/).replace("label",lf).getRegex(),reflink:ne(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",lf).getRegex()},Nm={...t0,emStrongRDelimAst:sG,emStrongLDelim:aG,url:ne(/^((?:protocol):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/).replace("protocol",Jb).replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\[\s\S]|[^\\])*?(?:\\[\s\S]|[^\s~\\]))\1(?=[^~]|$)/,text:ne(/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|protocol:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/).replace("protocol",Jb).getRegex()},mG={...Nm,br:ne(Gw).replace("{2,}","*").getRegex(),text:ne(Nm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},ih={normal:Zy,gfm:J9,pedantic:K9},Ol={normal:t0,gfm:Nm,breaks:mG,pedantic:gG},yG={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Kb=e=>yG[e];function Fi(e,t){if(t){if(_n.escapeTest.test(e))return e.replace(_n.escapeReplace,Kb)}else if(_n.escapeTestNoEncode.test(e))return e.replace(_n.escapeReplaceNoEncode,Kb);return e}function Qb(e){try{e=encodeURI(e).replace(_n.percentDecode,"%")}catch{return null}return e}function Zb(e,t){var s;let n=e.replace(_n.findPipe,(l,c,f)=>{let h=!1,d=c;for(;--d>=0&&f[d]==="\\";)h=!h;return h?"|":" |"}),i=n.split(_n.splitPipe),a=0;if(i[0].trim()||i.shift(),i.length>0&&!((s=i.at(-1))!=null&&s.trim())&&i.pop(),t)if(i.length>t)i.splice(t);else for(;i.length<t;)i.push("");for(;a<i.length;a++)i[a]=i[a].trim().replace(_n.slashPipe,"|");return i}function Pl(e,t,n){let i=e.length;if(i===0)return"";let a=0;for(;a<i&&e.charAt(i-a-1)===t;)a++;return e.slice(0,i-a)}function vG(e,t){if(e.indexOf(t[1])===-1)return-1;let n=0;for(let i=0;i<e.length;i++)if(e[i]==="\\")i++;else if(e[i]===t[0])n++;else if(e[i]===t[1]&&(n--,n<0))return i;return n>0?-2:-1}function jb(e,t,n,i,a){let s=t.href,l=t.title||null,c=e[1].replace(a.other.outputLinkReplace,"$1");i.state.inLink=!0;let f={type:e[0].charAt(0)==="!"?"image":"link",raw:n,href:s,title:l,text:c,tokens:i.inlineTokens(c)};return i.state.inLink=!1,f}function _G(e,t,n){let i=e.match(n.other.indentCodeCompensation);if(i===null)return t;let a=i[1];return t.split(`
`).map(s=>{let l=s.match(n.other.beginningSpace);if(l===null)return s;let[c]=l;return c.length>=a.length?s.slice(a.length):s}).join(`
`)}var cf=class{constructor(t){pe(this,"options");pe(this,"rules");pe(this,"lexer");this.options=t||eo}space(t){let n=this.rules.block.newline.exec(t);if(n&&n[0].length>0)return{type:"space",raw:n[0]}}code(t){let n=this.rules.block.code.exec(t);if(n){let i=n[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:n[0],codeBlockStyle:"indented",text:this.options.pedantic?i:Pl(i,`
`)}}}fences(t){let n=this.rules.block.fences.exec(t);if(n){let i=n[0],a=_G(i,n[3]||"",this.rules);return{type:"code",raw:i,lang:n[2]?n[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):n[2],text:a}}}heading(t){let n=this.rules.block.heading.exec(t);if(n){let i=n[2].trim();if(this.rules.other.endingHash.test(i)){let a=Pl(i,"#");(this.options.pedantic||!a||this.rules.other.endingSpaceChar.test(a))&&(i=a.trim())}return{type:"heading",raw:n[0],depth:n[1].length,text:i,tokens:this.lexer.inline(i)}}}hr(t){let n=this.rules.block.hr.exec(t);if(n)return{type:"hr",raw:Pl(n[0],`
`)}}blockquote(t){let n=this.rules.block.blockquote.exec(t);if(n){let i=Pl(n[0],`
`).split(`
`),a="",s="",l=[];for(;i.length>0;){let c=!1,f=[],h;for(h=0;h<i.length;h++)if(this.rules.other.blockquoteStart.test(i[h]))f.push(i[h]),c=!0;else if(!c)f.push(i[h]);else break;i=i.slice(h);let d=f.join(`
`),m=d.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");a=a?`${a}
${d}`:d,s=s?`${s}
${m}`:m;let v=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(m,l,!0),this.lexer.state.top=v,i.length===0)break;let x=l.at(-1);if((x==null?void 0:x.type)==="code")break;if((x==null?void 0:x.type)==="blockquote"){let S=x,b=S.raw+`
`+i.join(`
`),E=this.blockquote(b);l[l.length-1]=E,a=a.substring(0,a.length-S.raw.length)+E.raw,s=s.substring(0,s.length-S.text.length)+E.text;break}else if((x==null?void 0:x.type)==="list"){let S=x,b=S.raw+`
`+i.join(`
`),E=this.list(b);l[l.length-1]=E,a=a.substring(0,a.length-x.raw.length)+E.raw,s=s.substring(0,s.length-S.raw.length)+E.raw,i=b.substring(l.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:a,tokens:l,text:s}}}list(t){let n=this.rules.block.list.exec(t);if(n){let i=n[1].trim(),a=i.length>1,s={type:"list",raw:"",ordered:a,start:a?+i.slice(0,-1):"",loose:!1,items:[]};i=a?`\\d{1,9}\\${i.slice(-1)}`:`\\${i}`,this.options.pedantic&&(i=a?i:"[*+-]");let l=this.rules.other.listItemRegex(i),c=!1;for(;t;){let h=!1,d="",m="";if(!(n=l.exec(t))||this.rules.block.hr.test(t))break;d=n[0],t=t.substring(d.length);let v=n[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,k=>" ".repeat(3*k.length)),x=t.split(`
`,1)[0],S=!v.trim(),b=0;if(this.options.pedantic?(b=2,m=v.trimStart()):S?b=n[1].length+1:(b=n[2].search(this.rules.other.nonSpaceChar),b=b>4?1:b,m=v.slice(b),b+=n[1].length),S&&this.rules.other.blankLine.test(x)&&(d+=x+`
`,t=t.substring(x.length+1),h=!0),!h){let k=this.rules.other.nextBulletRegex(b),R=this.rules.other.hrRegex(b),I=this.rules.other.fencesBeginRegex(b),B=this.rules.other.headingBeginRegex(b),L=this.rules.other.htmlBeginRegex(b);for(;t;){let N=t.split(`
`,1)[0],V;if(x=N,this.options.pedantic?(x=x.replace(this.rules.other.listReplaceNesting,"  "),V=x):V=x.replace(this.rules.other.tabCharGlobal,"    "),I.test(x)||B.test(x)||L.test(x)||k.test(x)||R.test(x))break;if(V.search(this.rules.other.nonSpaceChar)>=b||!x.trim())m+=`
`+V.slice(b);else{if(S||v.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||I.test(v)||B.test(v)||R.test(v))break;m+=`
`+x}!S&&!x.trim()&&(S=!0),d+=N+`
`,t=t.substring(N.length+1),v=V.slice(b)}}s.loose||(c?s.loose=!0:this.rules.other.doubleBlankLine.test(d)&&(c=!0));let E=null,A;this.options.gfm&&(E=this.rules.other.listIsTask.exec(m),E&&(A=E[0]!=="[ ] ",m=m.replace(this.rules.other.listReplaceTask,""))),s.items.push({type:"list_item",raw:d,task:!!E,checked:A,loose:!1,text:m,tokens:[]}),s.raw+=d}let f=s.items.at(-1);if(f)f.raw=f.raw.trimEnd(),f.text=f.text.trimEnd();else return;s.raw=s.raw.trimEnd();for(let h=0;h<s.items.length;h++)if(this.lexer.state.top=!1,s.items[h].tokens=this.lexer.blockTokens(s.items[h].text,[]),!s.loose){let d=s.items[h].tokens.filter(v=>v.type==="space"),m=d.length>0&&d.some(v=>this.rules.other.anyLine.test(v.raw));s.loose=m}if(s.loose)for(let h=0;h<s.items.length;h++)s.items[h].loose=!0;return s}}html(t){let n=this.rules.block.html.exec(t);if(n)return{type:"html",block:!0,raw:n[0],pre:n[1]==="pre"||n[1]==="script"||n[1]==="style",text:n[0]}}def(t){let n=this.rules.block.def.exec(t);if(n){let i=n[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),a=n[2]?n[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",s=n[3]?n[3].substring(1,n[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):n[3];return{type:"def",tag:i,raw:n[0],href:a,title:s}}}table(t){var c;let n=this.rules.block.table.exec(t);if(!n||!this.rules.other.tableDelimiter.test(n[2]))return;let i=Zb(n[1]),a=n[2].replace(this.rules.other.tableAlignChars,"").split("|"),s=(c=n[3])!=null&&c.trim()?n[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],l={type:"table",raw:n[0],header:[],align:[],rows:[]};if(i.length===a.length){for(let f of a)this.rules.other.tableAlignRight.test(f)?l.align.push("right"):this.rules.other.tableAlignCenter.test(f)?l.align.push("center"):this.rules.other.tableAlignLeft.test(f)?l.align.push("left"):l.align.push(null);for(let f=0;f<i.length;f++)l.header.push({text:i[f],tokens:this.lexer.inline(i[f]),header:!0,align:l.align[f]});for(let f of s)l.rows.push(Zb(f,l.header.length).map((h,d)=>({text:h,tokens:this.lexer.inline(h),header:!1,align:l.align[d]})));return l}}lheading(t){let n=this.rules.block.lheading.exec(t);if(n)return{type:"heading",raw:n[0],depth:n[2].charAt(0)==="="?1:2,text:n[1],tokens:this.lexer.inline(n[1])}}paragraph(t){let n=this.rules.block.paragraph.exec(t);if(n){let i=n[1].charAt(n[1].length-1)===`
`?n[1].slice(0,-1):n[1];return{type:"paragraph",raw:n[0],text:i,tokens:this.lexer.inline(i)}}}text(t){let n=this.rules.block.text.exec(t);if(n)return{type:"text",raw:n[0],text:n[0],tokens:this.lexer.inline(n[0])}}escape(t){let n=this.rules.inline.escape.exec(t);if(n)return{type:"escape",raw:n[0],text:n[1]}}tag(t){let n=this.rules.inline.tag.exec(t);if(n)return!this.lexer.state.inLink&&this.rules.other.startATag.test(n[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(n[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(n[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(n[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:n[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:n[0]}}link(t){let n=this.rules.inline.link.exec(t);if(n){let i=n[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(i)){if(!this.rules.other.endAngleBracket.test(i))return;let l=Pl(i.slice(0,-1),"\\");if((i.length-l.length)%2===0)return}else{let l=vG(n[2],"()");if(l===-2)return;if(l>-1){let c=(n[0].indexOf("!")===0?5:4)+n[1].length+l;n[2]=n[2].substring(0,l),n[0]=n[0].substring(0,c).trim(),n[3]=""}}let a=n[2],s="";if(this.options.pedantic){let l=this.rules.other.pedanticHrefTitle.exec(a);l&&(a=l[1],s=l[3])}else s=n[3]?n[3].slice(1,-1):"";return a=a.trim(),this.rules.other.startAngleBracket.test(a)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(i)?a=a.slice(1):a=a.slice(1,-1)),jb(n,{href:a&&a.replace(this.rules.inline.anyPunctuation,"$1"),title:s&&s.replace(this.rules.inline.anyPunctuation,"$1")},n[0],this.lexer,this.rules)}}reflink(t,n){let i;if((i=this.rules.inline.reflink.exec(t))||(i=this.rules.inline.nolink.exec(t))){let a=(i[2]||i[1]).replace(this.rules.other.multipleSpaceGlobal," "),s=n[a.toLowerCase()];if(!s){let l=i[0].charAt(0);return{type:"text",raw:l,text:l}}return jb(i,s,i[0],this.lexer,this.rules)}}emStrong(t,n,i=""){let a=this.rules.inline.emStrongLDelim.exec(t);if(!(!a||a[3]&&i.match(this.rules.other.unicodeAlphaNumeric))&&(!(a[1]||a[2])||!i||this.rules.inline.punctuation.exec(i))){let s=[...a[0]].length-1,l,c,f=s,h=0,d=a[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(d.lastIndex=0,n=n.slice(-1*t.length+s);(a=d.exec(n))!=null;){if(l=a[1]||a[2]||a[3]||a[4]||a[5]||a[6],!l)continue;if(c=[...l].length,a[3]||a[4]){f+=c;continue}else if((a[5]||a[6])&&s%3&&!((s+c)%3)){h+=c;continue}if(f-=c,f>0)continue;c=Math.min(c,c+f+h);let m=[...a[0]][0].length,v=t.slice(0,s+a.index+m+c);if(Math.min(s,c)%2){let S=v.slice(1,-1);return{type:"em",raw:v,text:S,tokens:this.lexer.inlineTokens(S)}}let x=v.slice(2,-2);return{type:"strong",raw:v,text:x,tokens:this.lexer.inlineTokens(x)}}}}codespan(t){let n=this.rules.inline.code.exec(t);if(n){let i=n[2].replace(this.rules.other.newLineCharGlobal," "),a=this.rules.other.nonSpaceChar.test(i),s=this.rules.other.startingSpaceChar.test(i)&&this.rules.other.endingSpaceChar.test(i);return a&&s&&(i=i.substring(1,i.length-1)),{type:"codespan",raw:n[0],text:i}}}br(t){let n=this.rules.inline.br.exec(t);if(n)return{type:"br",raw:n[0]}}del(t){let n=this.rules.inline.del.exec(t);if(n)return{type:"del",raw:n[0],text:n[2],tokens:this.lexer.inlineTokens(n[2])}}autolink(t){let n=this.rules.inline.autolink.exec(t);if(n){let i,a;return n[2]==="@"?(i=n[1],a="mailto:"+i):(i=n[1],a=i),{type:"link",raw:n[0],text:i,href:a,tokens:[{type:"text",raw:i,text:i}]}}}url(t){var i;let n;if(n=this.rules.inline.url.exec(t)){let a,s;if(n[2]==="@")a=n[0],s="mailto:"+a;else{let l;do l=n[0],n[0]=((i=this.rules.inline._backpedal.exec(n[0]))==null?void 0:i[0])??"";while(l!==n[0]);a=n[0],n[1]==="www."?s="http://"+n[0]:s=n[0]}return{type:"link",raw:n[0],text:a,href:s,tokens:[{type:"text",raw:a,text:a}]}}}inlineText(t){let n=this.rules.inline.text.exec(t);if(n){let i=this.lexer.state.inRawBlock;return{type:"text",raw:n[0],text:n[0],escaped:i}}}},vi=class Lm{constructor(t){pe(this,"tokens");pe(this,"options");pe(this,"state");pe(this,"tokenizer");pe(this,"inlineQueue");this.tokens=[],this.tokens.links=Object.create(null),this.options=t||eo,this.options.tokenizer=this.options.tokenizer||new cf,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let n={other:_n,block:ih.normal,inline:Ol.normal};this.options.pedantic?(n.block=ih.pedantic,n.inline=Ol.pedantic):this.options.gfm&&(n.block=ih.gfm,this.options.breaks?n.inline=Ol.breaks:n.inline=Ol.gfm),this.tokenizer.rules=n}static get rules(){return{block:ih,inline:Ol}}static lex(t,n){return new Lm(n).lex(t)}static lexInline(t,n){return new Lm(n).inlineTokens(t)}lex(t){t=t.replace(_n.carriageReturn,`
`),this.blockTokens(t,this.tokens);for(let n=0;n<this.inlineQueue.length;n++){let i=this.inlineQueue[n];this.inlineTokens(i.src,i.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(t,n=[],i=!1){var a,s,l;for(this.options.pedantic&&(t=t.replace(_n.tabCharGlobal,"    ").replace(_n.spaceLine,""));t;){let c;if((s=(a=this.options.extensions)==null?void 0:a.block)!=null&&s.some(h=>(c=h.call({lexer:this},t,n))?(t=t.substring(c.raw.length),n.push(c),!0):!1))continue;if(c=this.tokenizer.space(t)){t=t.substring(c.raw.length);let h=n.at(-1);c.raw.length===1&&h!==void 0?h.raw+=`
`:n.push(c);continue}if(c=this.tokenizer.code(t)){t=t.substring(c.raw.length);let h=n.at(-1);(h==null?void 0:h.type)==="paragraph"||(h==null?void 0:h.type)==="text"?(h.raw+=(h.raw.endsWith(`
`)?"":`
`)+c.raw,h.text+=`
`+c.text,this.inlineQueue.at(-1).src=h.text):n.push(c);continue}if(c=this.tokenizer.fences(t)){t=t.substring(c.raw.length),n.push(c);continue}if(c=this.tokenizer.heading(t)){t=t.substring(c.raw.length),n.push(c);continue}if(c=this.tokenizer.hr(t)){t=t.substring(c.raw.length),n.push(c);continue}if(c=this.tokenizer.blockquote(t)){t=t.substring(c.raw.length),n.push(c);continue}if(c=this.tokenizer.list(t)){t=t.substring(c.raw.length),n.push(c);continue}if(c=this.tokenizer.html(t)){t=t.substring(c.raw.length),n.push(c);continue}if(c=this.tokenizer.def(t)){t=t.substring(c.raw.length);let h=n.at(-1);(h==null?void 0:h.type)==="paragraph"||(h==null?void 0:h.type)==="text"?(h.raw+=(h.raw.endsWith(`
`)?"":`
`)+c.raw,h.text+=`
`+c.raw,this.inlineQueue.at(-1).src=h.text):this.tokens.links[c.tag]||(this.tokens.links[c.tag]={href:c.href,title:c.title},n.push(c));continue}if(c=this.tokenizer.table(t)){t=t.substring(c.raw.length),n.push(c);continue}if(c=this.tokenizer.lheading(t)){t=t.substring(c.raw.length),n.push(c);continue}let f=t;if((l=this.options.extensions)!=null&&l.startBlock){let h=1/0,d=t.slice(1),m;this.options.extensions.startBlock.forEach(v=>{m=v.call({lexer:this},d),typeof m=="number"&&m>=0&&(h=Math.min(h,m))}),h<1/0&&h>=0&&(f=t.substring(0,h+1))}if(this.state.top&&(c=this.tokenizer.paragraph(f))){let h=n.at(-1);i&&(h==null?void 0:h.type)==="paragraph"?(h.raw+=(h.raw.endsWith(`
`)?"":`
`)+c.raw,h.text+=`
`+c.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=h.text):n.push(c),i=f.length!==t.length,t=t.substring(c.raw.length);continue}if(c=this.tokenizer.text(t)){t=t.substring(c.raw.length);let h=n.at(-1);(h==null?void 0:h.type)==="text"?(h.raw+=(h.raw.endsWith(`
`)?"":`
`)+c.raw,h.text+=`
`+c.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=h.text):n.push(c);continue}if(t){let h="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(h);break}else throw new Error(h)}}return this.state.top=!0,n}inline(t,n=[]){return this.inlineQueue.push({src:t,tokens:n}),n}inlineTokens(t,n=[]){var f,h,d,m,v;let i=t,a=null;if(this.tokens.links){let x=Object.keys(this.tokens.links);if(x.length>0)for(;(a=this.tokenizer.rules.inline.reflinkSearch.exec(i))!=null;)x.includes(a[0].slice(a[0].lastIndexOf("[")+1,-1))&&(i=i.slice(0,a.index)+"["+"a".repeat(a[0].length-2)+"]"+i.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(a=this.tokenizer.rules.inline.anyPunctuation.exec(i))!=null;)i=i.slice(0,a.index)+"++"+i.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);let s;for(;(a=this.tokenizer.rules.inline.blockSkip.exec(i))!=null;)s=a[2]?a[2].length:0,i=i.slice(0,a.index+s)+"["+"a".repeat(a[0].length-s-2)+"]"+i.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);i=((h=(f=this.options.hooks)==null?void 0:f.emStrongMask)==null?void 0:h.call({lexer:this},i))??i;let l=!1,c="";for(;t;){l||(c=""),l=!1;let x;if((m=(d=this.options.extensions)==null?void 0:d.inline)!=null&&m.some(b=>(x=b.call({lexer:this},t,n))?(t=t.substring(x.raw.length),n.push(x),!0):!1))continue;if(x=this.tokenizer.escape(t)){t=t.substring(x.raw.length),n.push(x);continue}if(x=this.tokenizer.tag(t)){t=t.substring(x.raw.length),n.push(x);continue}if(x=this.tokenizer.link(t)){t=t.substring(x.raw.length),n.push(x);continue}if(x=this.tokenizer.reflink(t,this.tokens.links)){t=t.substring(x.raw.length);let b=n.at(-1);x.type==="text"&&(b==null?void 0:b.type)==="text"?(b.raw+=x.raw,b.text+=x.text):n.push(x);continue}if(x=this.tokenizer.emStrong(t,i,c)){t=t.substring(x.raw.length),n.push(x);continue}if(x=this.tokenizer.codespan(t)){t=t.substring(x.raw.length),n.push(x);continue}if(x=this.tokenizer.br(t)){t=t.substring(x.raw.length),n.push(x);continue}if(x=this.tokenizer.del(t)){t=t.substring(x.raw.length),n.push(x);continue}if(x=this.tokenizer.autolink(t)){t=t.substring(x.raw.length),n.push(x);continue}if(!this.state.inLink&&(x=this.tokenizer.url(t))){t=t.substring(x.raw.length),n.push(x);continue}let S=t;if((v=this.options.extensions)!=null&&v.startInline){let b=1/0,E=t.slice(1),A;this.options.extensions.startInline.forEach(k=>{A=k.call({lexer:this},E),typeof A=="number"&&A>=0&&(b=Math.min(b,A))}),b<1/0&&b>=0&&(S=t.substring(0,b+1))}if(x=this.tokenizer.inlineText(S)){t=t.substring(x.raw.length),x.raw.slice(-1)!=="_"&&(c=x.raw.slice(-1)),l=!0;let b=n.at(-1);(b==null?void 0:b.type)==="text"?(b.raw+=x.raw,b.text+=x.text):n.push(x);continue}if(t){let b="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(b);break}else throw new Error(b)}}return n}},uf=class{constructor(t){pe(this,"options");pe(this,"parser");this.options=t||eo}space(t){return""}code({text:t,lang:n,escaped:i}){var l;let a=(l=(n||"").match(_n.notSpaceStart))==null?void 0:l[0],s=t.replace(_n.endingNewline,"")+`
`;return a?'<pre><code class="language-'+Fi(a)+'">'+(i?s:Fi(s,!0))+`</code></pre>
`:"<pre><code>"+(i?s:Fi(s,!0))+`</code></pre>
`}blockquote({tokens:t}){return`<blockquote>
${this.parser.parse(t)}</blockquote>
`}html({text:t}){return t}def(t){return""}heading({tokens:t,depth:n}){return`<h${n}>${this.parser.parseInline(t)}</h${n}>
`}hr(t){return`<hr>
`}list(t){let n=t.ordered,i=t.start,a="";for(let c=0;c<t.items.length;c++){let f=t.items[c];a+=this.listitem(f)}let s=n?"ol":"ul",l=n&&i!==1?' start="'+i+'"':"";return"<"+s+l+`>
`+a+"</"+s+`>
`}listitem(t){var i;let n="";if(t.task){let a=this.checkbox({checked:!!t.checked});t.loose?((i=t.tokens[0])==null?void 0:i.type)==="paragraph"?(t.tokens[0].text=a+" "+t.tokens[0].text,t.tokens[0].tokens&&t.tokens[0].tokens.length>0&&t.tokens[0].tokens[0].type==="text"&&(t.tokens[0].tokens[0].text=a+" "+Fi(t.tokens[0].tokens[0].text),t.tokens[0].tokens[0].escaped=!0)):t.tokens.unshift({type:"text",raw:a+" ",text:a+" ",escaped:!0}):n+=a+" "}return n+=this.parser.parse(t.tokens,!!t.loose),`<li>${n}</li>
`}checkbox({checked:t}){return"<input "+(t?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:t}){return`<p>${this.parser.parseInline(t)}</p>
`}table(t){let n="",i="";for(let s=0;s<t.header.length;s++)i+=this.tablecell(t.header[s]);n+=this.tablerow({text:i});let a="";for(let s=0;s<t.rows.length;s++){let l=t.rows[s];i="";for(let c=0;c<l.length;c++)i+=this.tablecell(l[c]);a+=this.tablerow({text:i})}return a&&(a=`<tbody>${a}</tbody>`),`<table>
<thead>
`+n+`</thead>
`+a+`</table>
`}tablerow({text:t}){return`<tr>
${t}</tr>
`}tablecell(t){let n=this.parser.parseInline(t.tokens),i=t.header?"th":"td";return(t.align?`<${i} align="${t.align}">`:`<${i}>`)+n+`</${i}>
`}strong({tokens:t}){return`<strong>${this.parser.parseInline(t)}</strong>`}em({tokens:t}){return`<em>${this.parser.parseInline(t)}</em>`}codespan({text:t}){return`<code>${Fi(t,!0)}</code>`}br(t){return"<br>"}del({tokens:t}){return`<del>${this.parser.parseInline(t)}</del>`}link({href:t,title:n,tokens:i}){let a=this.parser.parseInline(i),s=Qb(t);if(s===null)return a;t=s;let l='<a href="'+t+'"';return n&&(l+=' title="'+Fi(n)+'"'),l+=">"+a+"</a>",l}image({href:t,title:n,text:i,tokens:a}){a&&(i=this.parser.parseInline(a,this.parser.textRenderer));let s=Qb(t);if(s===null)return Fi(i);t=s;let l=`<img src="${t}" alt="${i}"`;return n&&(l+=` title="${Fi(n)}"`),l+=">",l}text(t){return"tokens"in t&&t.tokens?this.parser.parseInline(t.tokens):"escaped"in t&&t.escaped?t.text:Fi(t.text)}},e0=class{strong({text:t}){return t}em({text:t}){return t}codespan({text:t}){return t}del({text:t}){return t}html({text:t}){return t}text({text:t}){return t}link({text:t}){return""+t}image({text:t}){return""+t}br(){return""}},_i=class Dm{constructor(t){pe(this,"options");pe(this,"renderer");pe(this,"textRenderer");this.options=t||eo,this.options.renderer=this.options.renderer||new uf,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new e0}static parse(t,n){return new Dm(n).parse(t)}static parseInline(t,n){return new Dm(n).parseInline(t)}parse(t,n=!0){var a,s;let i="";for(let l=0;l<t.length;l++){let c=t[l];if((s=(a=this.options.extensions)==null?void 0:a.renderers)!=null&&s[c.type]){let h=c,d=this.options.extensions.renderers[h.type].call({parser:this},h);if(d!==!1||!["space","hr","heading","code","table","blockquote","list","html","def","paragraph","text"].includes(h.type)){i+=d||"";continue}}let f=c;switch(f.type){case"space":{i+=this.renderer.space(f);continue}case"hr":{i+=this.renderer.hr(f);continue}case"heading":{i+=this.renderer.heading(f);continue}case"code":{i+=this.renderer.code(f);continue}case"table":{i+=this.renderer.table(f);continue}case"blockquote":{i+=this.renderer.blockquote(f);continue}case"list":{i+=this.renderer.list(f);continue}case"html":{i+=this.renderer.html(f);continue}case"def":{i+=this.renderer.def(f);continue}case"paragraph":{i+=this.renderer.paragraph(f);continue}case"text":{let h=f,d=this.renderer.text(h);for(;l+1<t.length&&t[l+1].type==="text";)h=t[++l],d+=`
`+this.renderer.text(h);n?i+=this.renderer.paragraph({type:"paragraph",raw:d,text:d,tokens:[{type:"text",raw:d,text:d,escaped:!0}]}):i+=d;continue}default:{let h='Token with "'+f.type+'" type was not found.';if(this.options.silent)return console.error(h),"";throw new Error(h)}}}return i}parseInline(t,n=this.renderer){var a,s;let i="";for(let l=0;l<t.length;l++){let c=t[l];if((s=(a=this.options.extensions)==null?void 0:a.renderers)!=null&&s[c.type]){let h=this.options.extensions.renderers[c.type].call({parser:this},c);if(h!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(c.type)){i+=h||"";continue}}let f=c;switch(f.type){case"escape":{i+=n.text(f);break}case"html":{i+=n.html(f);break}case"link":{i+=n.link(f);break}case"image":{i+=n.image(f);break}case"strong":{i+=n.strong(f);break}case"em":{i+=n.em(f);break}case"codespan":{i+=n.codespan(f);break}case"br":{i+=n.br(f);break}case"del":{i+=n.del(f);break}case"text":{i+=n.text(f);break}default:{let h='Token with "'+f.type+'" type was not found.';if(this.options.silent)return console.error(h),"";throw new Error(h)}}}return i}},ch,Wl=(ch=class{constructor(t){pe(this,"options");pe(this,"block");this.options=t||eo}preprocess(t){return t}postprocess(t){return t}processAllTokens(t){return t}emStrongMask(t){return t}provideLexer(){return this.block?vi.lex:vi.lexInline}provideParser(){return this.block?_i.parse:_i.parseInline}},pe(ch,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens","emStrongMask"])),pe(ch,"passThroughHooksRespectAsync",new Set(["preprocess","postprocess","processAllTokens"])),ch),xG=class{constructor(...t){pe(this,"defaults",Wy());pe(this,"options",this.setOptions);pe(this,"parse",this.parseMarkdown(!0));pe(this,"parseInline",this.parseMarkdown(!1));pe(this,"Parser",_i);pe(this,"Renderer",uf);pe(this,"TextRenderer",e0);pe(this,"Lexer",vi);pe(this,"Tokenizer",cf);pe(this,"Hooks",Wl);this.use(...t)}walkTokens(t,n){var a,s;let i=[];for(let l of t)switch(i=i.concat(n.call(this,l)),l.type){case"table":{let c=l;for(let f of c.header)i=i.concat(this.walkTokens(f.tokens,n));for(let f of c.rows)for(let h of f)i=i.concat(this.walkTokens(h.tokens,n));break}case"list":{let c=l;i=i.concat(this.walkTokens(c.items,n));break}default:{let c=l;(s=(a=this.defaults.extensions)==null?void 0:a.childTokens)!=null&&s[c.type]?this.defaults.extensions.childTokens[c.type].forEach(f=>{let h=c[f].flat(1/0);i=i.concat(this.walkTokens(h,n))}):c.tokens&&(i=i.concat(this.walkTokens(c.tokens,n)))}}return i}use(...t){let n=this.defaults.extensions||{renderers:{},childTokens:{}};return t.forEach(i=>{let a={...i};if(a.async=this.defaults.async||a.async||!1,i.extensions&&(i.extensions.forEach(s=>{if(!s.name)throw new Error("extension name required");if("renderer"in s){let l=n.renderers[s.name];l?n.renderers[s.name]=function(...c){let f=s.renderer.apply(this,c);return f===!1&&(f=l.apply(this,c)),f}:n.renderers[s.name]=s.renderer}if("tokenizer"in s){if(!s.level||s.level!=="block"&&s.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");let l=n[s.level];l?l.unshift(s.tokenizer):n[s.level]=[s.tokenizer],s.start&&(s.level==="block"?n.startBlock?n.startBlock.push(s.start):n.startBlock=[s.start]:s.level==="inline"&&(n.startInline?n.startInline.push(s.start):n.startInline=[s.start]))}"childTokens"in s&&s.childTokens&&(n.childTokens[s.name]=s.childTokens)}),a.extensions=n),i.renderer){let s=this.defaults.renderer||new uf(this.defaults);for(let l in i.renderer){if(!(l in s))throw new Error(`renderer '${l}' does not exist`);if(["options","parser"].includes(l))continue;let c=l,f=i.renderer[c],h=s[c];s[c]=(...d)=>{let m=f.apply(s,d);return m===!1&&(m=h.apply(s,d)),m||""}}a.renderer=s}if(i.tokenizer){let s=this.defaults.tokenizer||new cf(this.defaults);for(let l in i.tokenizer){if(!(l in s))throw new Error(`tokenizer '${l}' does not exist`);if(["options","rules","lexer"].includes(l))continue;let c=l,f=i.tokenizer[c],h=s[c];s[c]=(...d)=>{let m=f.apply(s,d);return m===!1&&(m=h.apply(s,d)),m}}a.tokenizer=s}if(i.hooks){let s=this.defaults.hooks||new Wl;for(let l in i.hooks){if(!(l in s))throw new Error(`hook '${l}' does not exist`);if(["options","block"].includes(l))continue;let c=l,f=i.hooks[c],h=s[c];Wl.passThroughHooks.has(l)?s[c]=d=>{if(this.defaults.async&&Wl.passThroughHooksRespectAsync.has(l))return(async()=>{let v=await f.call(s,d);return h.call(s,v)})();let m=f.call(s,d);return h.call(s,m)}:s[c]=(...d)=>{if(this.defaults.async)return(async()=>{let v=await f.apply(s,d);return v===!1&&(v=await h.apply(s,d)),v})();let m=f.apply(s,d);return m===!1&&(m=h.apply(s,d)),m}}a.hooks=s}if(i.walkTokens){let s=this.defaults.walkTokens,l=i.walkTokens;a.walkTokens=function(c){let f=[];return f.push(l.call(this,c)),s&&(f=f.concat(s.call(this,c))),f}}this.defaults={...this.defaults,...a}}),this}setOptions(t){return this.defaults={...this.defaults,...t},this}lexer(t,n){return vi.lex(t,n??this.defaults)}parser(t,n){return _i.parse(t,n??this.defaults)}parseMarkdown(t){return(n,i)=>{let a={...i},s={...this.defaults,...a},l=this.onError(!!s.silent,!!s.async);if(this.defaults.async===!0&&a.async===!1)return l(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof n>"u"||n===null)return l(new Error("marked(): input parameter is undefined or null"));if(typeof n!="string")return l(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(n)+", string expected"));if(s.hooks&&(s.hooks.options=s,s.hooks.block=t),s.async)return(async()=>{let c=s.hooks?await s.hooks.preprocess(n):n,f=await(s.hooks?await s.hooks.provideLexer():t?vi.lex:vi.lexInline)(c,s),h=s.hooks?await s.hooks.processAllTokens(f):f;s.walkTokens&&await Promise.all(this.walkTokens(h,s.walkTokens));let d=await(s.hooks?await s.hooks.provideParser():t?_i.parse:_i.parseInline)(h,s);return s.hooks?await s.hooks.postprocess(d):d})().catch(l);try{s.hooks&&(n=s.hooks.preprocess(n));let c=(s.hooks?s.hooks.provideLexer():t?vi.lex:vi.lexInline)(n,s);s.hooks&&(c=s.hooks.processAllTokens(c)),s.walkTokens&&this.walkTokens(c,s.walkTokens);let f=(s.hooks?s.hooks.provideParser():t?_i.parse:_i.parseInline)(c,s);return s.hooks&&(f=s.hooks.postprocess(f)),f}catch(c){return l(c)}}}onError(t,n){return i=>{if(i.message+=`
Please report this to https://github.com/markedjs/marked.`,t){let a="<p>An error occurred:</p><pre>"+Fi(i.message+"",!0)+"</pre>";return n?Promise.resolve(a):a}if(n)return Promise.reject(i);throw i}}},Xa=new xG;function se(e,t){return Xa.parse(e,t)}se.options=se.setOptions=function(e){return Xa.setOptions(e),se.defaults=Xa.defaults,$w(se.defaults),se};se.getDefaults=Wy;se.defaults=eo;se.use=function(...e){return Xa.use(...e),se.defaults=Xa.defaults,$w(se.defaults),se};se.walkTokens=function(e,t){return Xa.walkTokens(e,t)};se.parseInline=Xa.parseInline;se.Parser=_i;se.parser=_i.parse;se.Renderer=uf;se.TextRenderer=e0;se.Lexer=vi;se.lexer=vi.lex;se.Tokenizer=cf;se.Hooks=Wl;se.parse=se;se.options;se.setOptions;se.use;se.walkTokens;se.parseInline;_i.parse;vi.lex;function Qw(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i=Array.from(typeof e=="string"?[e]:e);i[i.length-1]=i[i.length-1].replace(/\r?\n([\t ]*)$/,"");var a=i.reduce(function(c,f){var h=f.match(/\n([\t ]+|(?!\s).)/g);return h?c.concat(h.map(function(d){var m,v;return(v=(m=d.match(/[\t ]/g))===null||m===void 0?void 0:m.length)!==null&&v!==void 0?v:0})):c},[]);if(a.length){var s=new RegExp(`
[	 ]{`+Math.min.apply(Math,a)+"}","g");i=i.map(function(c){return c.replace(s,`
`)})}i[0]=i[0].replace(/^\r?\n/,"");var l=i[0];return t.forEach(function(c,f){var h=l.match(/(?:^|\n)( *)$/),d=h?h[1]:"",m=c;typeof c=="string"&&c.includes(`
`)&&(m=String(c).split(`
`).map(function(v,x){return x===0?v:""+d+v}).join(`
`)),l+=m+i[f+1]}),l}var CG={body:'<g><rect width="80" height="80" style="fill: #087ebf; stroke-width: 0px;"/><text transform="translate(21.16 64.67)" style="fill: #fff; font-family: ArialMT, Arial; font-size: 67.75px;"><tspan x="0" y="0">?</tspan></text></g>',height:80,width:80},Im=new Map,Zw=new Map,SG=T(e=>{for(const t of e){if(!t.name)throw new Error('Invalid icon loader. Must have a "name" property with non-empty string value.');if(st.debug("Registering icon pack:",t.name),"loader"in t)Zw.set(t.name,t.loader);else if("icons"in t)Im.set(t.name,t.icons);else throw st.error("Invalid icon loader:",t),new Error('Invalid icon loader. Must have either "icons" or "loader" property.')}},"registerIconPacks"),jw=T(async(e,t)=>{const n=b9(e,!0,t!==void 0);if(!n)throw new Error(`Invalid icon name: ${e}`);const i=n.prefix||t;if(!i)throw new Error(`Icon name must contain a prefix: ${e}`);let a=Im.get(i);if(!a){const l=Zw.get(i);if(!l)throw new Error(`Icon set not found: ${n.prefix}`);try{a={...await l(),prefix:i},Im.set(i,a)}catch(c){throw st.error(c),new Error(`Failed to load icon set: ${n.prefix}`)}}const s=w9(a,n.name);if(!s)throw new Error(`Icon not found: ${e}`);return s},"getRegisteredIconData"),bG=T(async e=>{try{return await jw(e),!0}catch{return!1}},"isIconAvailable"),Tc=T(async(e,t,n)=>{let i;try{i=await jw(e,t==null?void 0:t.fallbackPrefix)}catch(l){st.error(l),i=CG}const a=D9(i,t),s=O9(F9(a.body),{...a.attributes,...n});return ci(s,ln())},"getIconSVG");function tA(e,{markdownAutoWrap:t}){const i=e.replace(/<br\/>/g,`
`).replace(/\n{2,}/g,`
`),a=Qw(i);return t===!1?a.replace(/ /g,"&nbsp;"):a}T(tA,"preprocessMarkdown");function eA(e,t={}){const n=tA(e,t),i=se.lexer(n),a=[[]];let s=0;function l(c,f="normal"){c.type==="text"?c.text.split(`
`).forEach((d,m)=>{m!==0&&(s++,a.push([])),d.split(" ").forEach(v=>{v=v.replace(/&#39;/g,"'"),v&&a[s].push({content:v,type:f})})}):c.type==="strong"||c.type==="em"?c.tokens.forEach(h=>{l(h,c.type)}):c.type==="html"&&a[s].push({content:c.text,type:"normal"})}return T(l,"processNode"),i.forEach(c=>{var f;c.type==="paragraph"?(f=c.tokens)==null||f.forEach(h=>{l(h)}):c.type==="html"?a[s].push({content:c.text,type:"normal"}):a[s].push({content:c.raw,type:"normal"})}),a}T(eA,"markdownToLines");function nA(e,{markdownAutoWrap:t}={}){const n=se.lexer(e);function i(a){var s,l,c;return a.type==="text"?t===!1?a.text.replace(/\n */g,"<br/>").replace(/ /g,"&nbsp;"):a.text.replace(/\n */g,"<br/>"):a.type==="strong"?`<strong>${(s=a.tokens)==null?void 0:s.map(i).join("")}</strong>`:a.type==="em"?`<em>${(l=a.tokens)==null?void 0:l.map(i).join("")}</em>`:a.type==="paragraph"?`<p>${(c=a.tokens)==null?void 0:c.map(i).join("")}</p>`:a.type==="space"?"":a.type==="html"?`${a.text}`:a.type==="escape"?a.text:(st.warn(`Unsupported markdown: ${a.type}`),a.raw)}return T(i,"output"),n.map(i).join("")}T(nA,"markdownToHTML");function iA(e){return Intl.Segmenter?[...new Intl.Segmenter().segment(e)].map(t=>t.segment):[...e]}T(iA,"splitTextToChars");function rA(e,t){const n=iA(t.content);return n0(e,[],n,t.type)}T(rA,"splitWordToFitWidth");function n0(e,t,n,i){if(n.length===0)return[{content:t.join(""),type:i},{content:"",type:i}];const[a,...s]=n,l=[...t,a];return e([{content:l.join(""),type:i}])?n0(e,l,s,i):(t.length===0&&a&&(t.push(a),n.shift()),[{content:t.join(""),type:i},{content:n.join(""),type:i}])}T(n0,"splitWordToFitWidthRecursion");function aA(e,t){if(e.some(({content:n})=>n.includes(`
`)))throw new Error("splitLineToFitWidth does not support newlines in the line");return hf(e,t)}T(aA,"splitLineToFitWidth");function hf(e,t,n=[],i=[]){if(e.length===0)return i.length>0&&n.push(i),n.length>0?n:[];let a="";e[0].content===" "&&(a=" ",e.shift());const s=e.shift()??{content:" ",type:"normal"},l=[...i];if(a!==""&&l.push({content:a,type:"normal"}),l.push(s),t(l))return hf(e,t,n,l);if(i.length>0)n.push(i),e.unshift(s);else if(s.content){const[c,f]=rA(t,s);n.push([c]),f.content&&e.unshift(f)}return hf(e,t,n)}T(hf,"splitLineToFitWidthRecursion");function Bm(e,t){t&&e.attr("style",t)}T(Bm,"applyStyle");async function oA(e,t,n,i,a=!1,s=ln()){const l=e.append("foreignObject");l.attr("width",`${10*n}px`),l.attr("height",`${10*n}px`);const c=l.append("xhtml:div"),f=cs(t.label)?await hy(t.label.replace(_s.lineBreakRegex,`
`),s):ci(t.label,s),h=t.isNode?"nodeLabel":"edgeLabel",d=c.append("span");d.html(f),Bm(d,t.labelStyle),d.attr("class",`${h} ${i}`),Bm(c,t.labelStyle),c.style("display","table-cell"),c.style("white-space","nowrap"),c.style("line-height","1.5"),c.style("max-width",n+"px"),c.style("text-align","center"),c.attr("xmlns","http://www.w3.org/1999/xhtml"),a&&c.attr("class","labelBkg");let m=c.node().getBoundingClientRect();return m.width===n&&(c.style("display","table"),c.style("white-space","break-spaces"),c.style("width",n+"px"),m=c.node().getBoundingClientRect()),l.node()}T(oA,"addHtmlSpan");function Gf(e,t,n){return e.append("tspan").attr("class","text-outer-tspan").attr("x",0).attr("y",t*n-.1+"em").attr("dy",n+"em")}T(Gf,"createTspan");function sA(e,t,n){const i=e.append("text"),a=Gf(i,1,t);Vf(a,n);const s=a.node().getComputedTextLength();return i.remove(),s}T(sA,"computeWidthOfText");function TG(e,t,n){var l;const i=e.append("text"),a=Gf(i,1,t);Vf(a,[{content:n,type:"normal"}]);const s=(l=a.node())==null?void 0:l.getBoundingClientRect();return s&&i.remove(),s}T(TG,"computeDimensionOfText");function lA(e,t,n,i=!1){const s=t.append("g"),l=s.insert("rect").attr("class","background").attr("style","stroke: none"),c=s.append("text").attr("y","-10.1");let f=0;for(const h of n){const d=T(v=>sA(s,1.1,v)<=e,"checkWidth"),m=d(h)?[h]:aA(h,d);for(const v of m){const x=Gf(c,f,1.1);Vf(x,v),f++}}if(i){const h=c.node().getBBox(),d=2;return l.attr("x",h.x-d).attr("y",h.y-d).attr("width",h.width+2*d).attr("height",h.height+2*d),s.node()}else return c.node()}T(lA,"createFormattedText");function Vf(e,t){e.text(""),t.forEach((n,i)=>{const a=e.append("tspan").attr("font-style",n.type==="em"?"italic":"normal").attr("class","text-inner-tspan").attr("font-weight",n.type==="strong"?"bold":"normal");i===0?a.text(n.content):a.text(" "+n.content)})}T(Vf,"updateTextContentAndStyles");async function cA(e,t={}){const n=[];e.replace(/(fa[bklrs]?):fa-([\w-]+)/g,(a,s,l)=>(n.push((async()=>{const c=`${s}:${l}`;return await bG(c)?await Tc(c,void 0,{class:"label-icon"}):`<i class='${ci(a,t).replace(":"," ")}'></i>`})()),a));const i=await Promise.all(n);return e.replace(/(fa[bklrs]?):fa-([\w-]+)/g,()=>i.shift()??"")}T(cA,"replaceIconSubstring");var ca=T(async(e,t="",{style:n="",isTitle:i=!1,classes:a="",useHtmlLabels:s=!0,isNode:l=!0,width:c=200,addSvgBackground:f=!1}={},h)=>{if(st.debug("XYZ createText",t,n,i,a,s,l,"addSvgBackground: ",f),s){const d=nA(t,h),m=await cA(to(d),h),v=t.replace(/\\\\/g,"\\"),x={isNode:l,label:cs(t)?v:m,labelStyle:n.replace("fill:","color:")};return await oA(e,x,c,a,f,h)}else{const d=t.replace(/<br\s*\/?>/g,"<br/>"),m=eA(d.replace("<br>","<br/>"),h),v=lA(c,e,m,t?f:!1);if(l){/stroke:/.exec(n)&&(n=n.replace("stroke:","lineColor:"));const x=n.replace(/stroke:[^;]+;?/g,"").replace(/stroke-width:[^;]+;?/g,"").replace(/fill:[^;]+;?/g,"").replace(/color:/g,"fill:");Qt(v).attr("style",x)}else{const x=n.replace(/stroke:[^;]+;?/g,"").replace(/stroke-width:[^;]+;?/g,"").replace(/fill:[^;]+;?/g,"").replace(/background:/g,"fill:");Qt(v).select("rect").attr("style",x.replace(/background:/g,"fill:"));const S=n.replace(/stroke:[^;]+;?/g,"").replace(/stroke-width:[^;]+;?/g,"").replace(/fill:[^;]+;?/g,"").replace(/color:/g,"fill:");Qt(v).select("text").attr("style",S)}return v}},"createText");function kg(e,t,n){if(e&&e.length){const[i,a]=t,s=Math.PI/180*n,l=Math.cos(s),c=Math.sin(s);for(const f of e){const[h,d]=f;f[0]=(h-i)*l-(d-a)*c+i,f[1]=(h-i)*c+(d-a)*l+a}}}function EG(e,t){return e[0]===t[0]&&e[1]===t[1]}function wG(e,t,n,i=1){const a=n,s=Math.max(t,.1),l=e[0]&&e[0][0]&&typeof e[0][0]=="number"?[e]:e,c=[0,0];if(a)for(const h of l)kg(h,c,a);const f=(function(h,d,m){const v=[];for(const k of h){const R=[...k];EG(R[0],R[R.length-1])||R.push([R[0][0],R[0][1]]),R.length>2&&v.push(R)}const x=[];d=Math.max(d,.1);const S=[];for(const k of v)for(let R=0;R<k.length-1;R++){const I=k[R],B=k[R+1];if(I[1]!==B[1]){const L=Math.min(I[1],B[1]);S.push({ymin:L,ymax:Math.max(I[1],B[1]),x:L===I[1]?I[0]:B[0],islope:(B[0]-I[0])/(B[1]-I[1])})}}if(S.sort(((k,R)=>k.ymin<R.ymin?-1:k.ymin>R.ymin?1:k.x<R.x?-1:k.x>R.x?1:k.ymax===R.ymax?0:(k.ymax-R.ymax)/Math.abs(k.ymax-R.ymax))),!S.length)return x;let b=[],E=S[0].ymin,A=0;for(;b.length||S.length;){if(S.length){let k=-1;for(let R=0;R<S.length&&!(S[R].ymin>E);R++)k=R;S.splice(0,k+1).forEach((R=>{b.push({s:E,edge:R})}))}if(b=b.filter((k=>!(k.edge.ymax<=E))),b.sort(((k,R)=>k.edge.x===R.edge.x?0:(k.edge.x-R.edge.x)/Math.abs(k.edge.x-R.edge.x))),(m!==1||A%d==0)&&b.length>1)for(let k=0;k<b.length;k+=2){const R=k+1;if(R>=b.length)break;const I=b[k].edge,B=b[R].edge;x.push([[Math.round(I.x),E],[Math.round(B.x),E]])}E+=m,b.forEach((k=>{k.edge.x=k.edge.x+m*k.edge.islope})),A++}return x})(l,s,i);if(a){for(const h of l)kg(h,c,-a);(function(h,d,m){const v=[];h.forEach((x=>v.push(...x))),kg(v,d,m)})(f,c,-a)}return f}function Ec(e,t){var n;const i=t.hachureAngle+90;let a=t.hachureGap;a<0&&(a=4*t.strokeWidth),a=Math.round(Math.max(a,.1));let s=1;return t.roughness>=1&&(((n=t.randomizer)===null||n===void 0?void 0:n.next())||Math.random())>.7&&(s=a),wG(e,a,i,s||1)}class i0{constructor(t){this.helper=t}fillPolygons(t,n){return this._fillPolygons(t,n)}_fillPolygons(t,n){const i=Ec(t,n);return{type:"fillSketch",ops:this.renderLines(i,n)}}renderLines(t,n){const i=[];for(const a of t)i.push(...this.helper.doubleLineOps(a[0][0],a[0][1],a[1][0],a[1][1],n));return i}}function Yf(e){const t=e[0],n=e[1];return Math.sqrt(Math.pow(t[0]-n[0],2)+Math.pow(t[1]-n[1],2))}class AG extends i0{fillPolygons(t,n){let i=n.hachureGap;i<0&&(i=4*n.strokeWidth),i=Math.max(i,.1);const a=Ec(t,Object.assign({},n,{hachureGap:i})),s=Math.PI/180*n.hachureAngle,l=[],c=.5*i*Math.cos(s),f=.5*i*Math.sin(s);for(const[h,d]of a)Yf([h,d])&&l.push([[h[0]-c,h[1]+f],[...d]],[[h[0]+c,h[1]-f],[...d]]);return{type:"fillSketch",ops:this.renderLines(l,n)}}}class kG extends i0{fillPolygons(t,n){const i=this._fillPolygons(t,n),a=Object.assign({},n,{hachureAngle:n.hachureAngle+90}),s=this._fillPolygons(t,a);return i.ops=i.ops.concat(s.ops),i}}class MG{constructor(t){this.helper=t}fillPolygons(t,n){const i=Ec(t,n=Object.assign({},n,{hachureAngle:0}));return this.dotsOnLines(i,n)}dotsOnLines(t,n){const i=[];let a=n.hachureGap;a<0&&(a=4*n.strokeWidth),a=Math.max(a,.1);let s=n.fillWeight;s<0&&(s=n.strokeWidth/2);const l=a/4;for(const c of t){const f=Yf(c),h=f/a,d=Math.ceil(h)-1,m=f-d*a,v=(c[0][0]+c[1][0])/2-a/4,x=Math.min(c[0][1],c[1][1]);for(let S=0;S<d;S++){const b=x+m+S*a,E=v-l+2*Math.random()*l,A=b-l+2*Math.random()*l,k=this.helper.ellipse(E,A,s,s,n);i.push(...k.ops)}}return{type:"fillSketch",ops:i}}}class RG{constructor(t){this.helper=t}fillPolygons(t,n){const i=Ec(t,n);return{type:"fillSketch",ops:this.dashedLine(i,n)}}dashedLine(t,n){const i=n.dashOffset<0?n.hachureGap<0?4*n.strokeWidth:n.hachureGap:n.dashOffset,a=n.dashGap<0?n.hachureGap<0?4*n.strokeWidth:n.hachureGap:n.dashGap,s=[];return t.forEach((l=>{const c=Yf(l),f=Math.floor(c/(i+a)),h=(c+a-f*(i+a))/2;let d=l[0],m=l[1];d[0]>m[0]&&(d=l[1],m=l[0]);const v=Math.atan((m[1]-d[1])/(m[0]-d[0]));for(let x=0;x<f;x++){const S=x*(i+a),b=S+i,E=[d[0]+S*Math.cos(v)+h*Math.cos(v),d[1]+S*Math.sin(v)+h*Math.sin(v)],A=[d[0]+b*Math.cos(v)+h*Math.cos(v),d[1]+b*Math.sin(v)+h*Math.sin(v)];s.push(...this.helper.doubleLineOps(E[0],E[1],A[0],A[1],n))}})),s}}class NG{constructor(t){this.helper=t}fillPolygons(t,n){const i=n.hachureGap<0?4*n.strokeWidth:n.hachureGap,a=n.zigzagOffset<0?i:n.zigzagOffset,s=Ec(t,n=Object.assign({},n,{hachureGap:i+a}));return{type:"fillSketch",ops:this.zigzagLines(s,a,n)}}zigzagLines(t,n,i){const a=[];return t.forEach((s=>{const l=Yf(s),c=Math.round(l/(2*n));let f=s[0],h=s[1];f[0]>h[0]&&(f=s[1],h=s[0]);const d=Math.atan((h[1]-f[1])/(h[0]-f[0]));for(let m=0;m<c;m++){const v=2*m*n,x=2*(m+1)*n,S=Math.sqrt(2*Math.pow(n,2)),b=[f[0]+v*Math.cos(d),f[1]+v*Math.sin(d)],E=[f[0]+x*Math.cos(d),f[1]+x*Math.sin(d)],A=[b[0]+S*Math.cos(d+Math.PI/4),b[1]+S*Math.sin(d+Math.PI/4)];a.push(...this.helper.doubleLineOps(b[0],b[1],A[0],A[1],i),...this.helper.doubleLineOps(A[0],A[1],E[0],E[1],i))}})),a}}const Nn={};class LG{constructor(t){this.seed=t}next(){return this.seed?(2**31-1&(this.seed=Math.imul(48271,this.seed)))/2**31:Math.random()}}const DG=0,Mg=1,t1=2,rh={A:7,a:7,C:6,c:6,H:1,h:1,L:2,l:2,M:2,m:2,Q:4,q:4,S:4,s:4,T:2,t:2,V:1,v:1,Z:0,z:0};function Rg(e,t){return e.type===t}function r0(e){const t=[],n=(function(l){const c=new Array;for(;l!=="";)if(l.match(/^([ \t\r\n,]+)/))l=l.substr(RegExp.$1.length);else if(l.match(/^([aAcChHlLmMqQsStTvVzZ])/))c[c.length]={type:DG,text:RegExp.$1},l=l.substr(RegExp.$1.length);else{if(!l.match(/^(([-+]?[0-9]+(\.[0-9]*)?|[-+]?\.[0-9]+)([eE][-+]?[0-9]+)?)/))return[];c[c.length]={type:Mg,text:`${parseFloat(RegExp.$1)}`},l=l.substr(RegExp.$1.length)}return c[c.length]={type:t1,text:""},c})(e);let i="BOD",a=0,s=n[a];for(;!Rg(s,t1);){let l=0;const c=[];if(i==="BOD"){if(s.text!=="M"&&s.text!=="m")return r0("M0,0"+e);a++,l=rh[s.text],i=s.text}else Rg(s,Mg)?l=rh[i]:(a++,l=rh[s.text],i=s.text);if(!(a+l<n.length))throw new Error("Path data ended short");for(let f=a;f<a+l;f++){const h=n[f];if(!Rg(h,Mg))throw new Error("Param not a number: "+i+","+h.text);c[c.length]=+h.text}if(typeof rh[i]!="number")throw new Error("Bad segment: "+i);{const f={key:i,data:c};t.push(f),a+=l,s=n[a],i==="M"&&(i="L"),i==="m"&&(i="l")}}return t}function uA(e){let t=0,n=0,i=0,a=0;const s=[];for(const{key:l,data:c}of e)switch(l){case"M":s.push({key:"M",data:[...c]}),[t,n]=c,[i,a]=c;break;case"m":t+=c[0],n+=c[1],s.push({key:"M",data:[t,n]}),i=t,a=n;break;case"L":s.push({key:"L",data:[...c]}),[t,n]=c;break;case"l":t+=c[0],n+=c[1],s.push({key:"L",data:[t,n]});break;case"C":s.push({key:"C",data:[...c]}),t=c[4],n=c[5];break;case"c":{const f=c.map(((h,d)=>d%2?h+n:h+t));s.push({key:"C",data:f}),t=f[4],n=f[5];break}case"Q":s.push({key:"Q",data:[...c]}),t=c[2],n=c[3];break;case"q":{const f=c.map(((h,d)=>d%2?h+n:h+t));s.push({key:"Q",data:f}),t=f[2],n=f[3];break}case"A":s.push({key:"A",data:[...c]}),t=c[5],n=c[6];break;case"a":t+=c[5],n+=c[6],s.push({key:"A",data:[c[0],c[1],c[2],c[3],c[4],t,n]});break;case"H":s.push({key:"H",data:[...c]}),t=c[0];break;case"h":t+=c[0],s.push({key:"H",data:[t]});break;case"V":s.push({key:"V",data:[...c]}),n=c[0];break;case"v":n+=c[0],s.push({key:"V",data:[n]});break;case"S":s.push({key:"S",data:[...c]}),t=c[2],n=c[3];break;case"s":{const f=c.map(((h,d)=>d%2?h+n:h+t));s.push({key:"S",data:f}),t=f[2],n=f[3];break}case"T":s.push({key:"T",data:[...c]}),t=c[0],n=c[1];break;case"t":t+=c[0],n+=c[1],s.push({key:"T",data:[t,n]});break;case"Z":case"z":s.push({key:"Z",data:[]}),t=i,n=a}return s}function hA(e){const t=[];let n="",i=0,a=0,s=0,l=0,c=0,f=0;for(const{key:h,data:d}of e){switch(h){case"M":t.push({key:"M",data:[...d]}),[i,a]=d,[s,l]=d;break;case"C":t.push({key:"C",data:[...d]}),i=d[4],a=d[5],c=d[2],f=d[3];break;case"L":t.push({key:"L",data:[...d]}),[i,a]=d;break;case"H":i=d[0],t.push({key:"L",data:[i,a]});break;case"V":a=d[0],t.push({key:"L",data:[i,a]});break;case"S":{let m=0,v=0;n==="C"||n==="S"?(m=i+(i-c),v=a+(a-f)):(m=i,v=a),t.push({key:"C",data:[m,v,...d]}),c=d[0],f=d[1],i=d[2],a=d[3];break}case"T":{const[m,v]=d;let x=0,S=0;n==="Q"||n==="T"?(x=i+(i-c),S=a+(a-f)):(x=i,S=a);const b=i+2*(x-i)/3,E=a+2*(S-a)/3,A=m+2*(x-m)/3,k=v+2*(S-v)/3;t.push({key:"C",data:[b,E,A,k,m,v]}),c=x,f=S,i=m,a=v;break}case"Q":{const[m,v,x,S]=d,b=i+2*(m-i)/3,E=a+2*(v-a)/3,A=x+2*(m-x)/3,k=S+2*(v-S)/3;t.push({key:"C",data:[b,E,A,k,x,S]}),c=m,f=v,i=x,a=S;break}case"A":{const m=Math.abs(d[0]),v=Math.abs(d[1]),x=d[2],S=d[3],b=d[4],E=d[5],A=d[6];m===0||v===0?(t.push({key:"C",data:[i,a,E,A,E,A]}),i=E,a=A):(i!==E||a!==A)&&(fA(i,a,E,A,m,v,x,S,b).forEach((function(k){t.push({key:"C",data:k})})),i=E,a=A);break}case"Z":t.push({key:"Z",data:[]}),i=s,a=l}n=h}return t}function Ul(e,t,n){return[e*Math.cos(n)-t*Math.sin(n),e*Math.sin(n)+t*Math.cos(n)]}function fA(e,t,n,i,a,s,l,c,f,h){const d=(m=l,Math.PI*m/180);var m;let v=[],x=0,S=0,b=0,E=0;if(h)[x,S,b,E]=h;else{[e,t]=Ul(e,t,-d),[n,i]=Ul(n,i,-d);const nt=(e-n)/2,W=(t-i)/2;let H=nt*nt/(a*a)+W*W/(s*s);H>1&&(H=Math.sqrt(H),a*=H,s*=H);const D=a*a,P=s*s,z=D*P-D*W*W-P*nt*nt,lt=D*W*W+P*nt*nt,ft=(c===f?-1:1)*Math.sqrt(Math.abs(z/lt));b=ft*a*W/s+(e+n)/2,E=ft*-s*nt/a+(t+i)/2,x=Math.asin(parseFloat(((t-E)/s).toFixed(9))),S=Math.asin(parseFloat(((i-E)/s).toFixed(9))),e<b&&(x=Math.PI-x),n<b&&(S=Math.PI-S),x<0&&(x=2*Math.PI+x),S<0&&(S=2*Math.PI+S),f&&x>S&&(x-=2*Math.PI),!f&&S>x&&(S-=2*Math.PI)}let A=S-x;if(Math.abs(A)>120*Math.PI/180){const nt=S,W=n,H=i;S=f&&S>x?x+120*Math.PI/180*1:x+120*Math.PI/180*-1,v=fA(n=b+a*Math.cos(S),i=E+s*Math.sin(S),W,H,a,s,l,0,f,[S,nt,b,E])}A=S-x;const k=Math.cos(x),R=Math.sin(x),I=Math.cos(S),B=Math.sin(S),L=Math.tan(A/4),N=4/3*a*L,V=4/3*s*L,Q=[e,t],et=[e+N*R,t-V*k],Y=[n+N*B,i-V*I],ct=[n,i];if(et[0]=2*Q[0]-et[0],et[1]=2*Q[1]-et[1],h)return[et,Y,ct].concat(v);{v=[et,Y,ct].concat(v);const nt=[];for(let W=0;W<v.length;W+=3){const H=Ul(v[W][0],v[W][1],d),D=Ul(v[W+1][0],v[W+1][1],d),P=Ul(v[W+2][0],v[W+2][1],d);nt.push([H[0],H[1],D[0],D[1],P[0],P[1]])}return nt}}const IG={randOffset:function(e,t){return It(e,t)},randOffsetWithRange:function(e,t,n){return ff(e,t,n)},ellipse:function(e,t,n,i,a){const s=pA(n,i,a);return Fm(e,t,a,s).opset},doubleLineOps:function(e,t,n,i,a){return aa(e,t,n,i,a,!0)}};function dA(e,t,n,i,a){return{type:"path",ops:aa(e,t,n,i,a)}}function bh(e,t,n){const i=(e||[]).length;if(i>2){const a=[];for(let s=0;s<i-1;s++)a.push(...aa(e[s][0],e[s][1],e[s+1][0],e[s+1][1],n));return t&&a.push(...aa(e[i-1][0],e[i-1][1],e[0][0],e[0][1],n)),{type:"path",ops:a}}return i===2?dA(e[0][0],e[0][1],e[1][0],e[1][1],n):{type:"path",ops:[]}}function BG(e,t,n,i,a){return(function(s,l){return bh(s,!0,l)})([[e,t],[e+n,t],[e+n,t+i],[e,t+i]],a)}function e1(e,t){if(e.length){const n=typeof e[0][0]=="number"?[e]:e,i=ah(n[0],1*(1+.2*t.roughness),t),a=t.disableMultiStroke?[]:ah(n[0],1.5*(1+.22*t.roughness),r1(t));for(let s=1;s<n.length;s++){const l=n[s];if(l.length){const c=ah(l,1*(1+.2*t.roughness),t),f=t.disableMultiStroke?[]:ah(l,1.5*(1+.22*t.roughness),r1(t));for(const h of c)h.op!=="move"&&i.push(h);for(const h of f)h.op!=="move"&&a.push(h)}}return{type:"path",ops:i.concat(a)}}return{type:"path",ops:[]}}function pA(e,t,n){const i=Math.sqrt(2*Math.PI*Math.sqrt((Math.pow(e/2,2)+Math.pow(t/2,2))/2)),a=Math.ceil(Math.max(n.curveStepCount,n.curveStepCount/Math.sqrt(200)*i)),s=2*Math.PI/a;let l=Math.abs(e/2),c=Math.abs(t/2);const f=1-n.curveFitting;return l+=It(l*f,n),c+=It(c*f,n),{increment:s,rx:l,ry:c}}function Fm(e,t,n,i){const[a,s]=a1(i.increment,e,t,i.rx,i.ry,1,i.increment*ff(.1,ff(.4,1,n),n),n);let l=df(a,null,n);if(!n.disableMultiStroke&&n.roughness!==0){const[c]=a1(i.increment,e,t,i.rx,i.ry,1.5,0,n),f=df(c,null,n);l=l.concat(f)}return{estimatedPoints:s,opset:{type:"path",ops:l}}}function n1(e,t,n,i,a,s,l,c,f){const h=e,d=t;let m=Math.abs(n/2),v=Math.abs(i/2);m+=It(.01*m,f),v+=It(.01*v,f);let x=a,S=s;for(;x<0;)x+=2*Math.PI,S+=2*Math.PI;S-x>2*Math.PI&&(x=0,S=2*Math.PI);const b=2*Math.PI/f.curveStepCount,E=Math.min(b/2,(S-x)/2),A=o1(E,h,d,m,v,x,S,1,f);if(!f.disableMultiStroke){const k=o1(E,h,d,m,v,x,S,1.5,f);A.push(...k)}return l&&(c?A.push(...aa(h,d,h+m*Math.cos(x),d+v*Math.sin(x),f),...aa(h,d,h+m*Math.cos(S),d+v*Math.sin(S),f)):A.push({op:"lineTo",data:[h,d]},{op:"lineTo",data:[h+m*Math.cos(x),d+v*Math.sin(x)]})),{type:"path",ops:A}}function i1(e,t){const n=hA(uA(r0(e))),i=[];let a=[0,0],s=[0,0];for(const{key:l,data:c}of n)switch(l){case"M":s=[c[0],c[1]],a=[c[0],c[1]];break;case"L":i.push(...aa(s[0],s[1],c[0],c[1],t)),s=[c[0],c[1]];break;case"C":{const[f,h,d,m,v,x]=c;i.push(...FG(f,h,d,m,v,x,s,t)),s=[v,x];break}case"Z":i.push(...aa(s[0],s[1],a[0],a[1],t)),s=[a[0],a[1]]}return{type:"path",ops:i}}function Ng(e,t){const n=[];for(const i of e)if(i.length){const a=t.maxRandomnessOffset||0,s=i.length;if(s>2){n.push({op:"move",data:[i[0][0]+It(a,t),i[0][1]+It(a,t)]});for(let l=1;l<s;l++)n.push({op:"lineTo",data:[i[l][0]+It(a,t),i[l][1]+It(a,t)]})}}return{type:"fillPath",ops:n}}function zo(e,t){return(function(n,i){let a=n.fillStyle||"hachure";if(!Nn[a])switch(a){case"zigzag":Nn[a]||(Nn[a]=new AG(i));break;case"cross-hatch":Nn[a]||(Nn[a]=new kG(i));break;case"dots":Nn[a]||(Nn[a]=new MG(i));break;case"dashed":Nn[a]||(Nn[a]=new RG(i));break;case"zigzag-line":Nn[a]||(Nn[a]=new NG(i));break;default:a="hachure",Nn[a]||(Nn[a]=new i0(i))}return Nn[a]})(t,IG).fillPolygons(e,t)}function r1(e){const t=Object.assign({},e);return t.randomizer=void 0,e.seed&&(t.seed=e.seed+1),t}function gA(e){return e.randomizer||(e.randomizer=new LG(e.seed||0)),e.randomizer.next()}function ff(e,t,n,i=1){return n.roughness*i*(gA(n)*(t-e)+e)}function It(e,t,n=1){return ff(-e,e,t,n)}function aa(e,t,n,i,a,s=!1){const l=s?a.disableMultiStrokeFill:a.disableMultiStroke,c=Om(e,t,n,i,a,!0,!1);if(l)return c;const f=Om(e,t,n,i,a,!0,!0);return c.concat(f)}function Om(e,t,n,i,a,s,l){const c=Math.pow(e-n,2)+Math.pow(t-i,2),f=Math.sqrt(c);let h=1;h=f<200?1:f>500?.4:-.0016668*f+1.233334;let d=a.maxRandomnessOffset||0;d*d*100>c&&(d=f/10);const m=d/2,v=.2+.2*gA(a);let x=a.bowing*a.maxRandomnessOffset*(i-t)/200,S=a.bowing*a.maxRandomnessOffset*(e-n)/200;x=It(x,a,h),S=It(S,a,h);const b=[],E=()=>It(m,a,h),A=()=>It(d,a,h),k=a.preserveVertices;return l?b.push({op:"move",data:[e+(k?0:E()),t+(k?0:E())]}):b.push({op:"move",data:[e+(k?0:It(d,a,h)),t+(k?0:It(d,a,h))]}),l?b.push({op:"bcurveTo",data:[x+e+(n-e)*v+E(),S+t+(i-t)*v+E(),x+e+2*(n-e)*v+E(),S+t+2*(i-t)*v+E(),n+(k?0:E()),i+(k?0:E())]}):b.push({op:"bcurveTo",data:[x+e+(n-e)*v+A(),S+t+(i-t)*v+A(),x+e+2*(n-e)*v+A(),S+t+2*(i-t)*v+A(),n+(k?0:A()),i+(k?0:A())]}),b}function ah(e,t,n){if(!e.length)return[];const i=[];i.push([e[0][0]+It(t,n),e[0][1]+It(t,n)]),i.push([e[0][0]+It(t,n),e[0][1]+It(t,n)]);for(let a=1;a<e.length;a++)i.push([e[a][0]+It(t,n),e[a][1]+It(t,n)]),a===e.length-1&&i.push([e[a][0]+It(t,n),e[a][1]+It(t,n)]);return df(i,null,n)}function df(e,t,n){const i=e.length,a=[];if(i>3){const s=[],l=1-n.curveTightness;a.push({op:"move",data:[e[1][0],e[1][1]]});for(let c=1;c+2<i;c++){const f=e[c];s[0]=[f[0],f[1]],s[1]=[f[0]+(l*e[c+1][0]-l*e[c-1][0])/6,f[1]+(l*e[c+1][1]-l*e[c-1][1])/6],s[2]=[e[c+1][0]+(l*e[c][0]-l*e[c+2][0])/6,e[c+1][1]+(l*e[c][1]-l*e[c+2][1])/6],s[3]=[e[c+1][0],e[c+1][1]],a.push({op:"bcurveTo",data:[s[1][0],s[1][1],s[2][0],s[2][1],s[3][0],s[3][1]]})}}else i===3?(a.push({op:"move",data:[e[1][0],e[1][1]]}),a.push({op:"bcurveTo",data:[e[1][0],e[1][1],e[2][0],e[2][1],e[2][0],e[2][1]]})):i===2&&a.push(...Om(e[0][0],e[0][1],e[1][0],e[1][1],n,!0,!0));return a}function a1(e,t,n,i,a,s,l,c){const f=[],h=[];if(c.roughness===0){e/=4,h.push([t+i*Math.cos(-e),n+a*Math.sin(-e)]);for(let d=0;d<=2*Math.PI;d+=e){const m=[t+i*Math.cos(d),n+a*Math.sin(d)];f.push(m),h.push(m)}h.push([t+i*Math.cos(0),n+a*Math.sin(0)]),h.push([t+i*Math.cos(e),n+a*Math.sin(e)])}else{const d=It(.5,c)-Math.PI/2;h.push([It(s,c)+t+.9*i*Math.cos(d-e),It(s,c)+n+.9*a*Math.sin(d-e)]);const m=2*Math.PI+d-.01;for(let v=d;v<m;v+=e){const x=[It(s,c)+t+i*Math.cos(v),It(s,c)+n+a*Math.sin(v)];f.push(x),h.push(x)}h.push([It(s,c)+t+i*Math.cos(d+2*Math.PI+.5*l),It(s,c)+n+a*Math.sin(d+2*Math.PI+.5*l)]),h.push([It(s,c)+t+.98*i*Math.cos(d+l),It(s,c)+n+.98*a*Math.sin(d+l)]),h.push([It(s,c)+t+.9*i*Math.cos(d+.5*l),It(s,c)+n+.9*a*Math.sin(d+.5*l)])}return[h,f]}function o1(e,t,n,i,a,s,l,c,f){const h=s+It(.1,f),d=[];d.push([It(c,f)+t+.9*i*Math.cos(h-e),It(c,f)+n+.9*a*Math.sin(h-e)]);for(let m=h;m<=l;m+=e)d.push([It(c,f)+t+i*Math.cos(m),It(c,f)+n+a*Math.sin(m)]);return d.push([t+i*Math.cos(l),n+a*Math.sin(l)]),d.push([t+i*Math.cos(l),n+a*Math.sin(l)]),df(d,null,f)}function FG(e,t,n,i,a,s,l,c){const f=[],h=[c.maxRandomnessOffset||1,(c.maxRandomnessOffset||1)+.3];let d=[0,0];const m=c.disableMultiStroke?1:2,v=c.preserveVertices;for(let x=0;x<m;x++)x===0?f.push({op:"move",data:[l[0],l[1]]}):f.push({op:"move",data:[l[0]+(v?0:It(h[0],c)),l[1]+(v?0:It(h[0],c))]}),d=v?[a,s]:[a+It(h[x],c),s+It(h[x],c)],f.push({op:"bcurveTo",data:[e+It(h[x],c),t+It(h[x],c),n+It(h[x],c),i+It(h[x],c),d[0],d[1]]});return f}function $l(e){return[...e]}function s1(e,t=0){const n=e.length;if(n<3)throw new Error("A curve must have at least three points.");const i=[];if(n===3)i.push($l(e[0]),$l(e[1]),$l(e[2]),$l(e[2]));else{const a=[];a.push(e[0],e[0]);for(let c=1;c<e.length;c++)a.push(e[c]),c===e.length-1&&a.push(e[c]);const s=[],l=1-t;i.push($l(a[0]));for(let c=1;c+2<a.length;c++){const f=a[c];s[0]=[f[0],f[1]],s[1]=[f[0]+(l*a[c+1][0]-l*a[c-1][0])/6,f[1]+(l*a[c+1][1]-l*a[c-1][1])/6],s[2]=[a[c+1][0]+(l*a[c][0]-l*a[c+2][0])/6,a[c+1][1]+(l*a[c][1]-l*a[c+2][1])/6],s[3]=[a[c+1][0],a[c+1][1]],i.push(s[1],s[2],s[3])}}return i}function Th(e,t){return Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2)}function OG(e,t,n){const i=Th(t,n);if(i===0)return Th(e,t);let a=((e[0]-t[0])*(n[0]-t[0])+(e[1]-t[1])*(n[1]-t[1]))/i;return a=Math.max(0,Math.min(1,a)),Th(e,Ia(t,n,a))}function Ia(e,t,n){return[e[0]+(t[0]-e[0])*n,e[1]+(t[1]-e[1])*n]}function Pm(e,t,n,i){const a=i||[];if((function(c,f){const h=c[f+0],d=c[f+1],m=c[f+2],v=c[f+3];let x=3*d[0]-2*h[0]-v[0];x*=x;let S=3*d[1]-2*h[1]-v[1];S*=S;let b=3*m[0]-2*v[0]-h[0];b*=b;let E=3*m[1]-2*v[1]-h[1];return E*=E,x<b&&(x=b),S<E&&(S=E),x+S})(e,t)<n){const c=e[t+0];a.length?(s=a[a.length-1],l=c,Math.sqrt(Th(s,l))>1&&a.push(c)):a.push(c),a.push(e[t+3])}else{const f=e[t+0],h=e[t+1],d=e[t+2],m=e[t+3],v=Ia(f,h,.5),x=Ia(h,d,.5),S=Ia(d,m,.5),b=Ia(v,x,.5),E=Ia(x,S,.5),A=Ia(b,E,.5);Pm([f,v,b,A],0,n,a),Pm([A,E,S,m],0,n,a)}var s,l;return a}function PG(e,t){return pf(e,0,e.length,t)}function pf(e,t,n,i,a){const s=a||[],l=e[t],c=e[n-1];let f=0,h=1;for(let d=t+1;d<n-1;++d){const m=OG(e[d],l,c);m>f&&(f=m,h=d)}return Math.sqrt(f)>i?(pf(e,t,h+1,i,s),pf(e,h,n,i,s)):(s.length||s.push(l),s.push(c)),s}function Lg(e,t=.15,n){const i=[],a=(e.length-1)/3;for(let s=0;s<a;s++)Pm(e,3*s,t,i);return n&&n>0?pf(i,0,i.length,n):i}const Gn="none";class gf{constructor(t){this.defaultOptions={maxRandomnessOffset:2,roughness:1,bowing:1,stroke:"#000",strokeWidth:1,curveTightness:0,curveFitting:.95,curveStepCount:9,fillStyle:"hachure",fillWeight:-1,hachureAngle:-41,hachureGap:-1,dashOffset:-1,dashGap:-1,zigzagOffset:-1,seed:0,disableMultiStroke:!1,disableMultiStrokeFill:!1,preserveVertices:!1,fillShapeRoughnessGain:.8},this.config=t||{},this.config.options&&(this.defaultOptions=this._o(this.config.options))}static newSeed(){return Math.floor(Math.random()*2**31)}_o(t){return t?Object.assign({},this.defaultOptions,t):this.defaultOptions}_d(t,n,i){return{shape:t,sets:n||[],options:i||this.defaultOptions}}line(t,n,i,a,s){const l=this._o(s);return this._d("line",[dA(t,n,i,a,l)],l)}rectangle(t,n,i,a,s){const l=this._o(s),c=[],f=BG(t,n,i,a,l);if(l.fill){const h=[[t,n],[t+i,n],[t+i,n+a],[t,n+a]];l.fillStyle==="solid"?c.push(Ng([h],l)):c.push(zo([h],l))}return l.stroke!==Gn&&c.push(f),this._d("rectangle",c,l)}ellipse(t,n,i,a,s){const l=this._o(s),c=[],f=pA(i,a,l),h=Fm(t,n,l,f);if(l.fill)if(l.fillStyle==="solid"){const d=Fm(t,n,l,f).opset;d.type="fillPath",c.push(d)}else c.push(zo([h.estimatedPoints],l));return l.stroke!==Gn&&c.push(h.opset),this._d("ellipse",c,l)}circle(t,n,i,a){const s=this.ellipse(t,n,i,i,a);return s.shape="circle",s}linearPath(t,n){const i=this._o(n);return this._d("linearPath",[bh(t,!1,i)],i)}arc(t,n,i,a,s,l,c=!1,f){const h=this._o(f),d=[],m=n1(t,n,i,a,s,l,c,!0,h);if(c&&h.fill)if(h.fillStyle==="solid"){const v=Object.assign({},h);v.disableMultiStroke=!0;const x=n1(t,n,i,a,s,l,!0,!1,v);x.type="fillPath",d.push(x)}else d.push((function(v,x,S,b,E,A,k){const R=v,I=x;let B=Math.abs(S/2),L=Math.abs(b/2);B+=It(.01*B,k),L+=It(.01*L,k);let N=E,V=A;for(;N<0;)N+=2*Math.PI,V+=2*Math.PI;V-N>2*Math.PI&&(N=0,V=2*Math.PI);const Q=(V-N)/k.curveStepCount,et=[];for(let Y=N;Y<=V;Y+=Q)et.push([R+B*Math.cos(Y),I+L*Math.sin(Y)]);return et.push([R+B*Math.cos(V),I+L*Math.sin(V)]),et.push([R,I]),zo([et],k)})(t,n,i,a,s,l,h));return h.stroke!==Gn&&d.push(m),this._d("arc",d,h)}curve(t,n){const i=this._o(n),a=[],s=e1(t,i);if(i.fill&&i.fill!==Gn)if(i.fillStyle==="solid"){const l=e1(t,Object.assign(Object.assign({},i),{disableMultiStroke:!0,roughness:i.roughness?i.roughness+i.fillShapeRoughnessGain:0}));a.push({type:"fillPath",ops:this._mergedShape(l.ops)})}else{const l=[],c=t;if(c.length){const f=typeof c[0][0]=="number"?[c]:c;for(const h of f)h.length<3?l.push(...h):h.length===3?l.push(...Lg(s1([h[0],h[0],h[1],h[2]]),10,(1+i.roughness)/2)):l.push(...Lg(s1(h),10,(1+i.roughness)/2))}l.length&&a.push(zo([l],i))}return i.stroke!==Gn&&a.push(s),this._d("curve",a,i)}polygon(t,n){const i=this._o(n),a=[],s=bh(t,!0,i);return i.fill&&(i.fillStyle==="solid"?a.push(Ng([t],i)):a.push(zo([t],i))),i.stroke!==Gn&&a.push(s),this._d("polygon",a,i)}path(t,n){const i=this._o(n),a=[];if(!t)return this._d("path",a,i);t=(t||"").replace(/\n/g," ").replace(/(-\s)/g,"-").replace("/(ss)/g"," ");const s=i.fill&&i.fill!=="transparent"&&i.fill!==Gn,l=i.stroke!==Gn,c=!!(i.simplification&&i.simplification<1),f=(function(d,m,v){const x=hA(uA(r0(d))),S=[];let b=[],E=[0,0],A=[];const k=()=>{A.length>=4&&b.push(...Lg(A,m)),A=[]},R=()=>{k(),b.length&&(S.push(b),b=[])};for(const{key:B,data:L}of x)switch(B){case"M":R(),E=[L[0],L[1]],b.push(E);break;case"L":k(),b.push([L[0],L[1]]);break;case"C":if(!A.length){const N=b.length?b[b.length-1]:E;A.push([N[0],N[1]])}A.push([L[0],L[1]]),A.push([L[2],L[3]]),A.push([L[4],L[5]]);break;case"Z":k(),b.push([E[0],E[1]])}if(R(),!v)return S;const I=[];for(const B of S){const L=PG(B,v);L.length&&I.push(L)}return I})(t,1,c?4-4*(i.simplification||1):(1+i.roughness)/2),h=i1(t,i);if(s)if(i.fillStyle==="solid")if(f.length===1){const d=i1(t,Object.assign(Object.assign({},i),{disableMultiStroke:!0,roughness:i.roughness?i.roughness+i.fillShapeRoughnessGain:0}));a.push({type:"fillPath",ops:this._mergedShape(d.ops)})}else a.push(Ng(f,i));else a.push(zo(f,i));return l&&(c?f.forEach((d=>{a.push(bh(d,!1,i))})):a.push(h)),this._d("path",a,i)}opsToPath(t,n){let i="";for(const a of t.ops){const s=typeof n=="number"&&n>=0?a.data.map((l=>+l.toFixed(n))):a.data;switch(a.op){case"move":i+=`M${s[0]} ${s[1]} `;break;case"bcurveTo":i+=`C${s[0]} ${s[1]}, ${s[2]} ${s[3]}, ${s[4]} ${s[5]} `;break;case"lineTo":i+=`L${s[0]} ${s[1]} `}}return i.trim()}toPaths(t){const n=t.sets||[],i=t.options||this.defaultOptions,a=[];for(const s of n){let l=null;switch(s.type){case"path":l={d:this.opsToPath(s),stroke:i.stroke,strokeWidth:i.strokeWidth,fill:Gn};break;case"fillPath":l={d:this.opsToPath(s),stroke:Gn,strokeWidth:0,fill:i.fill||Gn};break;case"fillSketch":l=this.fillSketch(s,i)}l&&a.push(l)}return a}fillSketch(t,n){let i=n.fillWeight;return i<0&&(i=n.strokeWidth/2),{d:this.opsToPath(t),stroke:n.fill||Gn,strokeWidth:i,fill:Gn}}_mergedShape(t){return t.filter(((n,i)=>i===0||n.op!=="move"))}}class UG{constructor(t,n){this.canvas=t,this.ctx=this.canvas.getContext("2d"),this.gen=new gf(n)}draw(t){const n=t.sets||[],i=t.options||this.getDefaultOptions(),a=this.ctx,s=t.options.fixedDecimalPlaceDigits;for(const l of n)switch(l.type){case"path":a.save(),a.strokeStyle=i.stroke==="none"?"transparent":i.stroke,a.lineWidth=i.strokeWidth,i.strokeLineDash&&a.setLineDash(i.strokeLineDash),i.strokeLineDashOffset&&(a.lineDashOffset=i.strokeLineDashOffset),this._drawToContext(a,l,s),a.restore();break;case"fillPath":{a.save(),a.fillStyle=i.fill||"";const c=t.shape==="curve"||t.shape==="polygon"||t.shape==="path"?"evenodd":"nonzero";this._drawToContext(a,l,s,c),a.restore();break}case"fillSketch":this.fillSketch(a,l,i)}}fillSketch(t,n,i){let a=i.fillWeight;a<0&&(a=i.strokeWidth/2),t.save(),i.fillLineDash&&t.setLineDash(i.fillLineDash),i.fillLineDashOffset&&(t.lineDashOffset=i.fillLineDashOffset),t.strokeStyle=i.fill||"",t.lineWidth=a,this._drawToContext(t,n,i.fixedDecimalPlaceDigits),t.restore()}_drawToContext(t,n,i,a="nonzero"){t.beginPath();for(const s of n.ops){const l=typeof i=="number"&&i>=0?s.data.map((c=>+c.toFixed(i))):s.data;switch(s.op){case"move":t.moveTo(l[0],l[1]);break;case"bcurveTo":t.bezierCurveTo(l[0],l[1],l[2],l[3],l[4],l[5]);break;case"lineTo":t.lineTo(l[0],l[1])}}n.type==="fillPath"?t.fill(a):t.stroke()}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}line(t,n,i,a,s){const l=this.gen.line(t,n,i,a,s);return this.draw(l),l}rectangle(t,n,i,a,s){const l=this.gen.rectangle(t,n,i,a,s);return this.draw(l),l}ellipse(t,n,i,a,s){const l=this.gen.ellipse(t,n,i,a,s);return this.draw(l),l}circle(t,n,i,a){const s=this.gen.circle(t,n,i,a);return this.draw(s),s}linearPath(t,n){const i=this.gen.linearPath(t,n);return this.draw(i),i}polygon(t,n){const i=this.gen.polygon(t,n);return this.draw(i),i}arc(t,n,i,a,s,l,c=!1,f){const h=this.gen.arc(t,n,i,a,s,l,c,f);return this.draw(h),h}curve(t,n){const i=this.gen.curve(t,n);return this.draw(i),i}path(t,n){const i=this.gen.path(t,n);return this.draw(i),i}}const oh="http://www.w3.org/2000/svg";class $G{constructor(t,n){this.svg=t,this.gen=new gf(n)}draw(t){const n=t.sets||[],i=t.options||this.getDefaultOptions(),a=this.svg.ownerDocument||window.document,s=a.createElementNS(oh,"g"),l=t.options.fixedDecimalPlaceDigits;for(const c of n){let f=null;switch(c.type){case"path":f=a.createElementNS(oh,"path"),f.setAttribute("d",this.opsToPath(c,l)),f.setAttribute("stroke",i.stroke),f.setAttribute("stroke-width",i.strokeWidth+""),f.setAttribute("fill","none"),i.strokeLineDash&&f.setAttribute("stroke-dasharray",i.strokeLineDash.join(" ").trim()),i.strokeLineDashOffset&&f.setAttribute("stroke-dashoffset",`${i.strokeLineDashOffset}`);break;case"fillPath":f=a.createElementNS(oh,"path"),f.setAttribute("d",this.opsToPath(c,l)),f.setAttribute("stroke","none"),f.setAttribute("stroke-width","0"),f.setAttribute("fill",i.fill||""),t.shape!=="curve"&&t.shape!=="polygon"||f.setAttribute("fill-rule","evenodd");break;case"fillSketch":f=this.fillSketch(a,c,i)}f&&s.appendChild(f)}return s}fillSketch(t,n,i){let a=i.fillWeight;a<0&&(a=i.strokeWidth/2);const s=t.createElementNS(oh,"path");return s.setAttribute("d",this.opsToPath(n,i.fixedDecimalPlaceDigits)),s.setAttribute("stroke",i.fill||""),s.setAttribute("stroke-width",a+""),s.setAttribute("fill","none"),i.fillLineDash&&s.setAttribute("stroke-dasharray",i.fillLineDash.join(" ").trim()),i.fillLineDashOffset&&s.setAttribute("stroke-dashoffset",`${i.fillLineDashOffset}`),s}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}opsToPath(t,n){return this.gen.opsToPath(t,n)}line(t,n,i,a,s){const l=this.gen.line(t,n,i,a,s);return this.draw(l)}rectangle(t,n,i,a,s){const l=this.gen.rectangle(t,n,i,a,s);return this.draw(l)}ellipse(t,n,i,a,s){const l=this.gen.ellipse(t,n,i,a,s);return this.draw(l)}circle(t,n,i,a){const s=this.gen.circle(t,n,i,a);return this.draw(s)}linearPath(t,n){const i=this.gen.linearPath(t,n);return this.draw(i)}polygon(t,n){const i=this.gen.polygon(t,n);return this.draw(i)}arc(t,n,i,a,s,l,c=!1,f){const h=this.gen.arc(t,n,i,a,s,l,c,f);return this.draw(h)}curve(t,n){const i=this.gen.curve(t,n);return this.draw(i)}path(t,n){const i=this.gen.path(t,n);return this.draw(i)}}var St={canvas:(e,t)=>new UG(e,t),svg:(e,t)=>new $G(e,t),generator:e=>new gf(e),newSeed:()=>gf.newSeed()},Dt=T(async(e,t,n)=>{var m,v;let i;const a=t.useHtmlLabels||qe((m=oe())==null?void 0:m.htmlLabels);n?i=n:i="node default";const s=e.insert("g").attr("class",i).attr("id",t.domId||t.id),l=s.insert("g").attr("class","label").attr("style",un(t.labelStyle));let c;t.label===void 0?c="":c=typeof t.label=="string"?t.label:t.label[0];const f=await ca(l,ci(to(c),oe()),{useHtmlLabels:a,width:t.width||((v=oe().flowchart)==null?void 0:v.wrappingWidth),cssClasses:"markdown-node-label",style:t.labelStyle,addSvgBackground:!!t.icon||!!t.img});let h=f.getBBox();const d=((t==null?void 0:t.padding)??0)/2;if(a){const x=f.children[0],S=Qt(f),b=x.getElementsByTagName("img");if(b){const E=c.replace(/<img[^>]*>/g,"").trim()==="";await Promise.all([...b].map(A=>new Promise(k=>{function R(){if(A.style.display="flex",A.style.flexDirection="column",E){const I=oe().fontSize?oe().fontSize:window.getComputedStyle(document.body).fontSize,B=5,[L=MT.fontSize]=zf(I),N=L*B+"px";A.style.minWidth=N,A.style.maxWidth=N}else A.style.width="100%";k(A)}T(R,"setupImage"),setTimeout(()=>{A.complete&&R()}),A.addEventListener("error",R),A.addEventListener("load",R)})))}h=x.getBoundingClientRect(),S.attr("width",h.width),S.attr("height",h.height)}return a?l.attr("transform","translate("+-h.width/2+", "+-h.height/2+")"):l.attr("transform","translate(0, "+-h.height/2+")"),t.centerLabel&&l.attr("transform","translate("+-h.width/2+", "+-h.height/2+")"),l.insert("rect",":first-child"),{shapeSvg:s,bbox:h,halfPadding:d,label:l}},"labelHelper"),Dg=T(async(e,t,n)=>{var f,h,d,m,v,x;const i=n.useHtmlLabels||qe((h=(f=oe())==null?void 0:f.flowchart)==null?void 0:h.htmlLabels),a=e.insert("g").attr("class","label").attr("style",n.labelStyle||""),s=await ca(a,ci(to(t),oe()),{useHtmlLabels:i,width:n.width||((m=(d=oe())==null?void 0:d.flowchart)==null?void 0:m.wrappingWidth),style:n.labelStyle,addSvgBackground:!!n.icon||!!n.img});let l=s.getBBox();const c=n.padding/2;if(qe((x=(v=oe())==null?void 0:v.flowchart)==null?void 0:x.htmlLabels)){const S=s.children[0],b=Qt(s);l=S.getBoundingClientRect(),b.attr("width",l.width),b.attr("height",l.height)}return i?a.attr("transform","translate("+-l.width/2+", "+-l.height/2+")"):a.attr("transform","translate(0, "+-l.height/2+")"),n.centerLabel&&a.attr("transform","translate("+-l.width/2+", "+-l.height/2+")"),a.insert("rect",":first-child"),{shapeSvg:e,bbox:l,halfPadding:c,label:a}},"insertLabel"),Et=T((e,t)=>{const n=t.node().getBBox();e.width=n.width,e.height=n.height},"updateNodeBounds"),Nt=T((e,t)=>(e.look==="handDrawn"?"rough-node":"node")+" "+e.cssClasses+" "+(t||""),"getNodeClasses");function Yt(e){const t=e.map((n,i)=>`${i===0?"M":"L"}${n.x},${n.y}`);return t.push("Z"),t.join(" ")}T(Yt,"createPathFromPoints");function oa(e,t,n,i,a,s){const l=[],f=n-e,h=i-t,d=f/s,m=2*Math.PI/d,v=t+h/2;for(let x=0;x<=50;x++){const S=x/50,b=e+S*f,E=v+a*Math.sin(m*(b-e));l.push({x:b,y:E})}return l}T(oa,"generateFullSineWavePoints");function dc(e,t,n,i,a,s){const l=[],c=a*Math.PI/180,d=(s*Math.PI/180-c)/(i-1);for(let m=0;m<i;m++){const v=c+m*d,x=e+n*Math.cos(v),S=t+n*Math.sin(v);l.push({x:-x,y:-S})}return l}T(dc,"generateCirclePoints");var zG=T((e,t)=>{var n=e.x,i=e.y,a=t.x-n,s=t.y-i,l=e.width/2,c=e.height/2,f,h;return Math.abs(s)*l>Math.abs(a)*c?(s<0&&(c=-c),f=s===0?0:c*a/s,h=c):(a<0&&(l=-l),f=l,h=a===0?0:l*s/a),{x:n+f,y:i+h}},"intersectRect"),bs=zG;function mA(e,t){t&&e.attr("style",t)}T(mA,"applyStyle");async function yA(e){const t=Qt(document.createElementNS("http://www.w3.org/2000/svg","foreignObject")),n=t.append("xhtml:div"),i=oe();let a=e.label;e.label&&cs(e.label)&&(a=await hy(e.label.replace(_s.lineBreakRegex,`
`),i));const l='<span class="'+(e.isNode?"nodeLabel":"edgeLabel")+'" '+(e.labelStyle?'style="'+e.labelStyle+'"':"")+">"+a+"</span>";return n.html(ci(l,i)),mA(n,e.labelStyle),n.style("display","inline-block"),n.style("padding-right","1px"),n.style("white-space","nowrap"),n.attr("xmlns","http://www.w3.org/1999/xhtml"),t.node()}T(yA,"addHtmlLabel");var qG=T(async(e,t,n,i)=>{let a=e||"";if(typeof a=="object"&&(a=a[0]),qe(oe().flowchart.htmlLabels)){a=a.replace(/\\n|\n/g,"<br />"),st.info("vertexText"+a);const s={isNode:i,label:to(a).replace(/fa[blrs]?:fa-[\w-]+/g,c=>`<i class='${c.replace(":"," ")}'></i>`),labelStyle:t&&t.replace("fill:","color:")};return await yA(s)}else{const s=document.createElementNS("http://www.w3.org/2000/svg","text");s.setAttribute("style",t.replace("color:","fill:"));let l=[];typeof a=="string"?l=a.split(/\\n|\n|<br\s*\/?>/gi):Array.isArray(a)?l=a:l=[];for(const c of l){const f=document.createElementNS("http://www.w3.org/2000/svg","tspan");f.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),f.setAttribute("dy","1em"),f.setAttribute("x","0"),n?f.setAttribute("class","title-row"):f.setAttribute("class","row"),f.textContent=c.trim(),s.appendChild(f)}return s}},"createLabel"),$a=qG,ua=T((e,t,n,i,a)=>["M",e+a,t,"H",e+n-a,"A",a,a,0,0,1,e+n,t+a,"V",t+i-a,"A",a,a,0,0,1,e+n-a,t+i,"H",e+a,"A",a,a,0,0,1,e,t+i-a,"V",t+a,"A",a,a,0,0,1,e+a,t,"Z"].join(" "),"createRoundedRectPathD"),vA=T(async(e,t)=>{st.info("Creating subgraph rect for ",t.id,t);const n=oe(),{themeVariables:i,handDrawnSeed:a}=n,{clusterBkg:s,clusterBorder:l}=i,{labelStyles:c,nodeStyles:f,borderStyles:h,backgroundStyles:d}=Tt(t),m=e.insert("g").attr("class","cluster "+t.cssClasses).attr("id",t.id).attr("data-look",t.look),v=qe(n.flowchart.htmlLabels),x=m.insert("g").attr("class","cluster-label "),S=await ca(x,t.label,{style:t.labelStyle,useHtmlLabels:v,isNode:!0});let b=S.getBBox();if(qe(n.flowchart.htmlLabels)){const N=S.children[0],V=Qt(S);b=N.getBoundingClientRect(),V.attr("width",b.width),V.attr("height",b.height)}const E=t.width<=b.width+t.padding?b.width+t.padding:t.width;t.width<=b.width+t.padding?t.diff=(E-t.width)/2-t.padding:t.diff=-t.padding;const A=t.height,k=t.x-E/2,R=t.y-A/2;st.trace("Data ",t,JSON.stringify(t));let I;if(t.look==="handDrawn"){const N=St.svg(m),V=bt(t,{roughness:.7,fill:s,stroke:l,fillWeight:3,seed:a}),Q=N.path(ua(k,R,E,A,0),V);I=m.insert(()=>(st.debug("Rough node insert CXC",Q),Q),":first-child"),I.select("path:nth-child(2)").attr("style",h.join(";")),I.select("path").attr("style",d.join(";").replace("fill","stroke"))}else I=m.insert("rect",":first-child"),I.attr("style",f).attr("rx",t.rx).attr("ry",t.ry).attr("x",k).attr("y",R).attr("width",E).attr("height",A);const{subGraphTitleTopMargin:B}=Fy(n);if(x.attr("transform",`translate(${t.x-b.width/2}, ${t.y-t.height/2+B})`),c){const N=x.select("span");N&&N.attr("style",c)}const L=I.node().getBBox();return t.offsetX=0,t.width=L.width,t.height=L.height,t.offsetY=b.height-t.padding/2,t.intersect=function(N){return bs(t,N)},{cluster:m,labelBBox:b}},"rect"),HG=T((e,t)=>{const n=e.insert("g").attr("class","note-cluster").attr("id",t.id),i=n.insert("rect",":first-child"),a=0*t.padding,s=a/2;i.attr("rx",t.rx).attr("ry",t.ry).attr("x",t.x-t.width/2-s).attr("y",t.y-t.height/2-s).attr("width",t.width+a).attr("height",t.height+a).attr("fill","none");const l=i.node().getBBox();return t.width=l.width,t.height=l.height,t.intersect=function(c){return bs(t,c)},{cluster:n,labelBBox:{width:0,height:0}}},"noteGroup"),GG=T(async(e,t)=>{const n=oe(),{themeVariables:i,handDrawnSeed:a}=n,{altBackground:s,compositeBackground:l,compositeTitleBackground:c,nodeBorder:f}=i,h=e.insert("g").attr("class",t.cssClasses).attr("id",t.id).attr("data-id",t.id).attr("data-look",t.look),d=h.insert("g",":first-child"),m=h.insert("g").attr("class","cluster-label");let v=h.append("rect");const x=m.node().appendChild(await $a(t.label,t.labelStyle,void 0,!0));let S=x.getBBox();if(qe(n.flowchart.htmlLabels)){const Q=x.children[0],et=Qt(x);S=Q.getBoundingClientRect(),et.attr("width",S.width),et.attr("height",S.height)}const b=0*t.padding,E=b/2,A=(t.width<=S.width+t.padding?S.width+t.padding:t.width)+b;t.width<=S.width+t.padding?t.diff=(A-t.width)/2-t.padding:t.diff=-t.padding;const k=t.height+b,R=t.height+b-S.height-6,I=t.x-A/2,B=t.y-k/2;t.width=A;const L=t.y-t.height/2-E+S.height+2;let N;if(t.look==="handDrawn"){const Q=t.cssClasses.includes("statediagram-cluster-alt"),et=St.svg(h),Y=t.rx||t.ry?et.path(ua(I,B,A,k,10),{roughness:.7,fill:c,fillStyle:"solid",stroke:f,seed:a}):et.rectangle(I,B,A,k,{seed:a});N=h.insert(()=>Y,":first-child");const ct=et.rectangle(I,L,A,R,{fill:Q?s:l,fillStyle:Q?"hachure":"solid",stroke:f,seed:a});N=h.insert(()=>Y,":first-child"),v=h.insert(()=>ct)}else N=d.insert("rect",":first-child"),N.attr("class","outer").attr("x",I).attr("y",B).attr("width",A).attr("height",k).attr("data-look",t.look),v.attr("class","inner").attr("x",I).attr("y",L).attr("width",A).attr("height",R);m.attr("transform",`translate(${t.x-S.width/2}, ${B+1-(qe(n.flowchart.htmlLabels)?0:3)})`);const V=N.node().getBBox();return t.height=V.height,t.offsetX=0,t.offsetY=S.height-t.padding/2,t.labelBBox=S,t.intersect=function(Q){return bs(t,Q)},{cluster:h,labelBBox:S}},"roundedWithTitle"),VG=T(async(e,t)=>{st.info("Creating subgraph rect for ",t.id,t);const n=oe(),{themeVariables:i,handDrawnSeed:a}=n,{clusterBkg:s,clusterBorder:l}=i,{labelStyles:c,nodeStyles:f,borderStyles:h,backgroundStyles:d}=Tt(t),m=e.insert("g").attr("class","cluster "+t.cssClasses).attr("id",t.id).attr("data-look",t.look),v=qe(n.flowchart.htmlLabels),x=m.insert("g").attr("class","cluster-label "),S=await ca(x,t.label,{style:t.labelStyle,useHtmlLabels:v,isNode:!0,width:t.width});let b=S.getBBox();if(qe(n.flowchart.htmlLabels)){const N=S.children[0],V=Qt(S);b=N.getBoundingClientRect(),V.attr("width",b.width),V.attr("height",b.height)}const E=t.width<=b.width+t.padding?b.width+t.padding:t.width;t.width<=b.width+t.padding?t.diff=(E-t.width)/2-t.padding:t.diff=-t.padding;const A=t.height,k=t.x-E/2,R=t.y-A/2;st.trace("Data ",t,JSON.stringify(t));let I;if(t.look==="handDrawn"){const N=St.svg(m),V=bt(t,{roughness:.7,fill:s,stroke:l,fillWeight:4,seed:a}),Q=N.path(ua(k,R,E,A,t.rx),V);I=m.insert(()=>(st.debug("Rough node insert CXC",Q),Q),":first-child"),I.select("path:nth-child(2)").attr("style",h.join(";")),I.select("path").attr("style",d.join(";").replace("fill","stroke"))}else I=m.insert("rect",":first-child"),I.attr("style",f).attr("rx",t.rx).attr("ry",t.ry).attr("x",k).attr("y",R).attr("width",E).attr("height",A);const{subGraphTitleTopMargin:B}=Fy(n);if(x.attr("transform",`translate(${t.x-b.width/2}, ${t.y-t.height/2+B})`),c){const N=x.select("span");N&&N.attr("style",c)}const L=I.node().getBBox();return t.offsetX=0,t.width=L.width,t.height=L.height,t.offsetY=b.height-t.padding/2,t.intersect=function(N){return bs(t,N)},{cluster:m,labelBBox:b}},"kanbanSection"),YG=T((e,t)=>{const n=oe(),{themeVariables:i,handDrawnSeed:a}=n,{nodeBorder:s}=i,l=e.insert("g").attr("class",t.cssClasses).attr("id",t.id).attr("data-look",t.look),c=l.insert("g",":first-child"),f=0*t.padding,h=t.width+f;t.diff=-t.padding;const d=t.height+f,m=t.x-h/2,v=t.y-d/2;t.width=h;let x;if(t.look==="handDrawn"){const E=St.svg(l).rectangle(m,v,h,d,{fill:"lightgrey",roughness:.5,strokeLineDash:[5],stroke:s,seed:a});x=l.insert(()=>E,":first-child")}else x=c.insert("rect",":first-child"),x.attr("class","divider").attr("x",m).attr("y",v).attr("width",h).attr("height",d).attr("data-look",t.look);const S=x.node().getBBox();return t.height=S.height,t.offsetX=0,t.offsetY=0,t.intersect=function(b){return bs(t,b)},{cluster:l,labelBBox:{}}},"divider"),WG=vA,XG={rect:vA,squareRect:WG,roundedWithTitle:GG,noteGroup:HG,divider:YG,kanbanSection:VG},_A=new Map,JG=T(async(e,t)=>{const n=t.shape||"rect",i=await XG[n](e,t);return _A.set(t.id,i),i},"insertCluster"),kX=T(()=>{_A=new Map},"clear");function xA(e,t){return e.intersect(t)}T(xA,"intersectNode");var KG=xA;function CA(e,t,n,i){var a=e.x,s=e.y,l=a-i.x,c=s-i.y,f=Math.sqrt(t*t*c*c+n*n*l*l),h=Math.abs(t*n*l/f);i.x<a&&(h=-h);var d=Math.abs(t*n*c/f);return i.y<s&&(d=-d),{x:a+h,y:s+d}}T(CA,"intersectEllipse");var SA=CA;function bA(e,t,n){return SA(e,t,t,n)}T(bA,"intersectCircle");var QG=bA;function TA(e,t,n,i){{const a=t.y-e.y,s=e.x-t.x,l=t.x*e.y-e.x*t.y,c=a*n.x+s*n.y+l,f=a*i.x+s*i.y+l,h=1e-6;if(c!==0&&f!==0&&Um(c,f))return;const d=i.y-n.y,m=n.x-i.x,v=i.x*n.y-n.x*i.y,x=d*e.x+m*e.y+v,S=d*t.x+m*t.y+v;if(Math.abs(x)<h&&Math.abs(S)<h&&Um(x,S))return;const b=a*m-d*s;if(b===0)return;const E=Math.abs(b/2);let A=s*v-m*l;const k=A<0?(A-E)/b:(A+E)/b;A=d*l-a*v;const R=A<0?(A-E)/b:(A+E)/b;return{x:k,y:R}}}T(TA,"intersectLine");function Um(e,t){return e*t>0}T(Um,"sameSign");var ZG=TA;function EA(e,t,n){let i=e.x,a=e.y,s=[],l=Number.POSITIVE_INFINITY,c=Number.POSITIVE_INFINITY;typeof t.forEach=="function"?t.forEach(function(d){l=Math.min(l,d.x),c=Math.min(c,d.y)}):(l=Math.min(l,t.x),c=Math.min(c,t.y));let f=i-e.width/2-l,h=a-e.height/2-c;for(let d=0;d<t.length;d++){let m=t[d],v=t[d<t.length-1?d+1:0],x=ZG(e,n,{x:f+m.x,y:h+m.y},{x:f+v.x,y:h+v.y});x&&s.push(x)}return s.length?(s.length>1&&s.sort(function(d,m){let v=d.x-n.x,x=d.y-n.y,S=Math.sqrt(v*v+x*x),b=m.x-n.x,E=m.y-n.y,A=Math.sqrt(b*b+E*E);return S<A?-1:S===A?0:1}),s[0]):e}T(EA,"intersectPolygon");var jG=EA,yt={node:KG,circle:QG,ellipse:SA,polygon:jG,rect:bs};function wA(e,t){const{labelStyles:n}=Tt(t);t.labelStyle=n;const i=Nt(t);let a=i;i||(a="anchor");const s=e.insert("g").attr("class",a).attr("id",t.domId||t.id),l=1,{cssStyles:c}=t,f=St.svg(s),h=bt(t,{fill:"black",stroke:"none",fillStyle:"solid"});t.look!=="handDrawn"&&(h.roughness=0);const d=f.circle(0,0,l*2,h),m=s.insert(()=>d,":first-child");return m.attr("class","anchor").attr("style",un(c)),Et(t,m),t.intersect=function(v){return st.info("Circle intersect",t,l,v),yt.circle(t,l,v)},s}T(wA,"anchor");function $m(e,t,n,i,a,s,l){const f=(e+n)/2,h=(t+i)/2,d=Math.atan2(i-t,n-e),m=(n-e)/2,v=(i-t)/2,x=m/a,S=v/s,b=Math.sqrt(x**2+S**2);if(b>1)throw new Error("The given radii are too small to create an arc between the points.");const E=Math.sqrt(1-b**2),A=f+E*s*Math.sin(d)*(l?-1:1),k=h-E*a*Math.cos(d)*(l?-1:1),R=Math.atan2((t-k)/s,(e-A)/a);let B=Math.atan2((i-k)/s,(n-A)/a)-R;l&&B<0&&(B+=2*Math.PI),!l&&B>0&&(B-=2*Math.PI);const L=[];for(let N=0;N<20;N++){const V=N/19,Q=R+V*B,et=A+a*Math.cos(Q),Y=k+s*Math.sin(Q);L.push({x:et,y:Y})}return L}T($m,"generateArcPoints");async function AA(e,t){const{labelStyles:n,nodeStyles:i}=Tt(t);t.labelStyle=n;const{shapeSvg:a,bbox:s}=await Dt(e,t,Nt(t)),l=s.width+t.padding+20,c=s.height+t.padding,f=c/2,h=f/(2.5+c/50),{cssStyles:d}=t,m=[{x:l/2,y:-c/2},{x:-l/2,y:-c/2},...$m(-l/2,-c/2,-l/2,c/2,h,f,!1),{x:l/2,y:c/2},...$m(l/2,c/2,l/2,-c/2,h,f,!0)],v=St.svg(a),x=bt(t,{});t.look!=="handDrawn"&&(x.roughness=0,x.fillStyle="solid");const S=Yt(m),b=v.path(S,x),E=a.insert(()=>b,":first-child");return E.attr("class","basic label-container"),d&&t.look!=="handDrawn"&&E.selectAll("path").attr("style",d),i&&t.look!=="handDrawn"&&E.selectAll("path").attr("style",i),E.attr("transform",`translate(${h/2}, 0)`),Et(t,E),t.intersect=function(A){return yt.polygon(t,m,A)},a}T(AA,"bowTieRect");function ha(e,t,n,i){return e.insert("polygon",":first-child").attr("points",i.map(function(a){return a.x+","+a.y}).join(" ")).attr("class","label-container").attr("transform","translate("+-t/2+","+n/2+")")}T(ha,"insertPolygonShape");async function kA(e,t){const{labelStyles:n,nodeStyles:i}=Tt(t);t.labelStyle=n;const{shapeSvg:a,bbox:s}=await Dt(e,t,Nt(t)),l=s.height+t.padding,c=12,f=s.width+t.padding+c,h=0,d=f,m=-l,v=0,x=[{x:h+c,y:m},{x:d,y:m},{x:d,y:v},{x:h,y:v},{x:h,y:m+c},{x:h+c,y:m}];let S;const{cssStyles:b}=t;if(t.look==="handDrawn"){const E=St.svg(a),A=bt(t,{}),k=Yt(x),R=E.path(k,A);S=a.insert(()=>R,":first-child").attr("transform",`translate(${-f/2}, ${l/2})`),b&&S.attr("style",b)}else S=ha(a,f,l,x);return i&&S.attr("style",i),Et(t,S),t.intersect=function(E){return yt.polygon(t,x,E)},a}T(kA,"card");function MA(e,t){const{nodeStyles:n}=Tt(t);t.label="";const i=e.insert("g").attr("class",Nt(t)).attr("id",t.domId??t.id),{cssStyles:a}=t,s=Math.max(28,t.width??0),l=[{x:0,y:s/2},{x:s/2,y:0},{x:0,y:-s/2},{x:-s/2,y:0}],c=St.svg(i),f=bt(t,{});t.look!=="handDrawn"&&(f.roughness=0,f.fillStyle="solid");const h=Yt(l),d=c.path(h,f),m=i.insert(()=>d,":first-child");return a&&t.look!=="handDrawn"&&m.selectAll("path").attr("style",a),n&&t.look!=="handDrawn"&&m.selectAll("path").attr("style",n),t.width=28,t.height=28,t.intersect=function(v){return yt.polygon(t,l,v)},i}T(MA,"choice");async function a0(e,t,n){const{labelStyles:i,nodeStyles:a}=Tt(t);t.labelStyle=i;const{shapeSvg:s,bbox:l,halfPadding:c}=await Dt(e,t,Nt(t)),f=(n==null?void 0:n.padding)??c,h=l.width/2+f;let d;const{cssStyles:m}=t;if(t.look==="handDrawn"){const v=St.svg(s),x=bt(t,{}),S=v.circle(0,0,h*2,x);d=s.insert(()=>S,":first-child"),d.attr("class","basic label-container").attr("style",un(m))}else d=s.insert("circle",":first-child").attr("class","basic label-container").attr("style",a).attr("r",h).attr("cx",0).attr("cy",0);return Et(t,d),t.calcIntersect=function(v,x){const S=v.width/2;return yt.circle(v,S,x)},t.intersect=function(v){return st.info("Circle intersect",t,h,v),yt.circle(t,h,v)},s}T(a0,"circle");function RA(e){const t=Math.cos(Math.PI/4),n=Math.sin(Math.PI/4),i=e*2,a={x:i/2*t,y:i/2*n},s={x:-(i/2)*t,y:i/2*n},l={x:-(i/2)*t,y:-(i/2)*n},c={x:i/2*t,y:-(i/2)*n};return`M ${s.x},${s.y} L ${c.x},${c.y}
                   M ${a.x},${a.y} L ${l.x},${l.y}`}T(RA,"createLine");function NA(e,t){const{labelStyles:n,nodeStyles:i}=Tt(t);t.labelStyle=n,t.label="";const a=e.insert("g").attr("class",Nt(t)).attr("id",t.domId??t.id),s=Math.max(30,(t==null?void 0:t.width)??0),{cssStyles:l}=t,c=St.svg(a),f=bt(t,{});t.look!=="handDrawn"&&(f.roughness=0,f.fillStyle="solid");const h=c.circle(0,0,s*2,f),d=RA(s),m=c.path(d,f),v=a.insert(()=>h,":first-child");return v.insert(()=>m),l&&t.look!=="handDrawn"&&v.selectAll("path").attr("style",l),i&&t.look!=="handDrawn"&&v.selectAll("path").attr("style",i),Et(t,v),t.intersect=function(x){return st.info("crossedCircle intersect",t,{radius:s,point:x}),yt.circle(t,s,x)},a}T(NA,"crossedCircle");function mr(e,t,n,i=100,a=0,s=180){const l=[],c=a*Math.PI/180,d=(s*Math.PI/180-c)/(i-1);for(let m=0;m<i;m++){const v=c+m*d,x=e+n*Math.cos(v),S=t+n*Math.sin(v);l.push({x:-x,y:-S})}return l}T(mr,"generateCirclePoints");async function LA(e,t){const{labelStyles:n,nodeStyles:i}=Tt(t);t.labelStyle=n;const{shapeSvg:a,bbox:s,label:l}=await Dt(e,t,Nt(t)),c=s.width+(t.padding??0),f=s.height+(t.padding??0),h=Math.max(5,f*.1),{cssStyles:d}=t,m=[...mr(c/2,-f/2,h,30,-90,0),{x:-c/2-h,y:h},...mr(c/2+h*2,-h,h,20,-180,-270),...mr(c/2+h*2,h,h,20,-90,-180),{x:-c/2-h,y:-f/2},...mr(c/2,f/2,h,20,0,90)],v=[{x:c/2,y:-f/2-h},{x:-c/2,y:-f/2-h},...mr(c/2,-f/2,h,20,-90,0),{x:-c/2-h,y:-h},...mr(c/2+c*.1,-h,h,20,-180,-270),...mr(c/2+c*.1,h,h,20,-90,-180),{x:-c/2-h,y:f/2},...mr(c/2,f/2,h,20,0,90),{x:-c/2,y:f/2+h},{x:c/2,y:f/2+h}],x=St.svg(a),S=bt(t,{fill:"none"});t.look!=="handDrawn"&&(S.roughness=0,S.fillStyle="solid");const E=Yt(m).replace("Z",""),A=x.path(E,S),k=Yt(v),R=x.path(k,{...S}),I=a.insert("g",":first-child");return I.insert(()=>R,":first-child").attr("stroke-opacity",0),I.insert(()=>A,":first-child"),I.attr("class","text"),d&&t.look!=="handDrawn"&&I.selectAll("path").attr("style",d),i&&t.look!=="handDrawn"&&I.selectAll("path").attr("style",i),I.attr("transform",`translate(${h}, 0)`),l.attr("transform",`translate(${-c/2+h-(s.x-(s.left??0))},${-f/2+(t.padding??0)/2-(s.y-(s.top??0))})`),Et(t,I),t.intersect=function(B){return yt.polygon(t,v,B)},a}T(LA,"curlyBraceLeft");function yr(e,t,n,i=100,a=0,s=180){const l=[],c=a*Math.PI/180,d=(s*Math.PI/180-c)/(i-1);for(let m=0;m<i;m++){const v=c+m*d,x=e+n*Math.cos(v),S=t+n*Math.sin(v);l.push({x,y:S})}return l}T(yr,"generateCirclePoints");async function DA(e,t){const{labelStyles:n,nodeStyles:i}=Tt(t);t.labelStyle=n;const{shapeSvg:a,bbox:s,label:l}=await Dt(e,t,Nt(t)),c=s.width+(t.padding??0),f=s.height+(t.padding??0),h=Math.max(5,f*.1),{cssStyles:d}=t,m=[...yr(c/2,-f/2,h,20,-90,0),{x:c/2+h,y:-h},...yr(c/2+h*2,-h,h,20,-180,-270),...yr(c/2+h*2,h,h,20,-90,-180),{x:c/2+h,y:f/2},...yr(c/2,f/2,h,20,0,90)],v=[{x:-c/2,y:-f/2-h},{x:c/2,y:-f/2-h},...yr(c/2,-f/2,h,20,-90,0),{x:c/2+h,y:-h},...yr(c/2+h*2,-h,h,20,-180,-270),...yr(c/2+h*2,h,h,20,-90,-180),{x:c/2+h,y:f/2},...yr(c/2,f/2,h,20,0,90),{x:c/2,y:f/2+h},{x:-c/2,y:f/2+h}],x=St.svg(a),S=bt(t,{fill:"none"});t.look!=="handDrawn"&&(S.roughness=0,S.fillStyle="solid");const E=Yt(m).replace("Z",""),A=x.path(E,S),k=Yt(v),R=x.path(k,{...S}),I=a.insert("g",":first-child");return I.insert(()=>R,":first-child").attr("stroke-opacity",0),I.insert(()=>A,":first-child"),I.attr("class","text"),d&&t.look!=="handDrawn"&&I.selectAll("path").attr("style",d),i&&t.look!=="handDrawn"&&I.selectAll("path").attr("style",i),I.attr("transform",`translate(${-h}, 0)`),l.attr("transform",`translate(${-c/2+(t.padding??0)/2-(s.x-(s.left??0))},${-f/2+(t.padding??0)/2-(s.y-(s.top??0))})`),Et(t,I),t.intersect=function(B){return yt.polygon(t,v,B)},a}T(DA,"curlyBraceRight");function tn(e,t,n,i=100,a=0,s=180){const l=[],c=a*Math.PI/180,d=(s*Math.PI/180-c)/(i-1);for(let m=0;m<i;m++){const v=c+m*d,x=e+n*Math.cos(v),S=t+n*Math.sin(v);l.push({x:-x,y:-S})}return l}T(tn,"generateCirclePoints");async function IA(e,t){const{labelStyles:n,nodeStyles:i}=Tt(t);t.labelStyle=n;const{shapeSvg:a,bbox:s,label:l}=await Dt(e,t,Nt(t)),c=s.width+(t.padding??0),f=s.height+(t.padding??0),h=Math.max(5,f*.1),{cssStyles:d}=t,m=[...tn(c/2,-f/2,h,30,-90,0),{x:-c/2-h,y:h},...tn(c/2+h*2,-h,h,20,-180,-270),...tn(c/2+h*2,h,h,20,-90,-180),{x:-c/2-h,y:-f/2},...tn(c/2,f/2,h,20,0,90)],v=[...tn(-c/2+h+h/2,-f/2,h,20,-90,-180),{x:c/2-h/2,y:h},...tn(-c/2-h/2,-h,h,20,0,90),...tn(-c/2-h/2,h,h,20,-90,0),{x:c/2-h/2,y:-h},...tn(-c/2+h+h/2,f/2,h,30,-180,-270)],x=[{x:c/2,y:-f/2-h},{x:-c/2,y:-f/2-h},...tn(c/2,-f/2,h,20,-90,0),{x:-c/2-h,y:-h},...tn(c/2+h*2,-h,h,20,-180,-270),...tn(c/2+h*2,h,h,20,-90,-180),{x:-c/2-h,y:f/2},...tn(c/2,f/2,h,20,0,90),{x:-c/2,y:f/2+h},{x:c/2-h-h/2,y:f/2+h},...tn(-c/2+h+h/2,-f/2,h,20,-90,-180),{x:c/2-h/2,y:h},...tn(-c/2-h/2,-h,h,20,0,90),...tn(-c/2-h/2,h,h,20,-90,0),{x:c/2-h/2,y:-h},...tn(-c/2+h+h/2,f/2,h,30,-180,-270)],S=St.svg(a),b=bt(t,{fill:"none"});t.look!=="handDrawn"&&(b.roughness=0,b.fillStyle="solid");const A=Yt(m).replace("Z",""),k=S.path(A,b),I=Yt(v).replace("Z",""),B=S.path(I,b),L=Yt(x),N=S.path(L,{...b}),V=a.insert("g",":first-child");return V.insert(()=>N,":first-child").attr("stroke-opacity",0),V.insert(()=>k,":first-child"),V.insert(()=>B,":first-child"),V.attr("class","text"),d&&t.look!=="handDrawn"&&V.selectAll("path").attr("style",d),i&&t.look!=="handDrawn"&&V.selectAll("path").attr("style",i),V.attr("transform",`translate(${h-h/4}, 0)`),l.attr("transform",`translate(${-c/2+(t.padding??0)/2-(s.x-(s.left??0))},${-f/2+(t.padding??0)/2-(s.y-(s.top??0))})`),Et(t,V),t.intersect=function(Q){return yt.polygon(t,x,Q)},a}T(IA,"curlyBraces");async function BA(e,t){const{labelStyles:n,nodeStyles:i}=Tt(t);t.labelStyle=n;const{shapeSvg:a,bbox:s}=await Dt(e,t,Nt(t)),l=80,c=20,f=Math.max(l,(s.width+(t.padding??0)*2)*1.25,(t==null?void 0:t.width)??0),h=Math.max(c,s.height+(t.padding??0)*2,(t==null?void 0:t.height)??0),d=h/2,{cssStyles:m}=t,v=St.svg(a),x=bt(t,{});t.look!=="handDrawn"&&(x.roughness=0,x.fillStyle="solid");const S=f,b=h,E=S-d,A=b/4,k=[{x:E,y:0},{x:A,y:0},{x:0,y:b/2},{x:A,y:b},{x:E,y:b},...dc(-E,-b/2,d,50,270,90)],R=Yt(k),I=v.path(R,x),B=a.insert(()=>I,":first-child");return B.attr("class","basic label-container"),m&&t.look!=="handDrawn"&&B.selectChildren("path").attr("style",m),i&&t.look!=="handDrawn"&&B.selectChildren("path").attr("style",i),B.attr("transform",`translate(${-f/2}, ${-h/2})`),Et(t,B),t.intersect=function(L){return yt.polygon(t,k,L)},a}T(BA,"curvedTrapezoid");var tV=T((e,t,n,i,a,s)=>[`M${e},${t+s}`,`a${a},${s} 0,0,0 ${n},0`,`a${a},${s} 0,0,0 ${-n},0`,`l0,${i}`,`a${a},${s} 0,0,0 ${n},0`,`l0,${-i}`].join(" "),"createCylinderPathD"),eV=T((e,t,n,i,a,s)=>[`M${e},${t+s}`,`M${e+n},${t+s}`,`a${a},${s} 0,0,0 ${-n},0`,`l0,${i}`,`a${a},${s} 0,0,0 ${n},0`,`l0,${-i}`].join(" "),"createOuterCylinderPathD"),nV=T((e,t,n,i,a,s)=>[`M${e-n/2},${-i/2}`,`a${a},${s} 0,0,0 ${n},0`].join(" "),"createInnerCylinderPathD");async function FA(e,t){const{labelStyles:n,nodeStyles:i}=Tt(t);t.labelStyle=n;const{shapeSvg:a,bbox:s,label:l}=await Dt(e,t,Nt(t)),c=Math.max(s.width+t.padding,t.width??0),f=c/2,h=f/(2.5+c/50),d=Math.max(s.height+h+t.padding,t.height??0);let m;const{cssStyles:v}=t;if(t.look==="handDrawn"){const x=St.svg(a),S=eV(0,0,c,d,f,h),b=nV(0,h,c,d,f,h),E=x.path(S,bt(t,{})),A=x.path(b,bt(t,{fill:"none"}));m=a.insert(()=>A,":first-child"),m=a.insert(()=>E,":first-child"),m.attr("class","basic label-container"),v&&m.attr("style",v)}else{const x=tV(0,0,c,d,f,h);m=a.insert("path",":first-child").attr("d",x).attr("class","basic label-container").attr("style",un(v)).attr("style",i)}return m.attr("label-offset-y",h),m.attr("transform",`translate(${-c/2}, ${-(d/2+h)})`),Et(t,m),l.attr("transform",`translate(${-(s.width/2)-(s.x-(s.left??0))}, ${-(s.height/2)+(t.padding??0)/1.5-(s.y-(s.top??0))})`),t.intersect=function(x){const S=yt.rect(t,x),b=S.x-(t.x??0);if(f!=0&&(Math.abs(b)<(t.width??0)/2||Math.abs(b)==(t.width??0)/2&&Math.abs(S.y-(t.y??0))>(t.height??0)/2-h)){let E=h*h*(1-b*b/(f*f));E>0&&(E=Math.sqrt(E)),E=h-E,x.y-(t.y??0)>0&&(E=-E),S.y+=E}return S},a}T(FA,"cylinder");async function OA(e,t){const{labelStyles:n,nodeStyles:i}=Tt(t);t.labelStyle=n;const{shapeSvg:a,bbox:s,label:l}=await Dt(e,t,Nt(t)),c=s.width+t.padding,f=s.height+t.padding,h=f*.2,d=-c/2,m=-f/2-h/2,{cssStyles:v}=t,x=St.svg(a),S=bt(t,{});t.look!=="handDrawn"&&(S.roughness=0,S.fillStyle="solid");const b=[{x:d,y:m+h},{x:-d,y:m+h},{x:-d,y:-m},{x:d,y:-m},{x:d,y:m},{x:-d,y:m},{x:-d,y:m+h}],E=x.polygon(b.map(k=>[k.x,k.y]),S),A=a.insert(()=>E,":first-child");return A.attr("class","basic label-container"),v&&t.look!=="handDrawn"&&A.selectAll("path").attr("style",v),i&&t.look!=="handDrawn"&&A.selectAll("path").attr("style",i),l.attr("transform",`translate(${d+(t.padding??0)/2-(s.x-(s.left??0))}, ${m+h+(t.padding??0)/2-(s.y-(s.top??0))})`),Et(t,A),t.intersect=function(k){return yt.rect(t,k)},a}T(OA,"dividedRectangle");async function PA(e,t){var v,x;const{labelStyles:n,nodeStyles:i}=Tt(t);t.labelStyle=n;const{shapeSvg:a,bbox:s,halfPadding:l}=await Dt(e,t,Nt(t)),f=s.width/2+l+5,h=s.width/2+l;let d;const{cssStyles:m}=t;if(t.look==="handDrawn"){const S=St.svg(a),b=bt(t,{roughness:.2,strokeWidth:2.5}),E=bt(t,{roughness:.2,strokeWidth:1.5}),A=S.circle(0,0,f*2,b),k=S.circle(0,0,h*2,E);d=a.insert("g",":first-child"),d.attr("class",un(t.cssClasses)).attr("style",un(m)),(v=d.node())==null||v.appendChild(A),(x=d.node())==null||x.appendChild(k)}else{d=a.insert("g",":first-child");const S=d.insert("circle",":first-child"),b=d.insert("circle");d.attr("class","basic label-container").attr("style",i),S.attr("class","outer-circle").attr("style",i).attr("r",f).attr("cx",0).attr("cy",0),b.attr("class","inner-circle").attr("style",i).attr("r",h).attr("cx",0).attr("cy",0)}return Et(t,d),t.intersect=function(S){return st.info("DoubleCircle intersect",t,f,S),yt.circle(t,f,S)},a}T(PA,"doublecircle");function UA(e,t,{config:{themeVariables:n}}){const{labelStyles:i,nodeStyles:a}=Tt(t);t.label="",t.labelStyle=i;const s=e.insert("g").attr("class",Nt(t)).attr("id",t.domId??t.id),l=7,{cssStyles:c}=t,f=St.svg(s),{nodeBorder:h}=n,d=bt(t,{fillStyle:"solid"});t.look!=="handDrawn"&&(d.roughness=0);const m=f.circle(0,0,l*2,d),v=s.insert(()=>m,":first-child");return v.selectAll("path").attr("style",`fill: ${h} !important;`),c&&c.length>0&&t.look!=="handDrawn"&&v.selectAll("path").attr("style",c),a&&t.look!=="handDrawn"&&v.selectAll("path").attr("style",a),Et(t,v),t.intersect=function(x){return st.info("filledCircle intersect",t,{radius:l,point:x}),yt.circle(t,l,x)},s}T(UA,"filledCircle");async function $A(e,t){const{labelStyles:n,nodeStyles:i}=Tt(t);t.labelStyle=n;const{shapeSvg:a,bbox:s,label:l}=await Dt(e,t,Nt(t)),c=s.width+(t.padding??0),f=c+s.height,h=c+s.height,d=[{x:0,y:-f},{x:h,y:-f},{x:h/2,y:0}],{cssStyles:m}=t,v=St.svg(a),x=bt(t,{});t.look!=="handDrawn"&&(x.roughness=0,x.fillStyle="solid");const S=Yt(d),b=v.path(S,x),E=a.insert(()=>b,":first-child").attr("transform",`translate(${-f/2}, ${f/2})`);return m&&t.look!=="handDrawn"&&E.selectChildren("path").attr("style",m),i&&t.look!=="handDrawn"&&E.selectChildren("path").attr("style",i),t.width=c,t.height=f,Et(t,E),l.attr("transform",`translate(${-s.width/2-(s.x-(s.left??0))}, ${-f/2+(t.padding??0)/2+(s.y-(s.top??0))})`),t.intersect=function(A){return st.info("Triangle intersect",t,d,A),yt.polygon(t,d,A)},a}T($A,"flippedTriangle");function zA(e,t,{dir:n,config:{state:i,themeVariables:a}}){const{nodeStyles:s}=Tt(t);t.label="";const l=e.insert("g").attr("class",Nt(t)).attr("id",t.domId??t.id),{cssStyles:c}=t;let f=Math.max(70,(t==null?void 0:t.width)??0),h=Math.max(10,(t==null?void 0:t.height)??0);n==="LR"&&(f=Math.max(10,(t==null?void 0:t.width)??0),h=Math.max(70,(t==null?void 0:t.height)??0));const d=-1*f/2,m=-1*h/2,v=St.svg(l),x=bt(t,{stroke:a.lineColor,fill:a.lineColor});t.look!=="handDrawn"&&(x.roughness=0,x.fillStyle="solid");const S=v.rectangle(d,m,f,h,x),b=l.insert(()=>S,":first-child");c&&t.look!=="handDrawn"&&b.selectAll("path").attr("style",c),s&&t.look!=="handDrawn"&&b.selectAll("path").attr("style",s),Et(t,b);const E=(i==null?void 0:i.padding)??0;return t.width&&t.height&&(t.width+=E/2||0,t.height+=E/2||0),t.intersect=function(A){return yt.rect(t,A)},l}T(zA,"forkJoin");async function qA(e,t){const{labelStyles:n,nodeStyles:i}=Tt(t);t.labelStyle=n;const a=80,s=50,{shapeSvg:l,bbox:c}=await Dt(e,t,Nt(t)),f=Math.max(a,c.width+(t.padding??0)*2,(t==null?void 0:t.width)??0),h=Math.max(s,c.height+(t.padding??0)*2,(t==null?void 0:t.height)??0),d=h/2,{cssStyles:m}=t,v=St.svg(l),x=bt(t,{});t.look!=="handDrawn"&&(x.roughness=0,x.fillStyle="solid");const S=[{x:-f/2,y:-h/2},{x:f/2-d,y:-h/2},...dc(-f/2+d,0,d,50,90,270),{x:f/2-d,y:h/2},{x:-f/2,y:h/2}],b=Yt(S),E=v.path(b,x),A=l.insert(()=>E,":first-child");return A.attr("class","basic label-container"),m&&t.look!=="handDrawn"&&A.selectChildren("path").attr("style",m),i&&t.look!=="handDrawn"&&A.selectChildren("path").attr("style",i),Et(t,A),t.intersect=function(k){return st.info("Pill intersect",t,{radius:d,point:k}),yt.polygon(t,S,k)},l}T(qA,"halfRoundedRectangle");async function HA(e,t){const{labelStyles:n,nodeStyles:i}=Tt(t);t.labelStyle=n;const{shapeSvg:a,bbox:s}=await Dt(e,t,Nt(t)),l=s.height+(t.padding??0),c=s.width+(t.padding??0)*2.5,{cssStyles:f}=t,h=St.svg(a),d=bt(t,{});t.look!=="handDrawn"&&(d.roughness=0,d.fillStyle="solid");let m=c/2;const v=m/6;m=m+v;const x=l/2,S=x/2,b=m-S,E=[{x:-b,y:-x},{x:0,y:-x},{x:b,y:-x},{x:m,y:0},{x:b,y:x},{x:0,y:x},{x:-b,y:x},{x:-m,y:0}],A=Yt(E),k=h.path(A,d),R=a.insert(()=>k,":first-child");return R.attr("class","basic label-container"),f&&t.look!=="handDrawn"&&R.selectChildren("path").attr("style",f),i&&t.look!=="handDrawn"&&R.selectChildren("path").attr("style",i),t.width=c,t.height=l,Et(t,R),t.intersect=function(I){return yt.polygon(t,E,I)},a}T(HA,"hexagon");async function GA(e,t){const{labelStyles:n,nodeStyles:i}=Tt(t);t.label="",t.labelStyle=n;const{shapeSvg:a}=await Dt(e,t,Nt(t)),s=Math.max(30,(t==null?void 0:t.width)??0),l=Math.max(30,(t==null?void 0:t.height)??0),{cssStyles:c}=t,f=St.svg(a),h=bt(t,{});t.look!=="handDrawn"&&(h.roughness=0,h.fillStyle="solid");const d=[{x:0,y:0},{x:s,y:0},{x:0,y:l},{x:s,y:l}],m=Yt(d),v=f.path(m,h),x=a.insert(()=>v,":first-child");return x.attr("class","basic label-container"),c&&t.look!=="handDrawn"&&x.selectChildren("path").attr("style",c),i&&t.look!=="handDrawn"&&x.selectChildren("path").attr("style",i),x.attr("transform",`translate(${-s/2}, ${-l/2})`),Et(t,x),t.intersect=function(S){return st.info("Pill intersect",t,{points:d}),yt.polygon(t,d,S)},a}T(GA,"hourglass");async function VA(e,t,{config:{themeVariables:n,flowchart:i}}){const{labelStyles:a}=Tt(t);t.labelStyle=a;const s=t.assetHeight??48,l=t.assetWidth??48,c=Math.max(s,l),f=i==null?void 0:i.wrappingWidth;t.width=Math.max(c,f??0);const{shapeSvg:h,bbox:d,label:m}=await Dt(e,t,"icon-shape default"),v=t.pos==="t",x=c,S=c,{nodeBorder:b}=n,{stylesMap:E}=xs(t),A=-S/2,k=-x/2,R=t.label?8:0,I=St.svg(h),B=bt(t,{stroke:"none",fill:"none"});t.look!=="handDrawn"&&(B.roughness=0,B.fillStyle="solid");const L=I.rectangle(A,k,S,x,B),N=Math.max(S,d.width),V=x+d.height+R,Q=I.rectangle(-N/2,-V/2,N,V,{...B,fill:"transparent",stroke:"none"}),et=h.insert(()=>L,":first-child"),Y=h.insert(()=>Q);if(t.icon){const ct=h.append("g");ct.html(`<g>${await Tc(t.icon,{height:c,width:c,fallbackPrefix:""})}</g>`);const nt=ct.node().getBBox(),W=nt.width,H=nt.height,D=nt.x,P=nt.y;ct.attr("transform",`translate(${-W/2-D},${v?d.height/2+R/2-H/2-P:-d.height/2-R/2-H/2-P})`),ct.attr("style",`color: ${E.get("stroke")??b};`)}return m.attr("transform",`translate(${-d.width/2-(d.x-(d.left??0))},${v?-V/2:V/2-d.height})`),et.attr("transform",`translate(0,${v?d.height/2+R/2:-d.height/2-R/2})`),Et(t,Y),t.intersect=function(ct){if(st.info("iconSquare intersect",t,ct),!t.label)return yt.rect(t,ct);const nt=t.x??0,W=t.y??0,H=t.height??0;let D=[];return v?D=[{x:nt-d.width/2,y:W-H/2},{x:nt+d.width/2,y:W-H/2},{x:nt+d.width/2,y:W-H/2+d.height+R},{x:nt+S/2,y:W-H/2+d.height+R},{x:nt+S/2,y:W+H/2},{x:nt-S/2,y:W+H/2},{x:nt-S/2,y:W-H/2+d.height+R},{x:nt-d.width/2,y:W-H/2+d.height+R}]:D=[{x:nt-S/2,y:W-H/2},{x:nt+S/2,y:W-H/2},{x:nt+S/2,y:W-H/2+x},{x:nt+d.width/2,y:W-H/2+x},{x:nt+d.width/2/2,y:W+H/2},{x:nt-d.width/2,y:W+H/2},{x:nt-d.width/2,y:W-H/2+x},{x:nt-S/2,y:W-H/2+x}],yt.polygon(t,D,ct)},h}T(VA,"icon");async function YA(e,t,{config:{themeVariables:n,flowchart:i}}){const{labelStyles:a}=Tt(t);t.labelStyle=a;const s=t.assetHeight??48,l=t.assetWidth??48,c=Math.max(s,l),f=i==null?void 0:i.wrappingWidth;t.width=Math.max(c,f??0);const{shapeSvg:h,bbox:d,label:m}=await Dt(e,t,"icon-shape default"),v=20,x=t.label?8:0,S=t.pos==="t",{nodeBorder:b,mainBkg:E}=n,{stylesMap:A}=xs(t),k=St.svg(h),R=bt(t,{});t.look!=="handDrawn"&&(R.roughness=0,R.fillStyle="solid");const I=A.get("fill");R.stroke=I??E;const B=h.append("g");t.icon&&B.html(`<g>${await Tc(t.icon,{height:c,width:c,fallbackPrefix:""})}</g>`);const L=B.node().getBBox(),N=L.width,V=L.height,Q=L.x,et=L.y,Y=Math.max(N,V)*Math.SQRT2+v*2,ct=k.circle(0,0,Y,R),nt=Math.max(Y,d.width),W=Y+d.height+x,H=k.rectangle(-nt/2,-W/2,nt,W,{...R,fill:"transparent",stroke:"none"}),D=h.insert(()=>ct,":first-child"),P=h.insert(()=>H);return B.attr("transform",`translate(${-N/2-Q},${S?d.height/2+x/2-V/2-et:-d.height/2-x/2-V/2-et})`),B.attr("style",`color: ${A.get("stroke")??b};`),m.attr("transform",`translate(${-d.width/2-(d.x-(d.left??0))},${S?-W/2:W/2-d.height})`),D.attr("transform",`translate(0,${S?d.height/2+x/2:-d.height/2-x/2})`),Et(t,P),t.intersect=function(z){return st.info("iconSquare intersect",t,z),yt.rect(t,z)},h}T(YA,"iconCircle");async function WA(e,t,{config:{themeVariables:n,flowchart:i}}){const{labelStyles:a}=Tt(t);t.labelStyle=a;const s=t.assetHeight??48,l=t.assetWidth??48,c=Math.max(s,l),f=i==null?void 0:i.wrappingWidth;t.width=Math.max(c,f??0);const{shapeSvg:h,bbox:d,halfPadding:m,label:v}=await Dt(e,t,"icon-shape default"),x=t.pos==="t",S=c+m*2,b=c+m*2,{nodeBorder:E,mainBkg:A}=n,{stylesMap:k}=xs(t),R=-b/2,I=-S/2,B=t.label?8:0,L=St.svg(h),N=bt(t,{});t.look!=="handDrawn"&&(N.roughness=0,N.fillStyle="solid");const V=k.get("fill");N.stroke=V??A;const Q=L.path(ua(R,I,b,S,5),N),et=Math.max(b,d.width),Y=S+d.height+B,ct=L.rectangle(-et/2,-Y/2,et,Y,{...N,fill:"transparent",stroke:"none"}),nt=h.insert(()=>Q,":first-child").attr("class","icon-shape2"),W=h.insert(()=>ct);if(t.icon){const H=h.append("g");H.html(`<g>${await Tc(t.icon,{height:c,width:c,fallbackPrefix:""})}</g>`);const D=H.node().getBBox(),P=D.width,z=D.height,lt=D.x,ft=D.y;H.attr("transform",`translate(${-P/2-lt},${x?d.height/2+B/2-z/2-ft:-d.height/2-B/2-z/2-ft})`),H.attr("style",`color: ${k.get("stroke")??E};`)}return v.attr("transform",`translate(${-d.width/2-(d.x-(d.left??0))},${x?-Y/2:Y/2-d.height})`),nt.attr("transform",`translate(0,${x?d.height/2+B/2:-d.height/2-B/2})`),Et(t,W),t.intersect=function(H){if(st.info("iconSquare intersect",t,H),!t.label)return yt.rect(t,H);const D=t.x??0,P=t.y??0,z=t.height??0;let lt=[];return x?lt=[{x:D-d.width/2,y:P-z/2},{x:D+d.width/2,y:P-z/2},{x:D+d.width/2,y:P-z/2+d.height+B},{x:D+b/2,y:P-z/2+d.height+B},{x:D+b/2,y:P+z/2},{x:D-b/2,y:P+z/2},{x:D-b/2,y:P-z/2+d.height+B},{x:D-d.width/2,y:P-z/2+d.height+B}]:lt=[{x:D-b/2,y:P-z/2},{x:D+b/2,y:P-z/2},{x:D+b/2,y:P-z/2+S},{x:D+d.width/2,y:P-z/2+S},{x:D+d.width/2/2,y:P+z/2},{x:D-d.width/2,y:P+z/2},{x:D-d.width/2,y:P-z/2+S},{x:D-b/2,y:P-z/2+S}],yt.polygon(t,lt,H)},h}T(WA,"iconRounded");async function XA(e,t,{config:{themeVariables:n,flowchart:i}}){const{labelStyles:a}=Tt(t);t.labelStyle=a;const s=t.assetHeight??48,l=t.assetWidth??48,c=Math.max(s,l),f=i==null?void 0:i.wrappingWidth;t.width=Math.max(c,f??0);const{shapeSvg:h,bbox:d,halfPadding:m,label:v}=await Dt(e,t,"icon-shape default"),x=t.pos==="t",S=c+m*2,b=c+m*2,{nodeBorder:E,mainBkg:A}=n,{stylesMap:k}=xs(t),R=-b/2,I=-S/2,B=t.label?8:0,L=St.svg(h),N=bt(t,{});t.look!=="handDrawn"&&(N.roughness=0,N.fillStyle="solid");const V=k.get("fill");N.stroke=V??A;const Q=L.path(ua(R,I,b,S,.1),N),et=Math.max(b,d.width),Y=S+d.height+B,ct=L.rectangle(-et/2,-Y/2,et,Y,{...N,fill:"transparent",stroke:"none"}),nt=h.insert(()=>Q,":first-child"),W=h.insert(()=>ct);if(t.icon){const H=h.append("g");H.html(`<g>${await Tc(t.icon,{height:c,width:c,fallbackPrefix:""})}</g>`);const D=H.node().getBBox(),P=D.width,z=D.height,lt=D.x,ft=D.y;H.attr("transform",`translate(${-P/2-lt},${x?d.height/2+B/2-z/2-ft:-d.height/2-B/2-z/2-ft})`),H.attr("style",`color: ${k.get("stroke")??E};`)}return v.attr("transform",`translate(${-d.width/2-(d.x-(d.left??0))},${x?-Y/2:Y/2-d.height})`),nt.attr("transform",`translate(0,${x?d.height/2+B/2:-d.height/2-B/2})`),Et(t,W),t.intersect=function(H){if(st.info("iconSquare intersect",t,H),!t.label)return yt.rect(t,H);const D=t.x??0,P=t.y??0,z=t.height??0;let lt=[];return x?lt=[{x:D-d.width/2,y:P-z/2},{x:D+d.width/2,y:P-z/2},{x:D+d.width/2,y:P-z/2+d.height+B},{x:D+b/2,y:P-z/2+d.height+B},{x:D+b/2,y:P+z/2},{x:D-b/2,y:P+z/2},{x:D-b/2,y:P-z/2+d.height+B},{x:D-d.width/2,y:P-z/2+d.height+B}]:lt=[{x:D-b/2,y:P-z/2},{x:D+b/2,y:P-z/2},{x:D+b/2,y:P-z/2+S},{x:D+d.width/2,y:P-z/2+S},{x:D+d.width/2/2,y:P+z/2},{x:D-d.width/2,y:P+z/2},{x:D-d.width/2,y:P-z/2+S},{x:D-b/2,y:P-z/2+S}],yt.polygon(t,lt,H)},h}T(XA,"iconSquare");async function JA(e,t,{config:{flowchart:n}}){const i=new Image;i.src=(t==null?void 0:t.img)??"",await i.decode();const a=Number(i.naturalWidth.toString().replace("px","")),s=Number(i.naturalHeight.toString().replace("px",""));t.imageAspectRatio=a/s;const{labelStyles:l}=Tt(t);t.labelStyle=l;const c=n==null?void 0:n.wrappingWidth;t.defaultWidth=n==null?void 0:n.wrappingWidth;const f=Math.max(t.label?c??0:0,(t==null?void 0:t.assetWidth)??a),h=t.constraint==="on"&&t!=null&&t.assetHeight?t.assetHeight*t.imageAspectRatio:f,d=t.constraint==="on"?h/t.imageAspectRatio:(t==null?void 0:t.assetHeight)??s;t.width=Math.max(h,c??0);const{shapeSvg:m,bbox:v,label:x}=await Dt(e,t,"image-shape default"),S=t.pos==="t",b=-h/2,E=-d/2,A=t.label?8:0,k=St.svg(m),R=bt(t,{});t.look!=="handDrawn"&&(R.roughness=0,R.fillStyle="solid");const I=k.rectangle(b,E,h,d,R),B=Math.max(h,v.width),L=d+v.height+A,N=k.rectangle(-B/2,-L/2,B,L,{...R,fill:"none",stroke:"none"}),V=m.insert(()=>I,":first-child"),Q=m.insert(()=>N);if(t.img){const et=m.append("image");et.attr("href",t.img),et.attr("width",h),et.attr("height",d),et.attr("preserveAspectRatio","none"),et.attr("transform",`translate(${-h/2},${S?L/2-d:-L/2})`)}return x.attr("transform",`translate(${-v.width/2-(v.x-(v.left??0))},${S?-d/2-v.height/2-A/2:d/2-v.height/2+A/2})`),V.attr("transform",`translate(0,${S?v.height/2+A/2:-v.height/2-A/2})`),Et(t,Q),t.intersect=function(et){if(st.info("iconSquare intersect",t,et),!t.label)return yt.rect(t,et);const Y=t.x??0,ct=t.y??0,nt=t.height??0;let W=[];return S?W=[{x:Y-v.width/2,y:ct-nt/2},{x:Y+v.width/2,y:ct-nt/2},{x:Y+v.width/2,y:ct-nt/2+v.height+A},{x:Y+h/2,y:ct-nt/2+v.height+A},{x:Y+h/2,y:ct+nt/2},{x:Y-h/2,y:ct+nt/2},{x:Y-h/2,y:ct-nt/2+v.height+A},{x:Y-v.width/2,y:ct-nt/2+v.height+A}]:W=[{x:Y-h/2,y:ct-nt/2},{x:Y+h/2,y:ct-nt/2},{x:Y+h/2,y:ct-nt/2+d},{x:Y+v.width/2,y:ct-nt/2+d},{x:Y+v.width/2/2,y:ct+nt/2},{x:Y-v.width/2,y:ct+nt/2},{x:Y-v.width/2,y:ct-nt/2+d},{x:Y-h/2,y:ct-nt/2+d}],yt.polygon(t,W,et)},m}T(JA,"imageSquare");async function KA(e,t){const{labelStyles:n,nodeStyles:i}=Tt(t);t.labelStyle=n;const{shapeSvg:a,bbox:s}=await Dt(e,t,Nt(t)),l=Math.max(s.width+(t.padding??0)*2,(t==null?void 0:t.width)??0),c=Math.max(s.height+(t.padding??0)*2,(t==null?void 0:t.height)??0),f=[{x:0,y:0},{x:l,y:0},{x:l+3*c/6,y:-c},{x:-3*c/6,y:-c}];let h;const{cssStyles:d}=t;if(t.look==="handDrawn"){const m=St.svg(a),v=bt(t,{}),x=Yt(f),S=m.path(x,v);h=a.insert(()=>S,":first-child").attr("transform",`translate(${-l/2}, ${c/2})`),d&&h.attr("style",d)}else h=ha(a,l,c,f);return i&&h.attr("style",i),t.width=l,t.height=c,Et(t,h),t.intersect=function(m){return yt.polygon(t,f,m)},a}T(KA,"inv_trapezoid");async function Wf(e,t,n){const{labelStyles:i,nodeStyles:a}=Tt(t);t.labelStyle=i;const{shapeSvg:s,bbox:l}=await Dt(e,t,Nt(t)),c=Math.max(l.width+n.labelPaddingX*2,(t==null?void 0:t.width)||0),f=Math.max(l.height+n.labelPaddingY*2,(t==null?void 0:t.height)||0),h=-c/2,d=-f/2;let m,{rx:v,ry:x}=t;const{cssStyles:S}=t;if(n!=null&&n.rx&&n.ry&&(v=n.rx,x=n.ry),t.look==="handDrawn"){const b=St.svg(s),E=bt(t,{}),A=v||x?b.path(ua(h,d,c,f,v||0),E):b.rectangle(h,d,c,f,E);m=s.insert(()=>A,":first-child"),m.attr("class","basic label-container").attr("style",un(S))}else m=s.insert("rect",":first-child"),m.attr("class","basic label-container").attr("style",a).attr("rx",un(v)).attr("ry",un(x)).attr("x",h).attr("y",d).attr("width",c).attr("height",f);return Et(t,m),t.calcIntersect=function(b,E){return yt.rect(b,E)},t.intersect=function(b){return yt.rect(t,b)},s}T(Wf,"drawRect");async function QA(e,t){const{shapeSvg:n,bbox:i,label:a}=await Dt(e,t,"label"),s=n.insert("rect",":first-child");return s.attr("width",.1).attr("height",.1),n.attr("class","label edgeLabel"),a.attr("transform",`translate(${-(i.width/2)-(i.x-(i.left??0))}, ${-(i.height/2)-(i.y-(i.top??0))})`),Et(t,s),t.intersect=function(f){return yt.rect(t,f)},n}T(QA,"labelRect");async function ZA(e,t){const{labelStyles:n,nodeStyles:i}=Tt(t);t.labelStyle=n;const{shapeSvg:a,bbox:s}=await Dt(e,t,Nt(t)),l=Math.max(s.width+(t.padding??0),(t==null?void 0:t.width)??0),c=Math.max(s.height+(t.padding??0),(t==null?void 0:t.height)??0),f=[{x:0,y:0},{x:l+3*c/6,y:0},{x:l,y:-c},{x:-(3*c)/6,y:-c}];let h;const{cssStyles:d}=t;if(t.look==="handDrawn"){const m=St.svg(a),v=bt(t,{}),x=Yt(f),S=m.path(x,v);h=a.insert(()=>S,":first-child").attr("transform",`translate(${-l/2}, ${c/2})`),d&&h.attr("style",d)}else h=ha(a,l,c,f);return i&&h.attr("style",i),t.width=l,t.height=c,Et(t,h),t.intersect=function(m){return yt.polygon(t,f,m)},a}T(ZA,"lean_left");async function jA(e,t){const{labelStyles:n,nodeStyles:i}=Tt(t);t.labelStyle=n;const{shapeSvg:a,bbox:s}=await Dt(e,t,Nt(t)),l=Math.max(s.width+(t.padding??0),(t==null?void 0:t.width)??0),c=Math.max(s.height+(t.padding??0),(t==null?void 0:t.height)??0),f=[{x:-3*c/6,y:0},{x:l,y:0},{x:l+3*c/6,y:-c},{x:0,y:-c}];let h;const{cssStyles:d}=t;if(t.look==="handDrawn"){const m=St.svg(a),v=bt(t,{}),x=Yt(f),S=m.path(x,v);h=a.insert(()=>S,":first-child").attr("transform",`translate(${-l/2}, ${c/2})`),d&&h.attr("style",d)}else h=ha(a,l,c,f);return i&&h.attr("style",i),t.width=l,t.height=c,Et(t,h),t.intersect=function(m){return yt.polygon(t,f,m)},a}T(jA,"lean_right");function tk(e,t){const{labelStyles:n,nodeStyles:i}=Tt(t);t.label="",t.labelStyle=n;const a=e.insert("g").attr("class",Nt(t)).attr("id",t.domId??t.id),{cssStyles:s}=t,l=Math.max(35,(t==null?void 0:t.width)??0),c=Math.max(35,(t==null?void 0:t.height)??0),f=7,h=[{x:l,y:0},{x:0,y:c+f/2},{x:l-2*f,y:c+f/2},{x:0,y:2*c},{x:l,y:c-f/2},{x:2*f,y:c-f/2}],d=St.svg(a),m=bt(t,{});t.look!=="handDrawn"&&(m.roughness=0,m.fillStyle="solid");const v=Yt(h),x=d.path(v,m),S=a.insert(()=>x,":first-child");return s&&t.look!=="handDrawn"&&S.selectAll("path").attr("style",s),i&&t.look!=="handDrawn"&&S.selectAll("path").attr("style",i),S.attr("transform",`translate(-${l/2},${-c})`),Et(t,S),t.intersect=function(b){return st.info("lightningBolt intersect",t,b),yt.polygon(t,h,b)},a}T(tk,"lightningBolt");var iV=T((e,t,n,i,a,s,l)=>[`M${e},${t+s}`,`a${a},${s} 0,0,0 ${n},0`,`a${a},${s} 0,0,0 ${-n},0`,`l0,${i}`,`a${a},${s} 0,0,0 ${n},0`,`l0,${-i}`,`M${e},${t+s+l}`,`a${a},${s} 0,0,0 ${n},0`].join(" "),"createCylinderPathD"),rV=T((e,t,n,i,a,s,l)=>[`M${e},${t+s}`,`M${e+n},${t+s}`,`a${a},${s} 0,0,0 ${-n},0`,`l0,${i}`,`a${a},${s} 0,0,0 ${n},0`,`l0,${-i}`,`M${e},${t+s+l}`,`a${a},${s} 0,0,0 ${n},0`].join(" "),"createOuterCylinderPathD"),aV=T((e,t,n,i,a,s)=>[`M${e-n/2},${-i/2}`,`a${a},${s} 0,0,0 ${n},0`].join(" "),"createInnerCylinderPathD");async function ek(e,t){const{labelStyles:n,nodeStyles:i}=Tt(t);t.labelStyle=n;const{shapeSvg:a,bbox:s,label:l}=await Dt(e,t,Nt(t)),c=Math.max(s.width+(t.padding??0),t.width??0),f=c/2,h=f/(2.5+c/50),d=Math.max(s.height+h+(t.padding??0),t.height??0),m=d*.1;let v;const{cssStyles:x}=t;if(t.look==="handDrawn"){const S=St.svg(a),b=rV(0,0,c,d,f,h,m),E=aV(0,h,c,d,f,h),A=bt(t,{}),k=S.path(b,A),R=S.path(E,A);a.insert(()=>R,":first-child").attr("class","line"),v=a.insert(()=>k,":first-child"),v.attr("class","basic label-container"),x&&v.attr("style",x)}else{const S=iV(0,0,c,d,f,h,m);v=a.insert("path",":first-child").attr("d",S).attr("class","basic label-container").attr("style",un(x)).attr("style",i)}return v.attr("label-offset-y",h),v.attr("transform",`translate(${-c/2}, ${-(d/2+h)})`),Et(t,v),l.attr("transform",`translate(${-(s.width/2)-(s.x-(s.left??0))}, ${-(s.height/2)+h-(s.y-(s.top??0))})`),t.intersect=function(S){const b=yt.rect(t,S),E=b.x-(t.x??0);if(f!=0&&(Math.abs(E)<(t.width??0)/2||Math.abs(E)==(t.width??0)/2&&Math.abs(b.y-(t.y??0))>(t.height??0)/2-h)){let A=h*h*(1-E*E/(f*f));A>0&&(A=Math.sqrt(A)),A=h-A,S.y-(t.y??0)>0&&(A=-A),b.y+=A}return b},a}T(ek,"linedCylinder");async function nk(e,t){const{labelStyles:n,nodeStyles:i}=Tt(t);t.labelStyle=n;const{shapeSvg:a,bbox:s,label:l}=await Dt(e,t,Nt(t)),c=Math.max(s.width+(t.padding??0)*2,(t==null?void 0:t.width)??0),f=Math.max(s.height+(t.padding??0)*2,(t==null?void 0:t.height)??0),h=f/4,d=f+h,{cssStyles:m}=t,v=St.svg(a),x=bt(t,{});t.look!=="handDrawn"&&(x.roughness=0,x.fillStyle="solid");const S=[{x:-c/2-c/2*.1,y:-d/2},{x:-c/2-c/2*.1,y:d/2},...oa(-c/2-c/2*.1,d/2,c/2+c/2*.1,d/2,h,.8),{x:c/2+c/2*.1,y:-d/2},{x:-c/2-c/2*.1,y:-d/2},{x:-c/2,y:-d/2},{x:-c/2,y:d/2*1.1},{x:-c/2,y:-d/2}],b=v.polygon(S.map(A=>[A.x,A.y]),x),E=a.insert(()=>b,":first-child");return E.attr("class","basic label-container"),m&&t.look!=="handDrawn"&&E.selectAll("path").attr("style",m),i&&t.look!=="handDrawn"&&E.selectAll("path").attr("style",i),E.attr("transform",`translate(0,${-h/2})`),l.attr("transform",`translate(${-c/2+(t.padding??0)+c/2*.1/2-(s.x-(s.left??0))},${-f/2+(t.padding??0)-h/2-(s.y-(s.top??0))})`),Et(t,E),t.intersect=function(A){return yt.polygon(t,S,A)},a}T(nk,"linedWaveEdgedRect");async function ik(e,t){const{labelStyles:n,nodeStyles:i}=Tt(t);t.labelStyle=n;const{shapeSvg:a,bbox:s,label:l}=await Dt(e,t,Nt(t)),c=Math.max(s.width+(t.padding??0)*2,(t==null?void 0:t.width)??0),f=Math.max(s.height+(t.padding??0)*2,(t==null?void 0:t.height)??0),h=5,d=-c/2,m=-f/2,{cssStyles:v}=t,x=St.svg(a),S=bt(t,{}),b=[{x:d-h,y:m+h},{x:d-h,y:m+f+h},{x:d+c-h,y:m+f+h},{x:d+c-h,y:m+f},{x:d+c,y:m+f},{x:d+c,y:m+f-h},{x:d+c+h,y:m+f-h},{x:d+c+h,y:m-h},{x:d+h,y:m-h},{x:d+h,y:m},{x:d,y:m},{x:d,y:m+h}],E=[{x:d,y:m+h},{x:d+c-h,y:m+h},{x:d+c-h,y:m+f},{x:d+c,y:m+f},{x:d+c,y:m},{x:d,y:m}];t.look!=="handDrawn"&&(S.roughness=0,S.fillStyle="solid");const A=Yt(b),k=x.path(A,S),R=Yt(E),I=x.path(R,{...S,fill:"none"}),B=a.insert(()=>I,":first-child");return B.insert(()=>k,":first-child"),B.attr("class","basic label-container"),v&&t.look!=="handDrawn"&&B.selectAll("path").attr("style",v),i&&t.look!=="handDrawn"&&B.selectAll("path").attr("style",i),l.attr("transform",`translate(${-(s.width/2)-h-(s.x-(s.left??0))}, ${-(s.height/2)+h-(s.y-(s.top??0))})`),Et(t,B),t.intersect=function(L){return yt.polygon(t,b,L)},a}T(ik,"multiRect");async function rk(e,t){const{labelStyles:n,nodeStyles:i}=Tt(t);t.labelStyle=n;const{shapeSvg:a,bbox:s,label:l}=await Dt(e,t,Nt(t)),c=Math.max(s.width+(t.padding??0)*2,(t==null?void 0:t.width)??0),f=Math.max(s.height+(t.padding??0)*2,(t==null?void 0:t.height)??0),h=f/4,d=f+h,m=-c/2,v=-d/2,x=5,{cssStyles:S}=t,b=oa(m-x,v+d+x,m+c-x,v+d+x,h,.8),E=b==null?void 0:b[b.length-1],A=[{x:m-x,y:v+x},{x:m-x,y:v+d+x},...b,{x:m+c-x,y:E.y-x},{x:m+c,y:E.y-x},{x:m+c,y:E.y-2*x},{x:m+c+x,y:E.y-2*x},{x:m+c+x,y:v-x},{x:m+x,y:v-x},{x:m+x,y:v},{x:m,y:v},{x:m,y:v+x}],k=[{x:m,y:v+x},{x:m+c-x,y:v+x},{x:m+c-x,y:E.y-x},{x:m+c,y:E.y-x},{x:m+c,y:v},{x:m,y:v}],R=St.svg(a),I=bt(t,{});t.look!=="handDrawn"&&(I.roughness=0,I.fillStyle="solid");const B=Yt(A),L=R.path(B,I),N=Yt(k),V=R.path(N,I),Q=a.insert(()=>L,":first-child");return Q.insert(()=>V),Q.attr("class","basic label-container"),S&&t.look!=="handDrawn"&&Q.selectAll("path").attr("style",S),i&&t.look!=="handDrawn"&&Q.selectAll("path").attr("style",i),Q.attr("transform",`translate(0,${-h/2})`),l.attr("transform",`translate(${-(s.width/2)-x-(s.x-(s.left??0))}, ${-(s.height/2)+x-h/2-(s.y-(s.top??0))})`),Et(t,Q),t.intersect=function(et){return yt.polygon(t,A,et)},a}T(rk,"multiWaveEdgedRectangle");async function ak(e,t,{config:{themeVariables:n}}){var k;const{labelStyles:i,nodeStyles:a}=Tt(t);t.labelStyle=i,t.useHtmlLabels||((k=ln().flowchart)==null?void 0:k.htmlLabels)!==!1||(t.centerLabel=!0);const{shapeSvg:l,bbox:c,label:f}=await Dt(e,t,Nt(t)),h=Math.max(c.width+(t.padding??0)*2,(t==null?void 0:t.width)??0),d=Math.max(c.height+(t.padding??0)*2,(t==null?void 0:t.height)??0),m=-h/2,v=-d/2,{cssStyles:x}=t,S=St.svg(l),b=bt(t,{fill:n.noteBkgColor,stroke:n.noteBorderColor});t.look!=="handDrawn"&&(b.roughness=0,b.fillStyle="solid");const E=S.rectangle(m,v,h,d,b),A=l.insert(()=>E,":first-child");return A.attr("class","basic label-container"),x&&t.look!=="handDrawn"&&A.selectAll("path").attr("style",x),a&&t.look!=="handDrawn"&&A.selectAll("path").attr("style",a),f.attr("transform",`translate(${-c.width/2-(c.x-(c.left??0))}, ${-(c.height/2)-(c.y-(c.top??0))})`),Et(t,A),t.intersect=function(R){return yt.rect(t,R)},l}T(ak,"note");var oV=T((e,t,n)=>[`M${e+n/2},${t}`,`L${e+n},${t-n/2}`,`L${e+n/2},${t-n}`,`L${e},${t-n/2}`,"Z"].join(" "),"createDecisionBoxPathD");async function ok(e,t){const{labelStyles:n,nodeStyles:i}=Tt(t);t.labelStyle=n;const{shapeSvg:a,bbox:s}=await Dt(e,t,Nt(t)),l=s.width+t.padding,c=s.height+t.padding,f=l+c,h=.5,d=[{x:f/2,y:0},{x:f,y:-f/2},{x:f/2,y:-f},{x:0,y:-f/2}];let m;const{cssStyles:v}=t;if(t.look==="handDrawn"){const x=St.svg(a),S=bt(t,{}),b=oV(0,0,f),E=x.path(b,S);m=a.insert(()=>E,":first-child").attr("transform",`translate(${-f/2+h}, ${f/2})`),v&&m.attr("style",v)}else m=ha(a,f,f,d),m.attr("transform",`translate(${-f/2+h}, ${f/2})`);return i&&m.attr("style",i),Et(t,m),t.calcIntersect=function(x,S){const b=x.width,E=[{x:b/2,y:0},{x:b,y:-b/2},{x:b/2,y:-b},{x:0,y:-b/2}],A=yt.polygon(x,E,S);return{x:A.x-.5,y:A.y-.5}},t.intersect=function(x){return this.calcIntersect(t,x)},a}T(ok,"question");async function sk(e,t){const{labelStyles:n,nodeStyles:i}=Tt(t);t.labelStyle=n;const{shapeSvg:a,bbox:s,label:l}=await Dt(e,t,Nt(t)),c=Math.max(s.width+(t.padding??0),(t==null?void 0:t.width)??0),f=Math.max(s.height+(t.padding??0),(t==null?void 0:t.height)??0),h=-c/2,d=-f/2,m=d/2,v=[{x:h+m,y:d},{x:h,y:0},{x:h+m,y:-d},{x:-h,y:-d},{x:-h,y:d}],{cssStyles:x}=t,S=St.svg(a),b=bt(t,{});t.look!=="handDrawn"&&(b.roughness=0,b.fillStyle="solid");const E=Yt(v),A=S.path(E,b),k=a.insert(()=>A,":first-child");return k.attr("class","basic label-container"),x&&t.look!=="handDrawn"&&k.selectAll("path").attr("style",x),i&&t.look!=="handDrawn"&&k.selectAll("path").attr("style",i),k.attr("transform",`translate(${-m/2},0)`),l.attr("transform",`translate(${-m/2-s.width/2-(s.x-(s.left??0))}, ${-(s.height/2)-(s.y-(s.top??0))})`),Et(t,k),t.intersect=function(R){return yt.polygon(t,v,R)},a}T(sk,"rect_left_inv_arrow");async function lk(e,t){var V,Q;const{labelStyles:n,nodeStyles:i}=Tt(t);t.labelStyle=n;let a;t.cssClasses?a="node "+t.cssClasses:a="node default";const s=e.insert("g").attr("class",a).attr("id",t.domId||t.id),l=s.insert("g"),c=s.insert("g").attr("class","label").attr("style",i),f=t.description,h=t.label,d=c.node().appendChild(await $a(h,t.labelStyle,!0,!0));let m={width:0,height:0};if(qe((Q=(V=oe())==null?void 0:V.flowchart)==null?void 0:Q.htmlLabels)){const et=d.children[0],Y=Qt(d);m=et.getBoundingClientRect(),Y.attr("width",m.width),Y.attr("height",m.height)}st.info("Text 2",f);const v=f||[],x=d.getBBox(),S=c.node().appendChild(await $a(v.join?v.join("<br/>"):v,t.labelStyle,!0,!0)),b=S.children[0],E=Qt(S);m=b.getBoundingClientRect(),E.attr("width",m.width),E.attr("height",m.height);const A=(t.padding||0)/2;Qt(S).attr("transform","translate( "+(m.width>x.width?0:(x.width-m.width)/2)+", "+(x.height+A+5)+")"),Qt(d).attr("transform","translate( "+(m.width<x.width?0:-(x.width-m.width)/2)+", 0)"),m=c.node().getBBox(),c.attr("transform","translate("+-m.width/2+", "+(-m.height/2-A+3)+")");const k=m.width+(t.padding||0),R=m.height+(t.padding||0),I=-m.width/2-A,B=-m.height/2-A;let L,N;if(t.look==="handDrawn"){const et=St.svg(s),Y=bt(t,{}),ct=et.path(ua(I,B,k,R,t.rx||0),Y),nt=et.line(-m.width/2-A,-m.height/2-A+x.height+A,m.width/2+A,-m.height/2-A+x.height+A,Y);N=s.insert(()=>(st.debug("Rough node insert CXC",ct),nt),":first-child"),L=s.insert(()=>(st.debug("Rough node insert CXC",ct),ct),":first-child")}else L=l.insert("rect",":first-child"),N=l.insert("line"),L.attr("class","outer title-state").attr("style",i).attr("x",-m.width/2-A).attr("y",-m.height/2-A).attr("width",m.width+(t.padding||0)).attr("height",m.height+(t.padding||0)),N.attr("class","divider").attr("x1",-m.width/2-A).attr("x2",m.width/2+A).attr("y1",-m.height/2-A+x.height+A).attr("y2",-m.height/2-A+x.height+A);return Et(t,L),t.intersect=function(et){return yt.rect(t,et)},s}T(lk,"rectWithTitle");function Xl(e,t,n,i,a,s,l){const f=(e+n)/2,h=(t+i)/2,d=Math.atan2(i-t,n-e),m=(n-e)/2,v=(i-t)/2,x=m/a,S=v/s,b=Math.sqrt(x**2+S**2);if(b>1)throw new Error("The given radii are too small to create an arc between the points.");const E=Math.sqrt(1-b**2),A=f+E*s*Math.sin(d)*(l?-1:1),k=h-E*a*Math.cos(d)*(l?-1:1),R=Math.atan2((t-k)/s,(e-A)/a);let B=Math.atan2((i-k)/s,(n-A)/a)-R;l&&B<0&&(B+=2*Math.PI),!l&&B>0&&(B-=2*Math.PI);const L=[];for(let N=0;N<20;N++){const V=N/19,Q=R+V*B,et=A+a*Math.cos(Q),Y=k+s*Math.sin(Q);L.push({x:et,y:Y})}return L}T(Xl,"generateArcPoints");async function ck(e,t){const{labelStyles:n,nodeStyles:i}=Tt(t);t.labelStyle=n;const{shapeSvg:a,bbox:s}=await Dt(e,t,Nt(t)),l=(t==null?void 0:t.padding)??0,c=(t==null?void 0:t.padding)??0,f=(t!=null&&t.width?t==null?void 0:t.width:s.width)+l*2,h=(t!=null&&t.height?t==null?void 0:t.height:s.height)+c*2,d=t.radius||5,m=t.taper||5,{cssStyles:v}=t,x=St.svg(a),S=bt(t,{});t.stroke&&(S.stroke=t.stroke),t.look!=="handDrawn"&&(S.roughness=0,S.fillStyle="solid");const b=[{x:-f/2+m,y:-h/2},{x:f/2-m,y:-h/2},...Xl(f/2-m,-h/2,f/2,-h/2+m,d,d,!0),{x:f/2,y:-h/2+m},{x:f/2,y:h/2-m},...Xl(f/2,h/2-m,f/2-m,h/2,d,d,!0),{x:f/2-m,y:h/2},{x:-f/2+m,y:h/2},...Xl(-f/2+m,h/2,-f/2,h/2-m,d,d,!0),{x:-f/2,y:h/2-m},{x:-f/2,y:-h/2+m},...Xl(-f/2,-h/2+m,-f/2+m,-h/2,d,d,!0)],E=Yt(b),A=x.path(E,S),k=a.insert(()=>A,":first-child");return k.attr("class","basic label-container outer-path"),v&&t.look!=="handDrawn"&&k.selectChildren("path").attr("style",v),i&&t.look!=="handDrawn"&&k.selectChildren("path").attr("style",i),Et(t,k),t.intersect=function(R){return yt.polygon(t,b,R)},a}T(ck,"roundedRect");async function uk(e,t){const{labelStyles:n,nodeStyles:i}=Tt(t);t.labelStyle=n;const{shapeSvg:a,bbox:s,label:l}=await Dt(e,t,Nt(t)),c=(t==null?void 0:t.padding)??0,f=Math.max(s.width+(t.padding??0)*2,(t==null?void 0:t.width)??0),h=Math.max(s.height+(t.padding??0)*2,(t==null?void 0:t.height)??0),d=-s.width/2-c,m=-s.height/2-c,{cssStyles:v}=t,x=St.svg(a),S=bt(t,{});t.look!=="handDrawn"&&(S.roughness=0,S.fillStyle="solid");const b=[{x:d,y:m},{x:d+f+8,y:m},{x:d+f+8,y:m+h},{x:d-8,y:m+h},{x:d-8,y:m},{x:d,y:m},{x:d,y:m+h}],E=x.polygon(b.map(k=>[k.x,k.y]),S),A=a.insert(()=>E,":first-child");return A.attr("class","basic label-container").attr("style",un(v)),i&&t.look!=="handDrawn"&&A.selectAll("path").attr("style",i),v&&t.look!=="handDrawn"&&A.selectAll("path").attr("style",i),l.attr("transform",`translate(${-f/2+4+(t.padding??0)-(s.x-(s.left??0))},${-h/2+(t.padding??0)-(s.y-(s.top??0))})`),Et(t,A),t.intersect=function(k){return yt.rect(t,k)},a}T(uk,"shadedProcess");async function hk(e,t){const{labelStyles:n,nodeStyles:i}=Tt(t);t.labelStyle=n;const{shapeSvg:a,bbox:s,label:l}=await Dt(e,t,Nt(t)),c=Math.max(s.width+(t.padding??0)*2,(t==null?void 0:t.width)??0),f=Math.max(s.height+(t.padding??0)*2,(t==null?void 0:t.height)??0),h=-c/2,d=-f/2,{cssStyles:m}=t,v=St.svg(a),x=bt(t,{});t.look!=="handDrawn"&&(x.roughness=0,x.fillStyle="solid");const S=[{x:h,y:d},{x:h,y:d+f},{x:h+c,y:d+f},{x:h+c,y:d-f/2}],b=Yt(S),E=v.path(b,x),A=a.insert(()=>E,":first-child");return A.attr("class","basic label-container"),m&&t.look!=="handDrawn"&&A.selectChildren("path").attr("style",m),i&&t.look!=="handDrawn"&&A.selectChildren("path").attr("style",i),A.attr("transform",`translate(0, ${f/4})`),l.attr("transform",`translate(${-c/2+(t.padding??0)-(s.x-(s.left??0))}, ${-f/4+(t.padding??0)-(s.y-(s.top??0))})`),Et(t,A),t.intersect=function(k){return yt.polygon(t,S,k)},a}T(hk,"slopedRect");async function fk(e,t){const n={rx:0,ry:0,labelPaddingX:t.labelPaddingX??((t==null?void 0:t.padding)||0)*2,labelPaddingY:((t==null?void 0:t.padding)||0)*1};return Wf(e,t,n)}T(fk,"squareRect");async function dk(e,t){const{labelStyles:n,nodeStyles:i}=Tt(t);t.labelStyle=n;const{shapeSvg:a,bbox:s}=await Dt(e,t,Nt(t)),l=s.height+t.padding,c=s.width+l/4+t.padding,f=l/2,{cssStyles:h}=t,d=St.svg(a),m=bt(t,{});t.look!=="handDrawn"&&(m.roughness=0,m.fillStyle="solid");const v=[{x:-c/2+f,y:-l/2},{x:c/2-f,y:-l/2},...dc(-c/2+f,0,f,50,90,270),{x:c/2-f,y:l/2},...dc(c/2-f,0,f,50,270,450)],x=Yt(v),S=d.path(x,m),b=a.insert(()=>S,":first-child");return b.attr("class","basic label-container outer-path"),h&&t.look!=="handDrawn"&&b.selectChildren("path").attr("style",h),i&&t.look!=="handDrawn"&&b.selectChildren("path").attr("style",i),Et(t,b),t.intersect=function(E){return yt.polygon(t,v,E)},a}T(dk,"stadium");async function pk(e,t){return Wf(e,t,{rx:5,ry:5})}T(pk,"state");function gk(e,t,{config:{themeVariables:n}}){const{labelStyles:i,nodeStyles:a}=Tt(t);t.labelStyle=i;const{cssStyles:s}=t,{lineColor:l,stateBorder:c,nodeBorder:f}=n,h=e.insert("g").attr("class","node default").attr("id",t.domId||t.id),d=St.svg(h),m=bt(t,{});t.look!=="handDrawn"&&(m.roughness=0,m.fillStyle="solid");const v=d.circle(0,0,14,{...m,stroke:l,strokeWidth:2}),x=c??f,S=d.circle(0,0,5,{...m,fill:x,stroke:x,strokeWidth:2,fillStyle:"solid"}),b=h.insert(()=>v,":first-child");return b.insert(()=>S),s&&b.selectAll("path").attr("style",s),a&&b.selectAll("path").attr("style",a),Et(t,b),t.intersect=function(E){return yt.circle(t,7,E)},h}T(gk,"stateEnd");function mk(e,t,{config:{themeVariables:n}}){const{lineColor:i}=n,a=e.insert("g").attr("class","node default").attr("id",t.domId||t.id);let s;if(t.look==="handDrawn"){const c=St.svg(a).circle(0,0,14,Cz(i));s=a.insert(()=>c),s.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14)}else s=a.insert("circle",":first-child"),s.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14);return Et(t,s),t.intersect=function(l){return yt.circle(t,7,l)},a}T(mk,"stateStart");async function yk(e,t){const{labelStyles:n,nodeStyles:i}=Tt(t);t.labelStyle=n;const{shapeSvg:a,bbox:s}=await Dt(e,t,Nt(t)),l=((t==null?void 0:t.padding)||0)/2,c=s.width+t.padding,f=s.height+t.padding,h=-s.width/2-l,d=-s.height/2-l,m=[{x:0,y:0},{x:c,y:0},{x:c,y:-f},{x:0,y:-f},{x:0,y:0},{x:-8,y:0},{x:c+8,y:0},{x:c+8,y:-f},{x:-8,y:-f},{x:-8,y:0}];if(t.look==="handDrawn"){const v=St.svg(a),x=bt(t,{}),S=v.rectangle(h-8,d,c+16,f,x),b=v.line(h,d,h,d+f,x),E=v.line(h+c,d,h+c,d+f,x);a.insert(()=>b,":first-child"),a.insert(()=>E,":first-child");const A=a.insert(()=>S,":first-child"),{cssStyles:k}=t;A.attr("class","basic label-container").attr("style",un(k)),Et(t,A)}else{const v=ha(a,c,f,m);i&&v.attr("style",i),Et(t,v)}return t.intersect=function(v){return yt.polygon(t,m,v)},a}T(yk,"subroutine");async function vk(e,t){const{labelStyles:n,nodeStyles:i}=Tt(t);t.labelStyle=n;const{shapeSvg:a,bbox:s}=await Dt(e,t,Nt(t)),l=Math.max(s.width+(t.padding??0)*2,(t==null?void 0:t.width)??0),c=Math.max(s.height+(t.padding??0)*2,(t==null?void 0:t.height)??0),f=-l/2,h=-c/2,d=.2*c,m=.2*c,{cssStyles:v}=t,x=St.svg(a),S=bt(t,{}),b=[{x:f-d/2,y:h},{x:f+l+d/2,y:h},{x:f+l+d/2,y:h+c},{x:f-d/2,y:h+c}],E=[{x:f+l-d/2,y:h+c},{x:f+l+d/2,y:h+c},{x:f+l+d/2,y:h+c-m}];t.look!=="handDrawn"&&(S.roughness=0,S.fillStyle="solid");const A=Yt(b),k=x.path(A,S),R=Yt(E),I=x.path(R,{...S,fillStyle:"solid"}),B=a.insert(()=>I,":first-child");return B.insert(()=>k,":first-child"),B.attr("class","basic label-container"),v&&t.look!=="handDrawn"&&B.selectAll("path").attr("style",v),i&&t.look!=="handDrawn"&&B.selectAll("path").attr("style",i),Et(t,B),t.intersect=function(L){return yt.polygon(t,b,L)},a}T(vk,"taggedRect");async function _k(e,t){const{labelStyles:n,nodeStyles:i}=Tt(t);t.labelStyle=n;const{shapeSvg:a,bbox:s,label:l}=await Dt(e,t,Nt(t)),c=Math.max(s.width+(t.padding??0)*2,(t==null?void 0:t.width)??0),f=Math.max(s.height+(t.padding??0)*2,(t==null?void 0:t.height)??0),h=f/4,d=.2*c,m=.2*f,v=f+h,{cssStyles:x}=t,S=St.svg(a),b=bt(t,{});t.look!=="handDrawn"&&(b.roughness=0,b.fillStyle="solid");const E=[{x:-c/2-c/2*.1,y:v/2},...oa(-c/2-c/2*.1,v/2,c/2+c/2*.1,v/2,h,.8),{x:c/2+c/2*.1,y:-v/2},{x:-c/2-c/2*.1,y:-v/2}],A=-c/2+c/2*.1,k=-v/2-m*.4,R=[{x:A+c-d,y:(k+f)*1.4},{x:A+c,y:k+f-m},{x:A+c,y:(k+f)*.9},...oa(A+c,(k+f)*1.3,A+c-d,(k+f)*1.5,-f*.03,.5)],I=Yt(E),B=S.path(I,b),L=Yt(R),N=S.path(L,{...b,fillStyle:"solid"}),V=a.insert(()=>N,":first-child");return V.insert(()=>B,":first-child"),V.attr("class","basic label-container"),x&&t.look!=="handDrawn"&&V.selectAll("path").attr("style",x),i&&t.look!=="handDrawn"&&V.selectAll("path").attr("style",i),V.attr("transform",`translate(0,${-h/2})`),l.attr("transform",`translate(${-c/2+(t.padding??0)-(s.x-(s.left??0))},${-f/2+(t.padding??0)-h/2-(s.y-(s.top??0))})`),Et(t,V),t.intersect=function(Q){return yt.polygon(t,E,Q)},a}T(_k,"taggedWaveEdgedRectangle");async function xk(e,t){const{labelStyles:n,nodeStyles:i}=Tt(t);t.labelStyle=n;const{shapeSvg:a,bbox:s}=await Dt(e,t,Nt(t)),l=Math.max(s.width+t.padding,(t==null?void 0:t.width)||0),c=Math.max(s.height+t.padding,(t==null?void 0:t.height)||0),f=-l/2,h=-c/2,d=a.insert("rect",":first-child");return d.attr("class","text").attr("style",i).attr("rx",0).attr("ry",0).attr("x",f).attr("y",h).attr("width",l).attr("height",c),Et(t,d),t.intersect=function(m){return yt.rect(t,m)},a}T(xk,"text");var sV=T((e,t,n,i,a,s)=>`M${e},${t}
    a${a},${s} 0,0,1 0,${-i}
    l${n},0
    a${a},${s} 0,0,1 0,${i}
    M${n},${-i}
    a${a},${s} 0,0,0 0,${i}
    l${-n},0`,"createCylinderPathD"),lV=T((e,t,n,i,a,s)=>[`M${e},${t}`,`M${e+n},${t}`,`a${a},${s} 0,0,0 0,${-i}`,`l${-n},0`,`a${a},${s} 0,0,0 0,${i}`,`l${n},0`].join(" "),"createOuterCylinderPathD"),cV=T((e,t,n,i,a,s)=>[`M${e+n/2},${-i/2}`,`a${a},${s} 0,0,0 0,${i}`].join(" "),"createInnerCylinderPathD");async function Ck(e,t){const{labelStyles:n,nodeStyles:i}=Tt(t);t.labelStyle=n;const{shapeSvg:a,bbox:s,label:l,halfPadding:c}=await Dt(e,t,Nt(t)),f=t.look==="neo"?c*2:c,h=s.height+f,d=h/2,m=d/(2.5+h/50),v=s.width+m+f,{cssStyles:x}=t;let S;if(t.look==="handDrawn"){const b=St.svg(a),E=lV(0,0,v,h,m,d),A=cV(0,0,v,h,m,d),k=b.path(E,bt(t,{})),R=b.path(A,bt(t,{fill:"none"}));S=a.insert(()=>R,":first-child"),S=a.insert(()=>k,":first-child"),S.attr("class","basic label-container"),x&&S.attr("style",x)}else{const b=sV(0,0,v,h,m,d);S=a.insert("path",":first-child").attr("d",b).attr("class","basic label-container").attr("style",un(x)).attr("style",i),S.attr("class","basic label-container"),x&&S.selectAll("path").attr("style",x),i&&S.selectAll("path").attr("style",i)}return S.attr("label-offset-x",m),S.attr("transform",`translate(${-v/2}, ${h/2} )`),l.attr("transform",`translate(${-(s.width/2)-m-(s.x-(s.left??0))}, ${-(s.height/2)-(s.y-(s.top??0))})`),Et(t,S),t.intersect=function(b){const E=yt.rect(t,b),A=E.y-(t.y??0);if(d!=0&&(Math.abs(A)<(t.height??0)/2||Math.abs(A)==(t.height??0)/2&&Math.abs(E.x-(t.x??0))>(t.width??0)/2-m)){let k=m*m*(1-A*A/(d*d));k!=0&&(k=Math.sqrt(Math.abs(k))),k=m-k,b.x-(t.x??0)>0&&(k=-k),E.x+=k}return E},a}T(Ck,"tiltedCylinder");async function Sk(e,t){const{labelStyles:n,nodeStyles:i}=Tt(t);t.labelStyle=n;const{shapeSvg:a,bbox:s}=await Dt(e,t,Nt(t)),l=s.width+t.padding,c=s.height+t.padding,f=[{x:-3*c/6,y:0},{x:l+3*c/6,y:0},{x:l,y:-c},{x:0,y:-c}];let h;const{cssStyles:d}=t;if(t.look==="handDrawn"){const m=St.svg(a),v=bt(t,{}),x=Yt(f),S=m.path(x,v);h=a.insert(()=>S,":first-child").attr("transform",`translate(${-l/2}, ${c/2})`),d&&h.attr("style",d)}else h=ha(a,l,c,f);return i&&h.attr("style",i),t.width=l,t.height=c,Et(t,h),t.intersect=function(m){return yt.polygon(t,f,m)},a}T(Sk,"trapezoid");async function bk(e,t){const{labelStyles:n,nodeStyles:i}=Tt(t);t.labelStyle=n;const{shapeSvg:a,bbox:s}=await Dt(e,t,Nt(t)),l=60,c=20,f=Math.max(l,s.width+(t.padding??0)*2,(t==null?void 0:t.width)??0),h=Math.max(c,s.height+(t.padding??0)*2,(t==null?void 0:t.height)??0),{cssStyles:d}=t,m=St.svg(a),v=bt(t,{});t.look!=="handDrawn"&&(v.roughness=0,v.fillStyle="solid");const x=[{x:-f/2*.8,y:-h/2},{x:f/2*.8,y:-h/2},{x:f/2,y:-h/2*.6},{x:f/2,y:h/2},{x:-f/2,y:h/2},{x:-f/2,y:-h/2*.6}],S=Yt(x),b=m.path(S,v),E=a.insert(()=>b,":first-child");return E.attr("class","basic label-container"),d&&t.look!=="handDrawn"&&E.selectChildren("path").attr("style",d),i&&t.look!=="handDrawn"&&E.selectChildren("path").attr("style",i),Et(t,E),t.intersect=function(A){return yt.polygon(t,x,A)},a}T(bk,"trapezoidalPentagon");async function Tk(e,t){var k;const{labelStyles:n,nodeStyles:i}=Tt(t);t.labelStyle=n;const{shapeSvg:a,bbox:s,label:l}=await Dt(e,t,Nt(t)),c=qe((k=oe().flowchart)==null?void 0:k.htmlLabels),f=s.width+(t.padding??0),h=f+s.height,d=f+s.height,m=[{x:0,y:0},{x:d,y:0},{x:d/2,y:-h}],{cssStyles:v}=t,x=St.svg(a),S=bt(t,{});t.look!=="handDrawn"&&(S.roughness=0,S.fillStyle="solid");const b=Yt(m),E=x.path(b,S),A=a.insert(()=>E,":first-child").attr("transform",`translate(${-h/2}, ${h/2})`);return v&&t.look!=="handDrawn"&&A.selectChildren("path").attr("style",v),i&&t.look!=="handDrawn"&&A.selectChildren("path").attr("style",i),t.width=f,t.height=h,Et(t,A),l.attr("transform",`translate(${-s.width/2-(s.x-(s.left??0))}, ${h/2-(s.height+(t.padding??0)/(c?2:1)-(s.y-(s.top??0)))})`),t.intersect=function(R){return st.info("Triangle intersect",t,m,R),yt.polygon(t,m,R)},a}T(Tk,"triangle");async function Ek(e,t){const{labelStyles:n,nodeStyles:i}=Tt(t);t.labelStyle=n;const{shapeSvg:a,bbox:s,label:l}=await Dt(e,t,Nt(t)),c=Math.max(s.width+(t.padding??0)*2,(t==null?void 0:t.width)??0),f=Math.max(s.height+(t.padding??0)*2,(t==null?void 0:t.height)??0),h=f/8,d=f+h,{cssStyles:m}=t,x=70-c,S=x>0?x/2:0,b=St.svg(a),E=bt(t,{});t.look!=="handDrawn"&&(E.roughness=0,E.fillStyle="solid");const A=[{x:-c/2-S,y:d/2},...oa(-c/2-S,d/2,c/2+S,d/2,h,.8),{x:c/2+S,y:-d/2},{x:-c/2-S,y:-d/2}],k=Yt(A),R=b.path(k,E),I=a.insert(()=>R,":first-child");return I.attr("class","basic label-container"),m&&t.look!=="handDrawn"&&I.selectAll("path").attr("style",m),i&&t.look!=="handDrawn"&&I.selectAll("path").attr("style",i),I.attr("transform",`translate(0,${-h/2})`),l.attr("transform",`translate(${-c/2+(t.padding??0)-(s.x-(s.left??0))},${-f/2+(t.padding??0)-h-(s.y-(s.top??0))})`),Et(t,I),t.intersect=function(B){return yt.polygon(t,A,B)},a}T(Ek,"waveEdgedRectangle");async function wk(e,t){const{labelStyles:n,nodeStyles:i}=Tt(t);t.labelStyle=n;const{shapeSvg:a,bbox:s}=await Dt(e,t,Nt(t)),l=100,c=50,f=Math.max(s.width+(t.padding??0)*2,(t==null?void 0:t.width)??0),h=Math.max(s.height+(t.padding??0)*2,(t==null?void 0:t.height)??0),d=f/h;let m=f,v=h;m>v*d?v=m/d:m=v*d,m=Math.max(m,l),v=Math.max(v,c);const x=Math.min(v*.2,v/4),S=v+x*2,{cssStyles:b}=t,E=St.svg(a),A=bt(t,{});t.look!=="handDrawn"&&(A.roughness=0,A.fillStyle="solid");const k=[{x:-m/2,y:S/2},...oa(-m/2,S/2,m/2,S/2,x,1),{x:m/2,y:-S/2},...oa(m/2,-S/2,-m/2,-S/2,x,-1)],R=Yt(k),I=E.path(R,A),B=a.insert(()=>I,":first-child");return B.attr("class","basic label-container"),b&&t.look!=="handDrawn"&&B.selectAll("path").attr("style",b),i&&t.look!=="handDrawn"&&B.selectAll("path").attr("style",i),Et(t,B),t.intersect=function(L){return yt.polygon(t,k,L)},a}T(wk,"waveRectangle");async function Ak(e,t){const{labelStyles:n,nodeStyles:i}=Tt(t);t.labelStyle=n;const{shapeSvg:a,bbox:s,label:l}=await Dt(e,t,Nt(t)),c=Math.max(s.width+(t.padding??0)*2,(t==null?void 0:t.width)??0),f=Math.max(s.height+(t.padding??0)*2,(t==null?void 0:t.height)??0),h=5,d=-c/2,m=-f/2,{cssStyles:v}=t,x=St.svg(a),S=bt(t,{}),b=[{x:d-h,y:m-h},{x:d-h,y:m+f},{x:d+c,y:m+f},{x:d+c,y:m-h}],E=`M${d-h},${m-h} L${d+c},${m-h} L${d+c},${m+f} L${d-h},${m+f} L${d-h},${m-h}
                M${d-h},${m} L${d+c},${m}
                M${d},${m-h} L${d},${m+f}`;t.look!=="handDrawn"&&(S.roughness=0,S.fillStyle="solid");const A=x.path(E,S),k=a.insert(()=>A,":first-child");return k.attr("transform",`translate(${h/2}, ${h/2})`),k.attr("class","basic label-container"),v&&t.look!=="handDrawn"&&k.selectAll("path").attr("style",v),i&&t.look!=="handDrawn"&&k.selectAll("path").attr("style",i),l.attr("transform",`translate(${-(s.width/2)+h/2-(s.x-(s.left??0))}, ${-(s.height/2)+h/2-(s.y-(s.top??0))})`),Et(t,k),t.intersect=function(R){return yt.polygon(t,b,R)},a}T(Ak,"windowPane");async function o0(e,t){var j,at,ht,dt;const n=t;if(n.alias&&(t.label=n.alias),t.look==="handDrawn"){const{themeVariables:pt}=ln(),{background:_t}=pt,Ut={...t,id:t.id+"-background",look:"default",cssStyles:["stroke: none",`fill: ${_t}`]};await o0(e,Ut)}const i=ln();t.useHtmlLabels=i.htmlLabels;let a=((j=i.er)==null?void 0:j.diagramPadding)??10,s=((at=i.er)==null?void 0:at.entityPadding)??6;const{cssStyles:l}=t,{labelStyles:c,nodeStyles:f}=Tt(t);if(n.attributes.length===0&&t.label){const pt={rx:0,ry:0,labelPaddingX:a,labelPaddingY:a*1.5};Sr(t.label,i)+pt.labelPaddingX*2<i.er.minEntityWidth&&(t.width=i.er.minEntityWidth);const _t=await Wf(e,t,pt);if(!qe(i.htmlLabels)){const Ut=_t.select("text"),Ft=(ht=Ut.node())==null?void 0:ht.getBBox();Ut.attr("transform",`translate(${-Ft.width/2}, 0)`)}return _t}i.htmlLabels||(a*=1.25,s*=1.25);let h=Nt(t);h||(h="node default");const d=e.insert("g").attr("class",h).attr("id",t.domId||t.id),m=await Go(d,t.label??"",i,0,0,["name"],c);m.height+=s;let v=0;const x=[],S=[];let b=0,E=0,A=0,k=0,R=!0,I=!0;for(const pt of n.attributes){const _t=await Go(d,pt.type,i,0,v,["attribute-type"],c);b=Math.max(b,_t.width+a);const Ut=await Go(d,pt.name,i,0,v,["attribute-name"],c);E=Math.max(E,Ut.width+a);const Ft=await Go(d,pt.keys.join(),i,0,v,["attribute-keys"],c);A=Math.max(A,Ft.width+a);const Zt=await Go(d,pt.comment,i,0,v,["attribute-comment"],c);k=Math.max(k,Zt.width+a);const me=Math.max(_t.height,Ut.height,Ft.height,Zt.height)+s;S.push({yOffset:v,rowHeight:me}),v+=me}let B=4;A<=a&&(R=!1,A=0,B--),k<=a&&(I=!1,k=0,B--);const L=d.node().getBBox();if(m.width+a*2-(b+E+A+k)>0){const pt=m.width+a*2-(b+E+A+k);b+=pt/B,E+=pt/B,A>0&&(A+=pt/B),k>0&&(k+=pt/B)}const N=b+E+A+k,V=St.svg(d),Q=bt(t,{});t.look!=="handDrawn"&&(Q.roughness=0,Q.fillStyle="solid");let et=0;S.length>0&&(et=S.reduce((pt,_t)=>pt+((_t==null?void 0:_t.rowHeight)??0),0));const Y=Math.max(L.width+a*2,(t==null?void 0:t.width)||0,N),ct=Math.max((et??0)+m.height,(t==null?void 0:t.height)||0),nt=-Y/2,W=-ct/2;d.selectAll("g:not(:first-child)").each((pt,_t,Ut)=>{const Ft=Qt(Ut[_t]),Zt=Ft.attr("transform");let me=0,fn=0;if(Zt){const nn=RegExp(/translate\(([^,]+),([^)]+)\)/).exec(Zt);nn&&(me=parseFloat(nn[1]),fn=parseFloat(nn[2]),Ft.attr("class").includes("attribute-name")?me+=b:Ft.attr("class").includes("attribute-keys")?me+=b+E:Ft.attr("class").includes("attribute-comment")&&(me+=b+E+A))}Ft.attr("transform",`translate(${nt+a/2+me}, ${fn+W+m.height+s/2})`)}),d.select(".name").attr("transform","translate("+-m.width/2+", "+(W+s/2)+")");const H=V.rectangle(nt,W,Y,ct,Q),D=d.insert(()=>H,":first-child").attr("style",l.join("")),{themeVariables:P}=ln(),{rowEven:z,rowOdd:lt,nodeBorder:ft}=P;x.push(0);for(const[pt,_t]of S.entries()){const Ft=(pt+1)%2===0&&_t.yOffset!==0,Zt=V.rectangle(nt,m.height+W+(_t==null?void 0:_t.yOffset),Y,_t==null?void 0:_t.rowHeight,{...Q,fill:Ft?z:lt,stroke:ft});d.insert(()=>Zt,"g.label").attr("style",l.join("")).attr("class",`row-rect-${Ft?"even":"odd"}`)}let F=V.line(nt,m.height+W,Y+nt,m.height+W,Q);d.insert(()=>F).attr("class","divider"),F=V.line(b+nt,m.height+W,b+nt,ct+W,Q),d.insert(()=>F).attr("class","divider"),R&&(F=V.line(b+E+nt,m.height+W,b+E+nt,ct+W,Q),d.insert(()=>F).attr("class","divider")),I&&(F=V.line(b+E+A+nt,m.height+W,b+E+A+nt,ct+W,Q),d.insert(()=>F).attr("class","divider"));for(const pt of x)F=V.line(nt,m.height+W+pt,Y+nt,m.height+W+pt,Q),d.insert(()=>F).attr("class","divider");if(Et(t,D),f&&t.look!=="handDrawn"){const pt=f.split(";"),_t=(dt=pt==null?void 0:pt.filter(Ut=>Ut.includes("stroke")))==null?void 0:dt.map(Ut=>`${Ut}`).join("; ");d.selectAll("path").attr("style",_t??""),d.selectAll(".row-rect-even path").attr("style",f)}return t.intersect=function(pt){return yt.rect(t,pt)},d}T(o0,"erBox");async function Go(e,t,n,i=0,a=0,s=[],l=""){const c=e.insert("g").attr("class",`label ${s.join(" ")}`).attr("transform",`translate(${i}, ${a})`).attr("style",l);t!==jS(t)&&(t=jS(t),t=t.replaceAll("<","&lt;").replaceAll(">","&gt;"));const f=c.node().appendChild(await ca(c,t,{width:Sr(t,n)+100,style:l,useHtmlLabels:n.htmlLabels},n));if(t.includes("&lt;")||t.includes("&gt;")){let d=f.children[0];for(d.textContent=d.textContent.replaceAll("&lt;","<").replaceAll("&gt;",">");d.childNodes[0];)d=d.childNodes[0],d.textContent=d.textContent.replaceAll("&lt;","<").replaceAll("&gt;",">")}let h=f.getBBox();if(qe(n.htmlLabels)){const d=f.children[0];d.style.textAlign="start";const m=Qt(f);h=d.getBoundingClientRect(),m.attr("width",h.width),m.attr("height",h.height)}return h}T(Go,"addText");async function kk(e,t,n,i,a=n.class.padding??12){const s=i?0:3,l=e.insert("g").attr("class",Nt(t)).attr("id",t.domId||t.id);let c=null,f=null,h=null,d=null,m=0,v=0,x=0;if(c=l.insert("g").attr("class","annotation-group text"),t.annotations.length>0){const k=t.annotations[0];await Jl(c,{text:`${k}`},0),m=c.node().getBBox().height}f=l.insert("g").attr("class","label-group text"),await Jl(f,t,0,["font-weight: bolder"]);const S=f.node().getBBox();v=S.height,h=l.insert("g").attr("class","members-group text");let b=0;for(const k of t.members){const R=await Jl(h,k,b,[k.parseClassifier()]);b+=R+s}x=h.node().getBBox().height,x<=0&&(x=a/2),d=l.insert("g").attr("class","methods-group text");let E=0;for(const k of t.methods){const R=await Jl(d,k,E,[k.parseClassifier()]);E+=R+s}let A=l.node().getBBox();if(c!==null){const k=c.node().getBBox();c.attr("transform",`translate(${-k.width/2})`)}return f.attr("transform",`translate(${-S.width/2}, ${m})`),A=l.node().getBBox(),h.attr("transform",`translate(0, ${m+v+a*2})`),A=l.node().getBBox(),d.attr("transform",`translate(0, ${m+v+(x?x+a*4:a*2)})`),A=l.node().getBBox(),{shapeSvg:l,bbox:A}}T(kk,"textHelper");async function Jl(e,t,n,i=[]){const a=e.insert("g").attr("class","label").attr("style",i.join("; ")),s=ln();let l="useHtmlLabels"in t?t.useHtmlLabels:qe(s.htmlLabels)??!0,c="";"text"in t?c=t.text:c=t.label,!l&&c.startsWith("\\")&&(c=c.substring(1)),cs(c)&&(l=!0);const f=await ca(a,my(to(c)),{width:Sr(c,s)+50,classes:"markdown-node-label",useHtmlLabels:l},s);let h,d=1;if(l){const m=f.children[0],v=Qt(f);d=m.innerHTML.split("<br>").length,m.innerHTML.includes("</math>")&&(d+=m.innerHTML.split("<mrow>").length-1);const x=m.getElementsByTagName("img");if(x){const S=c.replace(/<img[^>]*>/g,"").trim()==="";await Promise.all([...x].map(b=>new Promise(E=>{function A(){var k;if(b.style.display="flex",b.style.flexDirection="column",S){const R=((k=s.fontSize)==null?void 0:k.toString())??window.getComputedStyle(document.body).fontSize,B=parseInt(R,10)*5+"px";b.style.minWidth=B,b.style.maxWidth=B}else b.style.width="100%";E(b)}T(A,"setupImage"),setTimeout(()=>{b.complete&&A()}),b.addEventListener("error",A),b.addEventListener("load",A)})))}h=m.getBoundingClientRect(),v.attr("width",h.width),v.attr("height",h.height)}else{i.includes("font-weight: bolder")&&Qt(f).selectAll("tspan").attr("font-weight",""),d=f.children.length;const m=f.children[0];(f.textContent===""||f.textContent.includes("&gt"))&&(m.textContent=c[0]+c.substring(1).replaceAll("&gt;",">").replaceAll("&lt;","<").trim(),c[1]===" "&&(m.textContent=m.textContent[0]+" "+m.textContent.substring(1))),m.textContent==="undefined"&&(m.textContent=""),h=f.getBBox()}return a.attr("transform","translate(0,"+(-h.height/(2*d)+n)+")"),h.height}T(Jl,"addText");async function Mk(e,t){var Q,et;const n=oe(),i=n.class.padding??12,a=i,s=t.useHtmlLabels??qe(n.htmlLabels)??!0,l=t;l.annotations=l.annotations??[],l.members=l.members??[],l.methods=l.methods??[];const{shapeSvg:c,bbox:f}=await kk(e,t,n,s,a),{labelStyles:h,nodeStyles:d}=Tt(t);t.labelStyle=h,t.cssStyles=l.styles||"";const m=((Q=l.styles)==null?void 0:Q.join(";"))||d||"";t.cssStyles||(t.cssStyles=m.replaceAll("!important","").split(";"));const v=l.members.length===0&&l.methods.length===0&&!((et=n.class)!=null&&et.hideEmptyMembersBox),x=St.svg(c),S=bt(t,{});t.look!=="handDrawn"&&(S.roughness=0,S.fillStyle="solid");const b=f.width;let E=f.height;l.members.length===0&&l.methods.length===0?E+=a:l.members.length>0&&l.methods.length===0&&(E+=a*2);const A=-b/2,k=-E/2,R=x.rectangle(A-i,k-i-(v?i:l.members.length===0&&l.methods.length===0?-i/2:0),b+2*i,E+2*i+(v?i*2:l.members.length===0&&l.methods.length===0?-i:0),S),I=c.insert(()=>R,":first-child");I.attr("class","basic label-container");const B=I.node().getBBox();c.selectAll(".text").each((Y,ct,nt)=>{var lt;const W=Qt(nt[ct]),H=W.attr("transform");let D=0;if(H){const F=RegExp(/translate\(([^,]+),([^)]+)\)/).exec(H);F&&(D=parseFloat(F[2]))}let P=D+k+i-(v?i:l.members.length===0&&l.methods.length===0?-i/2:0);s||(P-=4);let z=A;(W.attr("class").includes("label-group")||W.attr("class").includes("annotation-group"))&&(z=-((lt=W.node())==null?void 0:lt.getBBox().width)/2||0,c.selectAll("text").each(function(ft,F,j){window.getComputedStyle(j[F]).textAnchor==="middle"&&(z=0)})),W.attr("transform",`translate(${z}, ${P})`)});const L=c.select(".annotation-group").node().getBBox().height-(v?i/2:0)||0,N=c.select(".label-group").node().getBBox().height-(v?i/2:0)||0,V=c.select(".members-group").node().getBBox().height-(v?i/2:0)||0;if(l.members.length>0||l.methods.length>0||v){const Y=x.line(B.x,L+N+k+i,B.x+B.width,L+N+k+i,S);c.insert(()=>Y).attr("class","divider").attr("style",m)}if(v||l.members.length>0||l.methods.length>0){const Y=x.line(B.x,L+N+V+k+a*2+i,B.x+B.width,L+N+V+k+i+a*2,S);c.insert(()=>Y).attr("class","divider").attr("style",m)}if(l.look!=="handDrawn"&&c.selectAll("path").attr("style",m),I.select(":nth-child(2)").attr("style",m),c.selectAll(".divider").select("path").attr("style",m),t.labelStyle?c.selectAll("span").attr("style",t.labelStyle):c.selectAll("span").attr("style",m),!s){const Y=RegExp(/color\s*:\s*([^;]*)/),ct=Y.exec(m);if(ct){const nt=ct[0].replace("color","fill");c.selectAll("tspan").attr("style",nt)}else if(h){const nt=Y.exec(h);if(nt){const W=nt[0].replace("color","fill");c.selectAll("tspan").attr("style",W)}}}return Et(t,I),t.intersect=function(Y){return yt.rect(t,Y)},c}T(Mk,"classBox");async function Rk(e,t){var L,N;const{labelStyles:n,nodeStyles:i}=Tt(t);t.labelStyle=n;const a=t,s=t,l=20,c=20,f="verifyMethod"in t,h=Nt(t),d=e.insert("g").attr("class",h).attr("id",t.domId??t.id);let m;f?m=await Oi(d,`&lt;&lt;${a.type}&gt;&gt;`,0,t.labelStyle):m=await Oi(d,"&lt;&lt;Element&gt;&gt;",0,t.labelStyle);let v=m;const x=await Oi(d,a.name,v,t.labelStyle+"; font-weight: bold;");if(v+=x+c,f){const V=await Oi(d,`${a.requirementId?`ID: ${a.requirementId}`:""}`,v,t.labelStyle);v+=V;const Q=await Oi(d,`${a.text?`Text: ${a.text}`:""}`,v,t.labelStyle);v+=Q;const et=await Oi(d,`${a.risk?`Risk: ${a.risk}`:""}`,v,t.labelStyle);v+=et,await Oi(d,`${a.verifyMethod?`Verification: ${a.verifyMethod}`:""}`,v,t.labelStyle)}else{const V=await Oi(d,`${s.type?`Type: ${s.type}`:""}`,v,t.labelStyle);v+=V,await Oi(d,`${s.docRef?`Doc Ref: ${s.docRef}`:""}`,v,t.labelStyle)}const S=(((L=d.node())==null?void 0:L.getBBox().width)??200)+l,b=(((N=d.node())==null?void 0:N.getBBox().height)??200)+l,E=-S/2,A=-b/2,k=St.svg(d),R=bt(t,{});t.look!=="handDrawn"&&(R.roughness=0,R.fillStyle="solid");const I=k.rectangle(E,A,S,b,R),B=d.insert(()=>I,":first-child");if(B.attr("class","basic label-container").attr("style",i),d.selectAll(".label").each((V,Q,et)=>{const Y=Qt(et[Q]),ct=Y.attr("transform");let nt=0,W=0;if(ct){const z=RegExp(/translate\(([^,]+),([^)]+)\)/).exec(ct);z&&(nt=parseFloat(z[1]),W=parseFloat(z[2]))}const H=W-b/2;let D=E+l/2;(Q===0||Q===1)&&(D=nt),Y.attr("transform",`translate(${D}, ${H+l})`)}),v>m+x+c){const V=k.line(E,A+m+x+c,E+S,A+m+x+c,R);d.insert(()=>V).attr("style",i)}return Et(t,B),t.intersect=function(V){return yt.rect(t,V)},d}T(Rk,"requirementBox");async function Oi(e,t,n,i=""){if(t==="")return 0;const a=e.insert("g").attr("class","label").attr("style",i),s=oe(),l=s.htmlLabels??!0,c=await ca(a,my(to(t)),{width:Sr(t,s)+50,classes:"markdown-node-label",useHtmlLabels:l,style:i},s);let f;if(l){const h=c.children[0],d=Qt(c);f=h.getBoundingClientRect(),d.attr("width",f.width),d.attr("height",f.height)}else{const h=c.children[0];for(const d of h.children)d.textContent=d.textContent.replaceAll("&gt;",">").replaceAll("&lt;","<"),i&&d.setAttribute("style",i);f=c.getBBox(),f.height+=6}return a.attr("transform",`translate(${-f.width/2},${-f.height/2+n})`),f.height}T(Oi,"addText");var uV=T(e=>{switch(e){case"Very High":return"red";case"High":return"orange";case"Medium":return null;case"Low":return"blue";case"Very Low":return"lightblue"}},"colorFromPriority");async function Nk(e,t,{config:n}){var ct,nt;const{labelStyles:i,nodeStyles:a}=Tt(t);t.labelStyle=i||"";const s=10,l=t.width;t.width=(t.width??200)-10;const{shapeSvg:c,bbox:f,label:h}=await Dt(e,t,Nt(t)),d=t.padding||10;let m="",v;"ticket"in t&&t.ticket&&((ct=n==null?void 0:n.kanban)!=null&&ct.ticketBaseUrl)&&(m=(nt=n==null?void 0:n.kanban)==null?void 0:nt.ticketBaseUrl.replace("#TICKET#",t.ticket),v=c.insert("svg:a",":first-child").attr("class","kanban-ticket-link").attr("xlink:href",m).attr("target","_blank"));const x={useHtmlLabels:t.useHtmlLabels,labelStyle:t.labelStyle||"",width:t.width,img:t.img,padding:t.padding||8,centerLabel:!1};let S,b;v?{label:S,bbox:b}=await Dg(v,"ticket"in t&&t.ticket||"",x):{label:S,bbox:b}=await Dg(c,"ticket"in t&&t.ticket||"",x);const{label:E,bbox:A}=await Dg(c,"assigned"in t&&t.assigned||"",x);t.width=l;const k=10,R=(t==null?void 0:t.width)||0,I=Math.max(b.height,A.height)/2,B=Math.max(f.height+k*2,(t==null?void 0:t.height)||0)+I,L=-R/2,N=-B/2;h.attr("transform","translate("+(d-R/2)+", "+(-I-f.height/2)+")"),S.attr("transform","translate("+(d-R/2)+", "+(-I+f.height/2)+")"),E.attr("transform","translate("+(d+R/2-A.width-2*s)+", "+(-I+f.height/2)+")");let V;const{rx:Q,ry:et}=t,{cssStyles:Y}=t;if(t.look==="handDrawn"){const W=St.svg(c),H=bt(t,{}),D=Q||et?W.path(ua(L,N,R,B,Q||0),H):W.rectangle(L,N,R,B,H);V=c.insert(()=>D,":first-child"),V.attr("class","basic label-container").attr("style",Y||null)}else{V=c.insert("rect",":first-child"),V.attr("class","basic label-container __APA__").attr("style",a).attr("rx",Q??5).attr("ry",et??5).attr("x",L).attr("y",N).attr("width",R).attr("height",B);const W="priority"in t&&t.priority;if(W){const H=c.append("line"),D=L+2,P=N+Math.floor((Q??0)/2),z=N+B-Math.floor((Q??0)/2);H.attr("x1",D).attr("y1",P).attr("x2",D).attr("y2",z).attr("stroke-width","4").attr("stroke",uV(W))}}return Et(t,V),t.height=B,t.intersect=function(W){return yt.rect(t,W)},c}T(Nk,"kanbanItem");async function Lk(e,t){const{labelStyles:n,nodeStyles:i}=Tt(t);t.labelStyle=n;const{shapeSvg:a,bbox:s,halfPadding:l,label:c}=await Dt(e,t,Nt(t)),f=s.width+10*l,h=s.height+8*l,d=.15*f,{cssStyles:m}=t,v=s.width+20,x=s.height+20,S=Math.max(f,v),b=Math.max(h,x);c.attr("transform",`translate(${-s.width/2}, ${-s.height/2})`);let E;const A=`M0 0 
    a${d},${d} 1 0,0 ${S*.25},${-1*b*.1}
    a${d},${d} 1 0,0 ${S*.25},0
    a${d},${d} 1 0,0 ${S*.25},0
    a${d},${d} 1 0,0 ${S*.25},${b*.1}

    a${d},${d} 1 0,0 ${S*.15},${b*.33}
    a${d*.8},${d*.8} 1 0,0 0,${b*.34}
    a${d},${d} 1 0,0 ${-1*S*.15},${b*.33}

    a${d},${d} 1 0,0 ${-1*S*.25},${b*.15}
    a${d},${d} 1 0,0 ${-1*S*.25},0
    a${d},${d} 1 0,0 ${-1*S*.25},0
    a${d},${d} 1 0,0 ${-1*S*.25},${-1*b*.15}

    a${d},${d} 1 0,0 ${-1*S*.1},${-1*b*.33}
    a${d*.8},${d*.8} 1 0,0 0,${-1*b*.34}
    a${d},${d} 1 0,0 ${S*.1},${-1*b*.33}
  H0 V0 Z`;if(t.look==="handDrawn"){const k=St.svg(a),R=bt(t,{}),I=k.path(A,R);E=a.insert(()=>I,":first-child"),E.attr("class","basic label-container").attr("style",un(m))}else E=a.insert("path",":first-child").attr("class","basic label-container").attr("style",i).attr("d",A);return E.attr("transform",`translate(${-S/2}, ${-b/2})`),Et(t,E),t.calcIntersect=function(k,R){return yt.rect(k,R)},t.intersect=function(k){return st.info("Bang intersect",t,k),yt.rect(t,k)},a}T(Lk,"bang");async function Dk(e,t){const{labelStyles:n,nodeStyles:i}=Tt(t);t.labelStyle=n;const{shapeSvg:a,bbox:s,halfPadding:l,label:c}=await Dt(e,t,Nt(t)),f=s.width+2*l,h=s.height+2*l,d=.15*f,m=.25*f,v=.35*f,x=.2*f,{cssStyles:S}=t;let b;const E=`M0 0 
    a${d},${d} 0 0,1 ${f*.25},${-1*f*.1}
    a${v},${v} 1 0,1 ${f*.4},${-1*f*.1}
    a${m},${m} 1 0,1 ${f*.35},${f*.2}

    a${d},${d} 1 0,1 ${f*.15},${h*.35}
    a${x},${x} 1 0,1 ${-1*f*.15},${h*.65}

    a${m},${d} 1 0,1 ${-1*f*.25},${f*.15}
    a${v},${v} 1 0,1 ${-1*f*.5},0
    a${d},${d} 1 0,1 ${-1*f*.25},${-1*f*.15}

    a${d},${d} 1 0,1 ${-1*f*.1},${-1*h*.35}
    a${x},${x} 1 0,1 ${f*.1},${-1*h*.65}
  H0 V0 Z`;if(t.look==="handDrawn"){const A=St.svg(a),k=bt(t,{}),R=A.path(E,k);b=a.insert(()=>R,":first-child"),b.attr("class","basic label-container").attr("style",un(S))}else b=a.insert("path",":first-child").attr("class","basic label-container").attr("style",i).attr("d",E);return c.attr("transform",`translate(${-s.width/2}, ${-s.height/2})`),b.attr("transform",`translate(${-f/2}, ${-h/2})`),Et(t,b),t.calcIntersect=function(A,k){return yt.rect(A,k)},t.intersect=function(A){return st.info("Cloud intersect",t,A),yt.rect(t,A)},a}T(Dk,"cloud");async function Ik(e,t){const{labelStyles:n,nodeStyles:i}=Tt(t);t.labelStyle=n;const{shapeSvg:a,bbox:s,halfPadding:l,label:c}=await Dt(e,t,Nt(t)),f=s.width+8*l,h=s.height+2*l,d=5,m=`
    M${-f/2} ${h/2-d}
    v${-h+2*d}
    q0,-${d} ${d},-${d}
    h${f-2*d}
    q${d},0 ${d},${d}
    v${h-2*d}
    q0,${d} -${d},${d}
    h${-f+2*d}
    q-${d},0 -${d},-${d}
    Z
  `,v=a.append("path").attr("id","node-"+t.id).attr("class","node-bkg node-"+t.type).attr("style",i).attr("d",m);return a.append("line").attr("class","node-line-").attr("x1",-f/2).attr("y1",h/2).attr("x2",f/2).attr("y2",h/2),c.attr("transform",`translate(${-s.width/2}, ${-s.height/2})`),a.append(()=>c.node()),Et(t,v),t.calcIntersect=function(x,S){return yt.rect(x,S)},t.intersect=function(x){return yt.rect(t,x)},a}T(Ik,"defaultMindmapNode");async function Bk(e,t){const n={padding:t.padding??0};return a0(e,t,n)}T(Bk,"mindmapCircle");var hV=[{semanticName:"Process",name:"Rectangle",shortName:"rect",description:"Standard process shape",aliases:["proc","process","rectangle"],internalAliases:["squareRect"],handler:fk},{semanticName:"Event",name:"Rounded Rectangle",shortName:"rounded",description:"Represents an event",aliases:["event"],internalAliases:["roundedRect"],handler:ck},{semanticName:"Terminal Point",name:"Stadium",shortName:"stadium",description:"Terminal point",aliases:["terminal","pill"],handler:dk},{semanticName:"Subprocess",name:"Framed Rectangle",shortName:"fr-rect",description:"Subprocess",aliases:["subprocess","subproc","framed-rectangle","subroutine"],handler:yk},{semanticName:"Database",name:"Cylinder",shortName:"cyl",description:"Database storage",aliases:["db","database","cylinder"],handler:FA},{semanticName:"Start",name:"Circle",shortName:"circle",description:"Starting point",aliases:["circ"],handler:a0},{semanticName:"Bang",name:"Bang",shortName:"bang",description:"Bang",aliases:["bang"],handler:Lk},{semanticName:"Cloud",name:"Cloud",shortName:"cloud",description:"cloud",aliases:["cloud"],handler:Dk},{semanticName:"Decision",name:"Diamond",shortName:"diam",description:"Decision-making step",aliases:["decision","diamond","question"],handler:ok},{semanticName:"Prepare Conditional",name:"Hexagon",shortName:"hex",description:"Preparation or condition step",aliases:["hexagon","prepare"],handler:HA},{semanticName:"Data Input/Output",name:"Lean Right",shortName:"lean-r",description:"Represents input or output",aliases:["lean-right","in-out"],internalAliases:["lean_right"],handler:jA},{semanticName:"Data Input/Output",name:"Lean Left",shortName:"lean-l",description:"Represents output or input",aliases:["lean-left","out-in"],internalAliases:["lean_left"],handler:ZA},{semanticName:"Priority Action",name:"Trapezoid Base Bottom",shortName:"trap-b",description:"Priority action",aliases:["priority","trapezoid-bottom","trapezoid"],handler:Sk},{semanticName:"Manual Operation",name:"Trapezoid Base Top",shortName:"trap-t",description:"Represents a manual task",aliases:["manual","trapezoid-top","inv-trapezoid"],internalAliases:["inv_trapezoid"],handler:KA},{semanticName:"Stop",name:"Double Circle",shortName:"dbl-circ",description:"Represents a stop point",aliases:["double-circle"],internalAliases:["doublecircle"],handler:PA},{semanticName:"Text Block",name:"Text Block",shortName:"text",description:"Text block",handler:xk},{semanticName:"Card",name:"Notched Rectangle",shortName:"notch-rect",description:"Represents a card",aliases:["card","notched-rectangle"],handler:kA},{semanticName:"Lined/Shaded Process",name:"Lined Rectangle",shortName:"lin-rect",description:"Lined process shape",aliases:["lined-rectangle","lined-process","lin-proc","shaded-process"],handler:uk},{semanticName:"Start",name:"Small Circle",shortName:"sm-circ",description:"Small starting point",aliases:["start","small-circle"],internalAliases:["stateStart"],handler:mk},{semanticName:"Stop",name:"Framed Circle",shortName:"fr-circ",description:"Stop point",aliases:["stop","framed-circle"],internalAliases:["stateEnd"],handler:gk},{semanticName:"Fork/Join",name:"Filled Rectangle",shortName:"fork",description:"Fork or join in process flow",aliases:["join"],internalAliases:["forkJoin"],handler:zA},{semanticName:"Collate",name:"Hourglass",shortName:"hourglass",description:"Represents a collate operation",aliases:["hourglass","collate"],handler:GA},{semanticName:"Comment",name:"Curly Brace",shortName:"brace",description:"Adds a comment",aliases:["comment","brace-l"],handler:LA},{semanticName:"Comment Right",name:"Curly Brace",shortName:"brace-r",description:"Adds a comment",handler:DA},{semanticName:"Comment with braces on both sides",name:"Curly Braces",shortName:"braces",description:"Adds a comment",handler:IA},{semanticName:"Com Link",name:"Lightning Bolt",shortName:"bolt",description:"Communication link",aliases:["com-link","lightning-bolt"],handler:tk},{semanticName:"Document",name:"Document",shortName:"doc",description:"Represents a document",aliases:["doc","document"],handler:Ek},{semanticName:"Delay",name:"Half-Rounded Rectangle",shortName:"delay",description:"Represents a delay",aliases:["half-rounded-rectangle"],handler:qA},{semanticName:"Direct Access Storage",name:"Horizontal Cylinder",shortName:"h-cyl",description:"Direct access storage",aliases:["das","horizontal-cylinder"],handler:Ck},{semanticName:"Disk Storage",name:"Lined Cylinder",shortName:"lin-cyl",description:"Disk storage",aliases:["disk","lined-cylinder"],handler:ek},{semanticName:"Display",name:"Curved Trapezoid",shortName:"curv-trap",description:"Represents a display",aliases:["curved-trapezoid","display"],handler:BA},{semanticName:"Divided Process",name:"Divided Rectangle",shortName:"div-rect",description:"Divided process shape",aliases:["div-proc","divided-rectangle","divided-process"],handler:OA},{semanticName:"Extract",name:"Triangle",shortName:"tri",description:"Extraction process",aliases:["extract","triangle"],handler:Tk},{semanticName:"Internal Storage",name:"Window Pane",shortName:"win-pane",description:"Internal storage",aliases:["internal-storage","window-pane"],handler:Ak},{semanticName:"Junction",name:"Filled Circle",shortName:"f-circ",description:"Junction point",aliases:["junction","filled-circle"],handler:UA},{semanticName:"Loop Limit",name:"Trapezoidal Pentagon",shortName:"notch-pent",description:"Loop limit step",aliases:["loop-limit","notched-pentagon"],handler:bk},{semanticName:"Manual File",name:"Flipped Triangle",shortName:"flip-tri",description:"Manual file operation",aliases:["manual-file","flipped-triangle"],handler:$A},{semanticName:"Manual Input",name:"Sloped Rectangle",shortName:"sl-rect",description:"Manual input step",aliases:["manual-input","sloped-rectangle"],handler:hk},{semanticName:"Multi-Document",name:"Stacked Document",shortName:"docs",description:"Multiple documents",aliases:["documents","st-doc","stacked-document"],handler:rk},{semanticName:"Multi-Process",name:"Stacked Rectangle",shortName:"st-rect",description:"Multiple processes",aliases:["procs","processes","stacked-rectangle"],handler:ik},{semanticName:"Stored Data",name:"Bow Tie Rectangle",shortName:"bow-rect",description:"Stored data",aliases:["stored-data","bow-tie-rectangle"],handler:AA},{semanticName:"Summary",name:"Crossed Circle",shortName:"cross-circ",description:"Summary",aliases:["summary","crossed-circle"],handler:NA},{semanticName:"Tagged Document",name:"Tagged Document",shortName:"tag-doc",description:"Tagged document",aliases:["tag-doc","tagged-document"],handler:_k},{semanticName:"Tagged Process",name:"Tagged Rectangle",shortName:"tag-rect",description:"Tagged process",aliases:["tagged-rectangle","tag-proc","tagged-process"],handler:vk},{semanticName:"Paper Tape",name:"Flag",shortName:"flag",description:"Paper tape",aliases:["paper-tape"],handler:wk},{semanticName:"Odd",name:"Odd",shortName:"odd",description:"Odd shape",internalAliases:["rect_left_inv_arrow"],handler:sk},{semanticName:"Lined Document",name:"Lined Document",shortName:"lin-doc",description:"Lined document",aliases:["lined-document"],handler:nk}],fV=T(()=>{const t=[...Object.entries({state:pk,choice:MA,note:ak,rectWithTitle:lk,labelRect:QA,iconSquare:XA,iconCircle:YA,icon:VA,iconRounded:WA,imageSquare:JA,anchor:wA,kanbanItem:Nk,mindmapCircle:Bk,defaultMindmapNode:Ik,classBox:Mk,erBox:o0,requirementBox:Rk}),...hV.flatMap(n=>[n.shortName,..."aliases"in n?n.aliases:[],..."internalAliases"in n?n.internalAliases:[]].map(a=>[a,n.handler]))];return Object.fromEntries(t)},"generateShapeMap"),Fk=fV();function dV(e){return e in Fk}T(dV,"isValidShape");var Xf=new Map;async function Ok(e,t,n){let i,a;t.shape==="rect"&&(t.rx&&t.ry?t.shape="roundedRect":t.shape="squareRect");const s=t.shape?Fk[t.shape]:void 0;if(!s)throw new Error(`No such shape: ${t.shape}. Please check your syntax.`);if(t.link){let l;n.config.securityLevel==="sandbox"?l="_top":t.linkTarget&&(l=t.linkTarget||"_blank"),i=e.insert("svg:a").attr("xlink:href",t.link).attr("target",l??null),a=await s(i,t,n)}else a=await s(e,t,n),i=a;return t.tooltip&&a.attr("title",t.tooltip),Xf.set(t.id,i),t.haveCallback&&i.attr("class",i.attr("class")+" clickable"),i}T(Ok,"insertNode");var MX=T((e,t)=>{Xf.set(t.id,e)},"setNodeElem"),RX=T(()=>{Xf.clear()},"clear"),NX=T(e=>{const t=Xf.get(e.id);st.trace("Transforming node",e.diff,e,"translate("+(e.x-e.width/2-5)+", "+e.width/2+")");const n=8,i=e.diff||0;return e.clusterNode?t.attr("transform","translate("+(e.x+i-e.width/2)+", "+(e.y-e.height/2-n)+")"):t.attr("transform","translate("+e.x+", "+e.y+")"),i},"positionNode"),pV=T((e,t,n,i,a,s)=>{t.arrowTypeStart&&l1(e,"start",t.arrowTypeStart,n,i,a,s),t.arrowTypeEnd&&l1(e,"end",t.arrowTypeEnd,n,i,a,s)},"addEdgeMarkers"),gV={arrow_cross:{type:"cross",fill:!1},arrow_point:{type:"point",fill:!0},arrow_barb:{type:"barb",fill:!0},arrow_circle:{type:"circle",fill:!1},aggregation:{type:"aggregation",fill:!1},extension:{type:"extension",fill:!1},composition:{type:"composition",fill:!0},dependency:{type:"dependency",fill:!0},lollipop:{type:"lollipop",fill:!1},only_one:{type:"onlyOne",fill:!1},zero_or_one:{type:"zeroOrOne",fill:!1},one_or_more:{type:"oneOrMore",fill:!1},zero_or_more:{type:"zeroOrMore",fill:!1},requirement_arrow:{type:"requirement_arrow",fill:!1},requirement_contains:{type:"requirement_contains",fill:!1}},l1=T((e,t,n,i,a,s,l)=>{var m;const c=gV[n];if(!c){st.warn(`Unknown arrow type: ${n}`);return}const f=c.type,d=`${a}_${s}-${f}${t==="start"?"Start":"End"}`;if(l&&l.trim()!==""){const v=l.replace(/[^\dA-Za-z]/g,"_"),x=`${d}_${v}`;if(!document.getElementById(x)){const S=document.getElementById(d);if(S){const b=S.cloneNode(!0);b.id=x,b.querySelectorAll("path, circle, line").forEach(A=>{A.setAttribute("stroke",l),c.fill&&A.setAttribute("fill",l)}),(m=S.parentNode)==null||m.appendChild(b)}}e.attr(`marker-${t}`,`url(${i}#${x})`)}else e.attr(`marker-${t}`,`url(${i}#${d})`)},"addEdgeMarker"),mf=new Map,en=new Map,LX=T(()=>{mf.clear(),en.clear()},"clear"),sh=T(e=>e?e.reduce((n,i)=>n+";"+i,""):"","getLabelStyles"),mV=T(async(e,t)=>{let n=qe(oe().flowchart.htmlLabels);const{labelStyles:i}=Tt(t);t.labelStyle=i;const a=await ca(e,t.label,{style:t.labelStyle,useHtmlLabels:n,addSvgBackground:!0,isNode:!1});st.info("abc82",t,t.labelType);const s=e.insert("g").attr("class","edgeLabel"),l=s.insert("g").attr("class","label").attr("data-id",t.id);l.node().appendChild(a);let c=a.getBBox();if(n){const h=a.children[0],d=Qt(a);c=h.getBoundingClientRect(),d.attr("width",c.width),d.attr("height",c.height)}l.attr("transform","translate("+-c.width/2+", "+-c.height/2+")"),mf.set(t.id,s),t.width=c.width,t.height=c.height;let f;if(t.startLabelLeft){const h=await $a(t.startLabelLeft,sh(t.labelStyle)),d=e.insert("g").attr("class","edgeTerminals"),m=d.insert("g").attr("class","inner");f=m.node().appendChild(h);const v=h.getBBox();m.attr("transform","translate("+-v.width/2+", "+-v.height/2+")"),en.get(t.id)||en.set(t.id,{}),en.get(t.id).startLeft=d,Kl(f,t.startLabelLeft)}if(t.startLabelRight){const h=await $a(t.startLabelRight,sh(t.labelStyle)),d=e.insert("g").attr("class","edgeTerminals"),m=d.insert("g").attr("class","inner");f=d.node().appendChild(h),m.node().appendChild(h);const v=h.getBBox();m.attr("transform","translate("+-v.width/2+", "+-v.height/2+")"),en.get(t.id)||en.set(t.id,{}),en.get(t.id).startRight=d,Kl(f,t.startLabelRight)}if(t.endLabelLeft){const h=await $a(t.endLabelLeft,sh(t.labelStyle)),d=e.insert("g").attr("class","edgeTerminals"),m=d.insert("g").attr("class","inner");f=m.node().appendChild(h);const v=h.getBBox();m.attr("transform","translate("+-v.width/2+", "+-v.height/2+")"),d.node().appendChild(h),en.get(t.id)||en.set(t.id,{}),en.get(t.id).endLeft=d,Kl(f,t.endLabelLeft)}if(t.endLabelRight){const h=await $a(t.endLabelRight,sh(t.labelStyle)),d=e.insert("g").attr("class","edgeTerminals"),m=d.insert("g").attr("class","inner");f=m.node().appendChild(h);const v=h.getBBox();m.attr("transform","translate("+-v.width/2+", "+-v.height/2+")"),d.node().appendChild(h),en.get(t.id)||en.set(t.id,{}),en.get(t.id).endRight=d,Kl(f,t.endLabelRight)}return a},"insertEdgeLabel");function Kl(e,t){oe().flowchart.htmlLabels&&e&&(e.style.width=t.length*9+"px",e.style.height="12px")}T(Kl,"setTerminalWidth");var yV=T((e,t)=>{st.debug("Moving label abc88 ",e.id,e.label,mf.get(e.id),t);let n=t.updatedPath?t.updatedPath:t.originalPath;const i=oe(),{subGraphTitleTotalMargin:a}=Fy(i);if(e.label){const s=mf.get(e.id);let l=e.x,c=e.y;if(n){const f=Ci.calcLabelPosition(n);st.debug("Moving label "+e.label+" from (",l,",",c,") to (",f.x,",",f.y,") abc88"),t.updatedPath&&(l=f.x,c=f.y)}s.attr("transform",`translate(${l}, ${c+a/2})`)}if(e.startLabelLeft){const s=en.get(e.id).startLeft;let l=e.x,c=e.y;if(n){const f=Ci.calcTerminalLabelPosition(e.arrowTypeStart?10:0,"start_left",n);l=f.x,c=f.y}s.attr("transform",`translate(${l}, ${c})`)}if(e.startLabelRight){const s=en.get(e.id).startRight;let l=e.x,c=e.y;if(n){const f=Ci.calcTerminalLabelPosition(e.arrowTypeStart?10:0,"start_right",n);l=f.x,c=f.y}s.attr("transform",`translate(${l}, ${c})`)}if(e.endLabelLeft){const s=en.get(e.id).endLeft;let l=e.x,c=e.y;if(n){const f=Ci.calcTerminalLabelPosition(e.arrowTypeEnd?10:0,"end_left",n);l=f.x,c=f.y}s.attr("transform",`translate(${l}, ${c})`)}if(e.endLabelRight){const s=en.get(e.id).endRight;let l=e.x,c=e.y;if(n){const f=Ci.calcTerminalLabelPosition(e.arrowTypeEnd?10:0,"end_right",n);l=f.x,c=f.y}s.attr("transform",`translate(${l}, ${c})`)}},"positionEdgeLabel"),vV=T((e,t)=>{const n=e.x,i=e.y,a=Math.abs(t.x-n),s=Math.abs(t.y-i),l=e.width/2,c=e.height/2;return a>=l||s>=c},"outsideNode"),_V=T((e,t,n)=>{st.debug(`intersection calc abc89:
  outsidePoint: ${JSON.stringify(t)}
  insidePoint : ${JSON.stringify(n)}
  node        : x:${e.x} y:${e.y} w:${e.width} h:${e.height}`);const i=e.x,a=e.y,s=Math.abs(i-n.x),l=e.width/2;let c=n.x<t.x?l-s:l+s;const f=e.height/2,h=Math.abs(t.y-n.y),d=Math.abs(t.x-n.x);if(Math.abs(a-t.y)*l>Math.abs(i-t.x)*f){let m=n.y<t.y?t.y-f-a:a-f-t.y;c=d*m/h;const v={x:n.x<t.x?n.x+c:n.x-d+c,y:n.y<t.y?n.y+h-m:n.y-h+m};return c===0&&(v.x=t.x,v.y=t.y),d===0&&(v.x=t.x),h===0&&(v.y=t.y),st.debug(`abc89 top/bottom calc, Q ${h}, q ${m}, R ${d}, r ${c}`,v),v}else{n.x<t.x?c=t.x-l-i:c=i-l-t.x;let m=h*c/d,v=n.x<t.x?n.x+d-c:n.x-d+c,x=n.y<t.y?n.y+m:n.y-m;return st.debug(`sides calc abc89, Q ${h}, q ${m}, R ${d}, r ${c}`,{_x:v,_y:x}),c===0&&(v=t.x,x=t.y),d===0&&(v=t.x),h===0&&(x=t.y),{x:v,y:x}}},"intersection"),c1=T((e,t)=>{st.warn("abc88 cutPathAtIntersect",e,t);let n=[],i=e[0],a=!1;return e.forEach(s=>{if(st.info("abc88 checking point",s,t),!vV(t,s)&&!a){const l=_V(t,i,s);st.debug("abc88 inside",s,i,l),st.debug("abc88 intersection",l,t);let c=!1;n.forEach(f=>{c=c||f.x===l.x&&f.y===l.y}),n.some(f=>f.x===l.x&&f.y===l.y)?st.warn("abc88 no intersect",l,n):n.push(l),a=!0}else st.warn("abc88 outside",s,i),i=s,a||n.push(s)}),st.debug("returning points",n),n},"cutPathAtIntersect");function Pk(e){const t=[],n=[];for(let i=1;i<e.length-1;i++){const a=e[i-1],s=e[i],l=e[i+1];(a.x===s.x&&s.y===l.y&&Math.abs(s.x-l.x)>5&&Math.abs(s.y-a.y)>5||a.y===s.y&&s.x===l.x&&Math.abs(s.x-a.x)>5&&Math.abs(s.y-l.y)>5)&&(t.push(s),n.push(i))}return{cornerPoints:t,cornerPointPositions:n}}T(Pk,"extractCornerPoints");var u1=T(function(e,t,n){const i=t.x-e.x,a=t.y-e.y,s=Math.sqrt(i*i+a*a),l=n/s;return{x:t.x-l*i,y:t.y-l*a}},"findAdjacentPoint"),xV=T(function(e){const{cornerPointPositions:t}=Pk(e),n=[];for(let i=0;i<e.length;i++)if(t.includes(i)){const a=e[i-1],s=e[i+1],l=e[i],c=u1(a,l,5),f=u1(s,l,5),h=f.x-c.x,d=f.y-c.y;n.push(c);const m=Math.sqrt(2)*2;let v={x:l.x,y:l.y};if(Math.abs(s.x-a.x)>10&&Math.abs(s.y-a.y)>=10){st.debug("Corner point fixing",Math.abs(s.x-a.x),Math.abs(s.y-a.y));const x=5;l.x===c.x?v={x:h<0?c.x-x+m:c.x+x-m,y:d<0?c.y-m:c.y+m}:v={x:h<0?c.x-m:c.x+m,y:d<0?c.y-x+m:c.y+x-m}}else st.debug("Corner point skipping fixing",Math.abs(s.x-a.x),Math.abs(s.y-a.y));n.push(v,f)}else n.push(e[i]);return n},"fixCorners"),CV=T((e,t,n)=>{const i=e-t-n,a=2,s=2,l=a+s,c=Math.floor(i/l),f=Array(c).fill(`${a} ${s}`).join(" ");return`0 ${t} ${f} ${n}`},"generateDashArray"),SV=T(function(e,t,n,i,a,s,l,c=!1){var W;const{handDrawnSeed:f}=oe();let h=t.points,d=!1;const m=a;var v=s;const x=[];for(const H in t.cssCompiledStyles)gw(H)||x.push(t.cssCompiledStyles[H]);st.debug("UIO intersect check",t.points,v.x,m.x),v.intersect&&m.intersect&&!c&&(h=h.slice(1,t.points.length-1),h.unshift(m.intersect(h[0])),st.debug("Last point UIO",t.start,"-->",t.end,h[h.length-1],v,v.intersect(h[h.length-1])),h.push(v.intersect(h[h.length-1])));const S=btoa(JSON.stringify(h));t.toCluster&&(st.info("to cluster abc88",n.get(t.toCluster)),h=c1(t.points,n.get(t.toCluster).node),d=!0),t.fromCluster&&(st.debug("from cluster abc88",n.get(t.fromCluster),JSON.stringify(h,null,2)),h=c1(h.reverse(),n.get(t.fromCluster).node).reverse(),d=!0);let b=h.filter(H=>!Number.isNaN(H.y));b=xV(b);let E=xh;switch(E=Yh,t.curve){case"linear":E=Yh;break;case"basis":E=xh;break;case"cardinal":E=_2;break;case"bumpX":E=p2;break;case"bumpY":E=g2;break;case"catmullRom":E=C2;break;case"monotoneX":E=A2;break;case"monotoneY":E=k2;break;case"natural":E=R2;break;case"step":E=N2;break;case"stepAfter":E=D2;break;case"stepBefore":E=L2;break;default:E=xh}const{x:A,y:k}=xz(t),R=i8().x(A).y(k).curve(E);let I;switch(t.thickness){case"normal":I="edge-thickness-normal";break;case"thick":I="edge-thickness-thick";break;case"invisible":I="edge-thickness-invisible";break;default:I="edge-thickness-normal"}switch(t.pattern){case"solid":I+=" edge-pattern-solid";break;case"dotted":I+=" edge-pattern-dotted";break;case"dashed":I+=" edge-pattern-dashed";break;default:I+=" edge-pattern-solid"}let B,L=t.curve==="rounded"?Uk($k(b,t),5):R(b);const N=Array.isArray(t.style)?t.style:[t.style];let V=N.find(H=>H==null?void 0:H.startsWith("stroke:")),Q=!1;if(t.look==="handDrawn"){const H=St.svg(e);Object.assign([],b);const D=H.path(L,{roughness:.3,seed:f});I+=" transition",B=Qt(D).select("path").attr("id",t.id).attr("class"," "+I+(t.classes?" "+t.classes:"")).attr("style",N?N.reduce((z,lt)=>z+";"+lt,""):"");let P=B.attr("d");B.attr("d",P),e.node().appendChild(B.node())}else{const H=x.join(";"),D=N?N.reduce((at,ht)=>at+ht+";",""):"";let P="";t.animate&&(P=" edge-animation-fast"),t.animation&&(P=" edge-animation-"+t.animation);const z=(H?H+";"+D+";":D)+";"+(N?N.reduce((at,ht)=>at+";"+ht,""):"");B=e.append("path").attr("d",L).attr("id",t.id).attr("class"," "+I+(t.classes?" "+t.classes:"")+(P??"")).attr("style",z),V=(W=z.match(/stroke:([^;]+)/))==null?void 0:W[1],Q=t.animate===!0||!!t.animation||H.includes("animation");const lt=B.node(),ft=typeof lt.getTotalLength=="function"?lt.getTotalLength():0,F=wb[t.arrowTypeStart]||0,j=wb[t.arrowTypeEnd]||0;if(t.look==="neo"&&!Q){const ht=`stroke-dasharray: ${t.pattern==="dotted"||t.pattern==="dashed"?CV(ft,F,j):`0 ${F} ${ft-F-j} ${j}`}; stroke-dashoffset: 0;`;B.attr("style",ht+B.attr("style"))}}B.attr("data-edge",!0),B.attr("data-et","edge"),B.attr("data-id",t.id),B.attr("data-points",S),t.showPoints&&b.forEach(H=>{e.append("circle").style("stroke","red").style("fill","red").attr("r",1).attr("cx",H.x).attr("cy",H.y)});let et="";(oe().flowchart.arrowMarkerAbsolute||oe().state.arrowMarkerAbsolute)&&(et=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,et=et.replace(/\(/g,"\\(").replace(/\)/g,"\\)")),st.info("arrowTypeStart",t.arrowTypeStart),st.info("arrowTypeEnd",t.arrowTypeEnd),pV(B,t,et,l,i,V);const Y=Math.floor(h.length/2),ct=h[Y];Ci.isLabelCoordinateInPath(ct,B.attr("d"))||(d=!0);let nt={};return d&&(nt.updatedPath=h),nt.originalPath=t.points,nt},"insertEdge");function Uk(e,t){if(e.length<2)return"";let n="";const i=e.length,a=1e-5;for(let s=0;s<i;s++){const l=e[s],c=e[s-1],f=e[s+1];if(s===0)n+=`M${l.x},${l.y}`;else if(s===i-1)n+=`L${l.x},${l.y}`;else{const h=l.x-c.x,d=l.y-c.y,m=f.x-l.x,v=f.y-l.y,x=Math.hypot(h,d),S=Math.hypot(m,v);if(x<a||S<a){n+=`L${l.x},${l.y}`;continue}const b=h/x,E=d/x,A=m/S,k=v/S,R=b*A+E*k,I=Math.max(-1,Math.min(1,R)),B=Math.acos(I);if(B<a||Math.abs(Math.PI-B)<a){n+=`L${l.x},${l.y}`;continue}const L=Math.min(t/Math.sin(B/2),x/2,S/2),N=l.x-b*L,V=l.y-E*L,Q=l.x+A*L,et=l.y+k*L;n+=`L${N},${V}`,n+=`Q${l.x},${l.y} ${Q},${et}`}}return n}T(Uk,"generateRoundedPath");function zm(e,t){if(!e||!t)return{angle:0,deltaX:0,deltaY:0};const n=t.x-e.x,i=t.y-e.y;return{angle:Math.atan2(i,n),deltaX:n,deltaY:i}}T(zm,"calculateDeltaAndAngle");function $k(e,t){const n=e.map(a=>({...a}));if(e.length>=2&&on[t.arrowTypeStart]){const a=on[t.arrowTypeStart],s=e[0],l=e[1],{angle:c}=zm(s,l),f=a*Math.cos(c),h=a*Math.sin(c);n[0].x=s.x+f,n[0].y=s.y+h}const i=e.length;if(i>=2&&on[t.arrowTypeEnd]){const a=on[t.arrowTypeEnd],s=e[i-1],l=e[i-2],{angle:c}=zm(l,s),f=a*Math.cos(c),h=a*Math.sin(c);n[i-1].x=s.x-f,n[i-1].y=s.y-h}return n}T($k,"applyMarkerOffsetsToPoints");var bV=T((e,t,n,i)=>{t.forEach(a=>{UV[a](e,n,i)})},"insertMarkers"),TV=T((e,t,n)=>{st.trace("Making markers for ",n),e.append("defs").append("marker").attr("id",n+"_"+t+"-extensionStart").attr("class","marker extension "+t).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 1,7 L18,13 V 1 Z"),e.append("defs").append("marker").attr("id",n+"_"+t+"-extensionEnd").attr("class","marker extension "+t).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 1,1 V 13 L18,7 Z")},"extension"),EV=T((e,t,n)=>{e.append("defs").append("marker").attr("id",n+"_"+t+"-compositionStart").attr("class","marker composition "+t).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id",n+"_"+t+"-compositionEnd").attr("class","marker composition "+t).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},"composition"),wV=T((e,t,n)=>{e.append("defs").append("marker").attr("id",n+"_"+t+"-aggregationStart").attr("class","marker aggregation "+t).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id",n+"_"+t+"-aggregationEnd").attr("class","marker aggregation "+t).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},"aggregation"),AV=T((e,t,n)=>{e.append("defs").append("marker").attr("id",n+"_"+t+"-dependencyStart").attr("class","marker dependency "+t).attr("refX",6).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 5,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id",n+"_"+t+"-dependencyEnd").attr("class","marker dependency "+t).attr("refX",13).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},"dependency"),kV=T((e,t,n)=>{e.append("defs").append("marker").attr("id",n+"_"+t+"-lollipopStart").attr("class","marker lollipop "+t).attr("refX",13).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6),e.append("defs").append("marker").attr("id",n+"_"+t+"-lollipopEnd").attr("class","marker lollipop "+t).attr("refX",1).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6)},"lollipop"),MV=T((e,t,n)=>{e.append("marker").attr("id",n+"_"+t+"-pointEnd").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",5).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",8).attr("markerHeight",8).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),e.append("marker").attr("id",n+"_"+t+"-pointStart").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",4.5).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",8).attr("markerHeight",8).attr("orient","auto").append("path").attr("d","M 0 5 L 10 10 L 10 0 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},"point"),RV=T((e,t,n)=>{e.append("marker").attr("id",n+"_"+t+"-circleEnd").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",11).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),e.append("marker").attr("id",n+"_"+t+"-circleStart").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",-1).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},"circle"),NV=T((e,t,n)=>{e.append("marker").attr("id",n+"_"+t+"-crossEnd").attr("class","marker cross "+t).attr("viewBox","0 0 11 11").attr("refX",12).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0"),e.append("marker").attr("id",n+"_"+t+"-crossStart").attr("class","marker cross "+t).attr("viewBox","0 0 11 11").attr("refX",-1).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0")},"cross"),LV=T((e,t,n)=>{e.append("defs").append("marker").attr("id",n+"_"+t+"-barbEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",14).attr("markerUnits","userSpaceOnUse").attr("orient","auto").append("path").attr("d","M 19,7 L9,13 L14,7 L9,1 Z")},"barb"),DV=T((e,t,n)=>{e.append("defs").append("marker").attr("id",n+"_"+t+"-onlyOneStart").attr("class","marker onlyOne "+t).attr("refX",0).attr("refY",9).attr("markerWidth",18).attr("markerHeight",18).attr("orient","auto").append("path").attr("d","M9,0 L9,18 M15,0 L15,18"),e.append("defs").append("marker").attr("id",n+"_"+t+"-onlyOneEnd").attr("class","marker onlyOne "+t).attr("refX",18).attr("refY",9).attr("markerWidth",18).attr("markerHeight",18).attr("orient","auto").append("path").attr("d","M3,0 L3,18 M9,0 L9,18")},"only_one"),IV=T((e,t,n)=>{const i=e.append("defs").append("marker").attr("id",n+"_"+t+"-zeroOrOneStart").attr("class","marker zeroOrOne "+t).attr("refX",0).attr("refY",9).attr("markerWidth",30).attr("markerHeight",18).attr("orient","auto");i.append("circle").attr("fill","white").attr("cx",21).attr("cy",9).attr("r",6),i.append("path").attr("d","M9,0 L9,18");const a=e.append("defs").append("marker").attr("id",n+"_"+t+"-zeroOrOneEnd").attr("class","marker zeroOrOne "+t).attr("refX",30).attr("refY",9).attr("markerWidth",30).attr("markerHeight",18).attr("orient","auto");a.append("circle").attr("fill","white").attr("cx",9).attr("cy",9).attr("r",6),a.append("path").attr("d","M21,0 L21,18")},"zero_or_one"),BV=T((e,t,n)=>{e.append("defs").append("marker").attr("id",n+"_"+t+"-oneOrMoreStart").attr("class","marker oneOrMore "+t).attr("refX",18).attr("refY",18).attr("markerWidth",45).attr("markerHeight",36).attr("orient","auto").append("path").attr("d","M0,18 Q 18,0 36,18 Q 18,36 0,18 M42,9 L42,27"),e.append("defs").append("marker").attr("id",n+"_"+t+"-oneOrMoreEnd").attr("class","marker oneOrMore "+t).attr("refX",27).attr("refY",18).attr("markerWidth",45).attr("markerHeight",36).attr("orient","auto").append("path").attr("d","M3,9 L3,27 M9,18 Q27,0 45,18 Q27,36 9,18")},"one_or_more"),FV=T((e,t,n)=>{const i=e.append("defs").append("marker").attr("id",n+"_"+t+"-zeroOrMoreStart").attr("class","marker zeroOrMore "+t).attr("refX",18).attr("refY",18).attr("markerWidth",57).attr("markerHeight",36).attr("orient","auto");i.append("circle").attr("fill","white").attr("cx",48).attr("cy",18).attr("r",6),i.append("path").attr("d","M0,18 Q18,0 36,18 Q18,36 0,18");const a=e.append("defs").append("marker").attr("id",n+"_"+t+"-zeroOrMoreEnd").attr("class","marker zeroOrMore "+t).attr("refX",39).attr("refY",18).attr("markerWidth",57).attr("markerHeight",36).attr("orient","auto");a.append("circle").attr("fill","white").attr("cx",9).attr("cy",18).attr("r",6),a.append("path").attr("d","M21,18 Q39,0 57,18 Q39,36 21,18")},"zero_or_more"),OV=T((e,t,n)=>{e.append("defs").append("marker").attr("id",n+"_"+t+"-requirement_arrowEnd").attr("refX",20).attr("refY",10).attr("markerWidth",20).attr("markerHeight",20).attr("orient","auto").append("path").attr("d",`M0,0
      L20,10
      M20,10
      L0,20`)},"requirement_arrow"),PV=T((e,t,n)=>{const i=e.append("defs").append("marker").attr("id",n+"_"+t+"-requirement_containsStart").attr("refX",0).attr("refY",10).attr("markerWidth",20).attr("markerHeight",20).attr("orient","auto").append("g");i.append("circle").attr("cx",10).attr("cy",10).attr("r",9).attr("fill","none"),i.append("line").attr("x1",1).attr("x2",19).attr("y1",10).attr("y2",10),i.append("line").attr("y1",1).attr("y2",19).attr("x1",10).attr("x2",10)},"requirement_contains"),UV={extension:TV,composition:EV,aggregation:wV,dependency:AV,lollipop:kV,point:MV,circle:RV,cross:NV,barb:LV,only_one:DV,zero_or_one:IV,one_or_more:BV,zero_or_more:FV,requirement_arrow:OV,requirement_contains:PV},$V=bV,zV={common:_s,getConfig:ln,insertCluster:JG,insertEdge:SV,insertEdgeLabel:mV,insertMarkers:$V,insertNode:Ok,interpolateToCurve:zy,labelHelper:Dt,log:st,positionEdgeLabel:yV},pc={},zk=T(e=>{for(const t of e)pc[t.name]=t},"registerLayoutLoaders"),qV=T(()=>{zk([{name:"dagre",loader:T(async()=>await le(()=>import("./dagre-6UL2VRFP-2T0VW1Lt.js"),__vite__mapDeps([0,1,2,3,4,5])),"loader")},{name:"cose-bilkent",loader:T(async()=>await le(()=>import("./cose-bilkent-S5V4N54A-B-ZavSV5.js"),__vite__mapDeps([6,7])),"loader")}])},"registerDefaultLayoutLoaders");qV();var DX=T(async(e,t)=>{if(!(e.layoutAlgorithm in pc))throw new Error(`Unknown layout algorithm: ${e.layoutAlgorithm}`);const n=pc[e.layoutAlgorithm];return(await n.loader()).render(e,t,zV,{algorithm:n.algorithm})},"render"),IX=T((e="",{fallback:t="dagre"}={})=>{if(e in pc)return e;if(t in pc)return st.warn(`Layout algorithm ${e} is not registered. Using ${t} as fallback.`),t;throw new Error(`Both layout algorithms ${e} and ${t} are not registered.`)},"getRegisteredLayoutAlgorithm"),qk="comm",Hk="rule",Gk="decl",HV="@import",GV="@namespace",VV="@keyframes",YV="@layer",Vk=Math.abs,s0=String.fromCharCode;function Yk(e){return e.trim()}function Eh(e,t,n){return e.replace(t,n)}function WV(e,t,n){return e.indexOf(t,n)}function Zo(e,t){return e.charCodeAt(t)|0}function ps(e,t,n){return e.slice(t,n)}function Pi(e){return e.length}function XV(e){return e.length}function lh(e,t){return t.push(e),e}var Jf=1,gs=1,Wk=0,ui=0,Fe=0,Ts="";function l0(e,t,n,i,a,s,l,c){return{value:e,root:t,parent:n,type:i,props:a,children:s,line:Jf,column:gs,length:l,return:"",siblings:c}}function JV(){return Fe}function KV(){return Fe=ui>0?Zo(Ts,--ui):0,gs--,Fe===10&&(gs=1,Jf--),Fe}function Ei(){return Fe=ui<Wk?Zo(Ts,ui++):0,gs++,Fe===10&&(gs=1,Jf++),Fe}function ea(){return Zo(Ts,ui)}function wh(){return ui}function Kf(e,t){return ps(Ts,e,t)}function gc(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function QV(e){return Jf=gs=1,Wk=Pi(Ts=e),ui=0,[]}function ZV(e){return Ts="",e}function Ig(e){return Yk(Kf(ui-1,qm(e===91?e+2:e===40?e+1:e)))}function jV(e){for(;(Fe=ea())&&Fe<33;)Ei();return gc(e)>2||gc(Fe)>3?"":" "}function t7(e,t){for(;--t&&Ei()&&!(Fe<48||Fe>102||Fe>57&&Fe<65||Fe>70&&Fe<97););return Kf(e,wh()+(t<6&&ea()==32&&Ei()==32))}function qm(e){for(;Ei();)switch(Fe){case e:return ui;case 34:case 39:e!==34&&e!==39&&qm(Fe);break;case 40:e===41&&qm(e);break;case 92:Ei();break}return ui}function e7(e,t){for(;Ei()&&e+Fe!==57;)if(e+Fe===84&&ea()===47)break;return"/*"+Kf(t,ui-1)+"*"+s0(e===47?e:Ei())}function n7(e){for(;!gc(ea());)Ei();return Kf(e,ui)}function i7(e){return ZV(Ah("",null,null,null,[""],e=QV(e),0,[0],e))}function Ah(e,t,n,i,a,s,l,c,f){for(var h=0,d=0,m=l,v=0,x=0,S=0,b=1,E=1,A=1,k=0,R="",I=a,B=s,L=i,N=R;E;)switch(S=k,k=Ei()){case 40:if(S!=108&&Zo(N,m-1)==58){WV(N+=Eh(Ig(k),"&","&\f"),"&\f",Vk(h?c[h-1]:0))!=-1&&(A=-1);break}case 34:case 39:case 91:N+=Ig(k);break;case 9:case 10:case 13:case 32:N+=jV(S);break;case 92:N+=t7(wh()-1,7);continue;case 47:switch(ea()){case 42:case 47:lh(r7(e7(Ei(),wh()),t,n,f),f),(gc(S||1)==5||gc(ea()||1)==5)&&Pi(N)&&ps(N,-1,void 0)!==" "&&(N+=" ");break;default:N+="/"}break;case 123*b:c[h++]=Pi(N)*A;case 125*b:case 59:case 0:switch(k){case 0:case 125:E=0;case 59+d:A==-1&&(N=Eh(N,/\f/g,"")),x>0&&(Pi(N)-m||b===0&&S===47)&&lh(x>32?f1(N+";",i,n,m-1,f):f1(Eh(N," ","")+";",i,n,m-2,f),f);break;case 59:N+=";";default:if(lh(L=h1(N,t,n,h,d,a,c,R,I=[],B=[],m,s),s),k===123)if(d===0)Ah(N,t,L,L,I,s,m,c,B);else{switch(v){case 99:if(Zo(N,3)===110)break;case 108:if(Zo(N,2)===97)break;default:d=0;case 100:case 109:case 115:}d?Ah(e,L,L,i&&lh(h1(e,L,L,0,0,a,c,R,a,I=[],m,B),B),a,B,m,c,i?I:B):Ah(N,L,L,L,[""],B,0,c,B)}}h=d=x=0,b=A=1,R=N="",m=l;break;case 58:m=1+Pi(N),x=S;default:if(b<1){if(k==123)--b;else if(k==125&&b++==0&&KV()==125)continue}switch(N+=s0(k),k*b){case 38:A=d>0?1:(N+="\f",-1);break;case 44:c[h++]=(Pi(N)-1)*A,A=1;break;case 64:ea()===45&&(N+=Ig(Ei())),v=ea(),d=m=Pi(R=N+=n7(wh())),k++;break;case 45:S===45&&Pi(N)==2&&(b=0)}}return s}function h1(e,t,n,i,a,s,l,c,f,h,d,m){for(var v=a-1,x=a===0?s:[""],S=XV(x),b=0,E=0,A=0;b<i;++b)for(var k=0,R=ps(e,v+1,v=Vk(E=l[b])),I=e;k<S;++k)(I=Yk(E>0?x[k]+" "+R:Eh(R,/&\f/g,x[k])))&&(f[A++]=I);return l0(e,t,n,a===0?Hk:c,f,h,d,m)}function r7(e,t,n,i){return l0(e,t,n,qk,s0(JV()),ps(e,2,-2),0,i)}function f1(e,t,n,i,a){return l0(e,t,n,Gk,ps(e,0,i),ps(e,i+1,-1),i,a)}function Hm(e,t){for(var n="",i=0;i<e.length;i++)n+=t(e[i],i,e,t)||"";return n}function a7(e,t,n,i){switch(e.type){case YV:if(e.children.length)break;case HV:case GV:case Gk:return e.return=e.return||e.value;case qk:return"";case VV:return e.return=e.value+"{"+Hm(e.children,i)+"}";case Hk:if(!Pi(e.value=e.props.join(",")))return""}return Pi(n=Hm(e.children,i))?e.return=e.value+"{"+n+"}":""}var o7=_w(Object.keys,Object),s7=Object.prototype,l7=s7.hasOwnProperty;function c7(e){if(!Uf(e))return o7(e);var t=[];for(var n in Object(e))l7.call(e,n)&&n!="constructor"&&t.push(n);return t}var Gm=ja(Hi,"DataView"),Vm=ja(Hi,"Promise"),Ym=ja(Hi,"Set"),Wm=ja(Hi,"WeakMap"),d1="[object Map]",u7="[object Object]",p1="[object Promise]",g1="[object Set]",m1="[object WeakMap]",y1="[object DataView]",h7=Za(Gm),f7=Za(fc),d7=Za(Vm),p7=Za(Ym),g7=Za(Wm),Ba=Cs;(Gm&&Ba(new Gm(new ArrayBuffer(1)))!=y1||fc&&Ba(new fc)!=d1||Vm&&Ba(Vm.resolve())!=p1||Ym&&Ba(new Ym)!=g1||Wm&&Ba(new Wm)!=m1)&&(Ba=function(e){var t=Cs(e),n=t==u7?e.constructor:void 0,i=n?Za(n):"";if(i)switch(i){case h7:return y1;case f7:return d1;case d7:return p1;case p7:return g1;case g7:return m1}return t});var m7="[object Map]",y7="[object Set]",v7=Object.prototype,_7=v7.hasOwnProperty;function v1(e){if(e==null)return!0;if($f(e)&&(of(e)||typeof e=="string"||typeof e.splice=="function"||Uy(e)||$y(e)||af(e)))return!e.length;var t=Ba(e);if(t==m7||t==y7)return!e.size;if(Uf(e))return!c7(e).length;for(var n in e)if(_7.call(e,n))return!1;return!0}var Xk="c4",x7=T(e=>/^\s*C4Context|C4Container|C4Component|C4Dynamic|C4Deployment/.test(e),"detector"),C7=T(async()=>{const{diagram:e}=await le(async()=>{const{diagram:t}=await import("./c4Diagram-YG6GDRKO-CDgyEnH1.js");return{diagram:t}},__vite__mapDeps([8,9]));return{id:Xk,diagram:e}},"loader"),S7={id:Xk,detector:x7,loader:C7},b7=S7,Jk="flowchart",T7=T((e,t)=>{var n,i;return((n=t==null?void 0:t.flowchart)==null?void 0:n.defaultRenderer)==="dagre-wrapper"||((i=t==null?void 0:t.flowchart)==null?void 0:i.defaultRenderer)==="elk"?!1:/^\s*graph/.test(e)},"detector"),E7=T(async()=>{const{diagram:e}=await le(async()=>{const{diagram:t}=await import("./flowDiagram-NV44I4VS-B_APskiu.js");return{diagram:t}},__vite__mapDeps([10,11,12,13,14]));return{id:Jk,diagram:e}},"loader"),w7={id:Jk,detector:T7,loader:E7},A7=w7,Kk="flowchart-v2",k7=T((e,t)=>{var n,i,a;return((n=t==null?void 0:t.flowchart)==null?void 0:n.defaultRenderer)==="dagre-d3"?!1:(((i=t==null?void 0:t.flowchart)==null?void 0:i.defaultRenderer)==="elk"&&(t.layout="elk"),/^\s*graph/.test(e)&&((a=t==null?void 0:t.flowchart)==null?void 0:a.defaultRenderer)==="dagre-wrapper"?!0:/^\s*flowchart/.test(e))},"detector"),M7=T(async()=>{const{diagram:e}=await le(async()=>{const{diagram:t}=await import("./flowDiagram-NV44I4VS-B_APskiu.js");return{diagram:t}},__vite__mapDeps([10,11,12,13,14]));return{id:Kk,diagram:e}},"loader"),R7={id:Kk,detector:k7,loader:M7},N7=R7,Qk="er",L7=T(e=>/^\s*erDiagram/.test(e),"detector"),D7=T(async()=>{const{diagram:e}=await le(async()=>{const{diagram:t}=await import("./erDiagram-Q2GNP2WA-HuS0WluG.js");return{diagram:t}},__vite__mapDeps([15,12,13,14]));return{id:Qk,diagram:e}},"loader"),I7={id:Qk,detector:L7,loader:D7},B7=I7,Zk="gitGraph",F7=T(e=>/^\s*gitGraph/.test(e),"detector"),O7=T(async()=>{const{diagram:e}=await le(async()=>{const{diagram:t}=await import("./gitGraphDiagram-NY62KEGX-BMGEwfIo.js");return{diagram:t}},__vite__mapDeps([16,17,18,19,4,2]));return{id:Zk,diagram:e}},"loader"),P7={id:Zk,detector:F7,loader:O7},U7=P7,jk="gantt",$7=T(e=>/^\s*gantt/.test(e),"detector"),z7=T(async()=>{const{diagram:e}=await le(async()=>{const{diagram:t}=await import("./ganttDiagram-JELNMOA3-CYXM-Mm3.js");return{diagram:t}},__vite__mapDeps([20,21,22,23]));return{id:jk,diagram:e}},"loader"),q7={id:jk,detector:$7,loader:z7},H7=q7,tM="info",G7=T(e=>/^\s*info/.test(e),"detector"),V7=T(async()=>{const{diagram:e}=await le(async()=>{const{diagram:t}=await import("./infoDiagram-WHAUD3N6-G0BX2a23.js");return{diagram:t}},__vite__mapDeps([24,19,4,2]));return{id:tM,diagram:e}},"loader"),Y7={id:tM,detector:G7,loader:V7},eM="pie",W7=T(e=>/^\s*pie/.test(e),"detector"),X7=T(async()=>{const{diagram:e}=await le(async()=>{const{diagram:t}=await import("./pieDiagram-ADFJNKIX-CX_7la0N.js");return{diagram:t}},__vite__mapDeps([25,17,19,4,2,26,27,22]));return{id:eM,diagram:e}},"loader"),J7={id:eM,detector:W7,loader:X7},nM="quadrantChart",K7=T(e=>/^\s*quadrantChart/.test(e),"detector"),Q7=T(async()=>{const{diagram:e}=await le(async()=>{const{diagram:t}=await import("./quadrantDiagram-AYHSOK5B-d12lbC8a.js");return{diagram:t}},__vite__mapDeps([28,21,22,23]));return{id:nM,diagram:e}},"loader"),Z7={id:nM,detector:K7,loader:Q7},j7=Z7,iM="xychart",tY=T(e=>/^\s*xychart(-beta)?/.test(e),"detector"),eY=T(async()=>{const{diagram:e}=await le(async()=>{const{diagram:t}=await import("./xychartDiagram-PRI3JC2R-r-q8CZrM.js");return{diagram:t}},__vite__mapDeps([29,22,27,21,23]));return{id:iM,diagram:e}},"loader"),nY={id:iM,detector:tY,loader:eY},iY=nY,rM="requirement",rY=T(e=>/^\s*requirement(Diagram)?/.test(e),"detector"),aY=T(async()=>{const{diagram:e}=await le(async()=>{const{diagram:t}=await import("./requirementDiagram-UZGBJVZJ-BkwElx6F.js");return{diagram:t}},__vite__mapDeps([30,12,13]));return{id:rM,diagram:e}},"loader"),oY={id:rM,detector:rY,loader:aY},sY=oY,aM="sequence",lY=T(e=>/^\s*sequenceDiagram/.test(e),"detector"),cY=T(async()=>{const{diagram:e}=await le(async()=>{const{diagram:t}=await import("./sequenceDiagram-WL72ISMW-CkFZcxE8.js");return{diagram:t}},__vite__mapDeps([31,9,18]));return{id:aM,diagram:e}},"loader"),uY={id:aM,detector:lY,loader:cY},hY=uY,oM="class",fY=T((e,t)=>{var n;return((n=t==null?void 0:t.class)==null?void 0:n.defaultRenderer)==="dagre-wrapper"?!1:/^\s*classDiagram/.test(e)},"detector"),dY=T(async()=>{const{diagram:e}=await le(async()=>{const{diagram:t}=await import("./classDiagram-2ON5EDUG-gpAkuyxp.js");return{diagram:t}},__vite__mapDeps([32,33,11,12,13]));return{id:oM,diagram:e}},"loader"),pY={id:oM,detector:fY,loader:dY},gY=pY,sM="classDiagram",mY=T((e,t)=>{var n;return/^\s*classDiagram/.test(e)&&((n=t==null?void 0:t.class)==null?void 0:n.defaultRenderer)==="dagre-wrapper"?!0:/^\s*classDiagram-v2/.test(e)},"detector"),yY=T(async()=>{const{diagram:e}=await le(async()=>{const{diagram:t}=await import("./classDiagram-v2-WZHVMYZB-gpAkuyxp.js");return{diagram:t}},__vite__mapDeps([34,33,11,12,13]));return{id:sM,diagram:e}},"loader"),vY={id:sM,detector:mY,loader:yY},_Y=vY,lM="state",xY=T((e,t)=>{var n;return((n=t==null?void 0:t.state)==null?void 0:n.defaultRenderer)==="dagre-wrapper"?!1:/^\s*stateDiagram/.test(e)},"detector"),CY=T(async()=>{const{diagram:e}=await le(async()=>{const{diagram:t}=await import("./stateDiagram-FKZM4ZOC-CvDjA5F6.js");return{diagram:t}},__vite__mapDeps([35,36,12,13,1,2,3,4]));return{id:lM,diagram:e}},"loader"),SY={id:lM,detector:xY,loader:CY},bY=SY,cM="stateDiagram",TY=T((e,t)=>{var n;return!!(/^\s*stateDiagram-v2/.test(e)||/^\s*stateDiagram/.test(e)&&((n=t==null?void 0:t.state)==null?void 0:n.defaultRenderer)==="dagre-wrapper")},"detector"),EY=T(async()=>{const{diagram:e}=await le(async()=>{const{diagram:t}=await import("./stateDiagram-v2-4FDKWEC3-c_KjJWOn.js");return{diagram:t}},__vite__mapDeps([37,36,12,13]));return{id:cM,diagram:e}},"loader"),wY={id:cM,detector:TY,loader:EY},AY=wY,uM="journey",kY=T(e=>/^\s*journey/.test(e),"detector"),MY=T(async()=>{const{diagram:e}=await le(async()=>{const{diagram:t}=await import("./journeyDiagram-XKPGCS4Q-BuL1AHm3.js");return{diagram:t}},__vite__mapDeps([38,9,11,26]));return{id:uM,diagram:e}},"loader"),RY={id:uM,detector:kY,loader:MY},NY=RY,LY=T((e,t,n)=>{st.debug(`rendering svg for syntax error
`);const i=f8(t),a=i.append("g");i.attr("viewBox","0 0 2412 512"),OT(i,100,512,!0),a.append("path").attr("class","error-icon").attr("d","m411.313,123.313c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32-9.375,9.375-20.688-20.688c-12.484-12.5-32.766-12.5-45.25,0l-16,16c-1.261,1.261-2.304,2.648-3.31,4.051-21.739-8.561-45.324-13.426-70.065-13.426-105.867,0-192,86.133-192,192s86.133,192 192,192 192-86.133 192-192c0-24.741-4.864-48.327-13.426-70.065 1.402-1.007 2.79-2.049 4.051-3.31l16-16c12.5-12.492 12.5-32.758 0-45.25l-20.688-20.688 9.375-9.375 32.001-31.999zm-219.313,100.687c-52.938,0-96,43.063-96,96 0,8.836-7.164,16-16,16s-16-7.164-16-16c0-70.578 57.422-128 128-128 8.836,0 16,7.164 16,16s-7.164,16-16,16z"),a.append("path").attr("class","error-icon").attr("d","m459.02,148.98c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l16,16c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16.001-16z"),a.append("path").attr("class","error-icon").attr("d","m340.395,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16-16c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l15.999,16z"),a.append("path").attr("class","error-icon").attr("d","m400,64c8.844,0 16-7.164 16-16v-32c0-8.836-7.156-16-16-16-8.844,0-16,7.164-16,16v32c0,8.836 7.156,16 16,16z"),a.append("path").attr("class","error-icon").attr("d","m496,96.586h-32c-8.844,0-16,7.164-16,16 0,8.836 7.156,16 16,16h32c8.844,0 16-7.164 16-16 0-8.836-7.156-16-16-16z"),a.append("path").attr("class","error-icon").attr("d","m436.98,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688l32-32c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32c-6.251,6.25-6.251,16.375-0.001,22.625z"),a.append("text").attr("class","error-text").attr("x",1440).attr("y",250).attr("font-size","150px").style("text-anchor","middle").text("Syntax error in text"),a.append("text").attr("class","error-text").attr("x",1250).attr("y",400).attr("font-size","100px").style("text-anchor","middle").text(`mermaid version ${n}`)},"draw"),hM={draw:LY},DY=hM,IY={db:{},renderer:hM,parser:{parse:T(()=>{},"parse")}},BY=IY,fM="flowchart-elk",FY=T((e,t={})=>{var n;return/^\s*flowchart-elk/.test(e)||/^\s*(flowchart|graph)/.test(e)&&((n=t==null?void 0:t.flowchart)==null?void 0:n.defaultRenderer)==="elk"?(t.layout="elk",!0):!1},"detector"),OY=T(async()=>{const{diagram:e}=await le(async()=>{const{diagram:t}=await import("./flowDiagram-NV44I4VS-B_APskiu.js");return{diagram:t}},__vite__mapDeps([10,11,12,13,14]));return{id:fM,diagram:e}},"loader"),PY={id:fM,detector:FY,loader:OY},UY=PY,dM="timeline",$Y=T(e=>/^\s*timeline/.test(e),"detector"),zY=T(async()=>{const{diagram:e}=await le(async()=>{const{diagram:t}=await import("./timeline-definition-IT6M3QCI-CcQE79lm.js");return{diagram:t}},__vite__mapDeps([39,26]));return{id:dM,diagram:e}},"loader"),qY={id:dM,detector:$Y,loader:zY},HY=qY,pM="mindmap",GY=T(e=>/^\s*mindmap/.test(e),"detector"),VY=T(async()=>{const{diagram:e}=await le(async()=>{const{diagram:t}=await import("./mindmap-definition-VGOIOE7T-DpBod2Xa.js");return{diagram:t}},__vite__mapDeps([40,12,13]));return{id:pM,diagram:e}},"loader"),YY={id:pM,detector:GY,loader:VY},WY=YY,gM="kanban",XY=T(e=>/^\s*kanban/.test(e),"detector"),JY=T(async()=>{const{diagram:e}=await le(async()=>{const{diagram:t}=await import("./kanban-definition-3W4ZIXB7-D0hL-QZA.js");return{diagram:t}},__vite__mapDeps([41,11]));return{id:gM,diagram:e}},"loader"),KY={id:gM,detector:XY,loader:JY},QY=KY,mM="sankey",ZY=T(e=>/^\s*sankey(-beta)?/.test(e),"detector"),jY=T(async()=>{const{diagram:e}=await le(async()=>{const{diagram:t}=await import("./sankeyDiagram-TZEHDZUN-Cn4TMw8P.js");return{diagram:t}},__vite__mapDeps([42,27,22]));return{id:mM,diagram:e}},"loader"),tW={id:mM,detector:ZY,loader:jY},eW=tW,yM="packet",nW=T(e=>/^\s*packet(-beta)?/.test(e),"detector"),iW=T(async()=>{const{diagram:e}=await le(async()=>{const{diagram:t}=await import("./diagram-S2PKOQOG-DBtzkC5P.js");return{diagram:t}},__vite__mapDeps([43,17,19,4,2]));return{id:yM,diagram:e}},"loader"),rW={id:yM,detector:nW,loader:iW},vM="radar",aW=T(e=>/^\s*radar-beta/.test(e),"detector"),oW=T(async()=>{const{diagram:e}=await le(async()=>{const{diagram:t}=await import("./diagram-QEK2KX5R-ikCFbmYs.js");return{diagram:t}},__vite__mapDeps([44,17,19,4,2]));return{id:vM,diagram:e}},"loader"),sW={id:vM,detector:aW,loader:oW},_M="block",lW=T(e=>/^\s*block(-beta)?/.test(e),"detector"),cW=T(async()=>{const{diagram:e}=await le(async()=>{const{diagram:t}=await import("./blockDiagram-VD42YOAC-BCYMRQEm.js");return{diagram:t}},__vite__mapDeps([45,11,5,1,2,14]));return{id:_M,diagram:e}},"loader"),uW={id:_M,detector:lW,loader:cW},hW=uW,xM="architecture",fW=T(e=>/^\s*architecture/.test(e),"detector"),dW=T(async()=>{const{diagram:e}=await le(async()=>{const{diagram:t}=await import("./architectureDiagram-VXUJARFQ-D42hH7hk.js");return{diagram:t}},__vite__mapDeps([46,17,19,4,2,7]));return{id:xM,diagram:e}},"loader"),pW={id:xM,detector:fW,loader:dW},gW=pW,CM="treemap",mW=T(e=>/^\s*treemap/.test(e),"detector"),yW=T(async()=>{const{diagram:e}=await le(async()=>{const{diagram:t}=await import("./diagram-PSM6KHXK-BTU8EwXz.js");return{diagram:t}},__vite__mapDeps([47,13,17,19,4,2,23,27,22]));return{id:CM,diagram:e}},"loader"),vW={id:CM,detector:mW,loader:yW},_1=!1,Qf=T(()=>{_1||(_1=!0,Uh("error",BY,e=>e.toLowerCase().trim()==="error"),Uh("---",{db:{clear:T(()=>{},"clear")},styles:{},renderer:{draw:T(()=>{},"draw")},parser:{parse:T(()=>{throw new Error("Diagrams beginning with --- are not valid. If you were trying to use a YAML front-matter, please ensure that you've correctly opened and closed the YAML front-matter with un-indented `---` blocks")},"parse")},init:T(()=>null,"init")},e=>e.toLowerCase().trimStart().startsWith("---")),tm(UY,WY,gW),tm(b7,QY,_Y,gY,B7,H7,Y7,J7,sY,hY,N7,A7,HY,U7,AY,bY,NY,j7,eW,rW,iY,hW,sW,vW))},"addDiagrams"),_W=T(async()=>{st.debug("Loading registered diagrams");const t=(await Promise.allSettled(Object.entries(Ha).map(async([n,{detector:i,loader:a}])=>{if(a)try{rm(n)}catch{try{const{diagram:s,id:l}=await a();Uh(l,s,i)}catch(s){throw st.error(`Failed to load external diagram with key ${n}. Removing from detectors.`),delete Ha[n],s}}}))).filter(n=>n.status==="rejected");if(t.length>0){st.error(`Failed to load ${t.length} external diagrams`);for(const n of t)st.error(n);throw new Error(`Failed to load ${t.length} external diagrams`)}},"loadRegisteredDiagrams"),xW="graphics-document document";function SM(e,t){e.attr("role",xW),t!==""&&e.attr("aria-roledescription",t)}T(SM,"setA11yDiagramInfo");function bM(e,t,n,i){if(e.insert!==void 0){if(n){const a=`chart-desc-${i}`;e.attr("aria-describedby",a),e.insert("desc",":first-child").attr("id",a).text(n)}if(t){const a=`chart-title-${i}`;e.attr("aria-labelledby",a),e.insert("title",":first-child").attr("id",a).text(t)}}}T(bM,"addSVGa11yTitleDescription");var qa,Xm=(qa=class{constructor(t,n,i,a,s){this.type=t,this.text=n,this.db=i,this.parser=a,this.renderer=s}static async fromText(t,n={}){var h,d;const i=ln(),a=uy(t,i);t=v9(t)+`
`;try{rm(a)}catch{const m=qO(a);if(!m)throw new ET(`Diagram ${a} not found.`);const{id:v,diagram:x}=await m();Uh(v,x)}const{db:s,parser:l,renderer:c,init:f}=rm(a);return l.parser&&(l.parser.yy=s),(h=s.clear)==null||h.call(s),f==null||f(i),n.title&&((d=s.setDiagramTitle)==null||d.call(s,n.title)),await l.parse(t),new qa(a,t,s,l,c)}async render(t,n){await this.renderer.draw(this.text,t,n,this)}getParser(){return this.parser}getType(){return this.type}},T(qa,"Diagram"),qa),x1=[],CW=T(()=>{x1.forEach(e=>{e()}),x1=[]},"attachFunctions"),SW=T(e=>e.replace(/^\s*%%(?!{)[^\n]+\n?/gm,"").trimStart(),"cleanupComments");function TM(e){const t=e.match(TT);if(!t)return{text:e,metadata:{}};let n=_z(t[1],{schema:vz})??{};n=typeof n=="object"&&!Array.isArray(n)?n:{};const i={};return n.displayMode&&(i.displayMode=n.displayMode.toString()),n.title&&(i.title=n.title.toString()),n.config&&(i.config=n.config),{text:e.slice(t[0].length),metadata:i}}T(TM,"extractFrontMatter");var bW=T(e=>e.replace(/\r\n?/g,`
`).replace(/<(\w+)([^>]*)>/g,(t,n,i)=>"<"+n+i.replace(/="([^"]*)"/g,"='$1'")+">"),"cleanupText"),TW=T(e=>{const{text:t,metadata:n}=TM(e),{displayMode:i,title:a,config:s={}}=n;return i&&(s.gantt||(s.gantt={}),s.gantt.displayMode=i),{title:a,config:s,text:t}},"processFrontmatter"),EW=T(e=>{const t=Ci.detectInit(e)??{},n=Ci.detectDirective(e,"wrap");return Array.isArray(n)?t.wrap=n.some(({type:i})=>i==="wrap"):(n==null?void 0:n.type)==="wrap"&&(t.wrap=!0),{text:a9(e),directive:t}},"processDirectives");function c0(e){const t=bW(e),n=TW(t),i=EW(n.text),a=Yy(n.config,i.directive);return e=SW(i.text),{code:e,title:n.title,config:a}}T(c0,"preprocessDiagram");function EM(e){const t=new TextEncoder().encode(e),n=Array.from(t,i=>String.fromCodePoint(i)).join("");return btoa(n)}T(EM,"toBase64");var wW=5e4,AW="graph TB;a[Maximum text size in diagram exceeded];style a fill:#faa",kW="sandbox",MW="loose",RW="http://www.w3.org/2000/svg",NW="http://www.w3.org/1999/xlink",LW="http://www.w3.org/1999/xhtml",DW="100%",IW="100%",BW="border:0;margin:0;",FW="margin:0",OW="allow-top-navigation-by-user-activation allow-popups",PW='The "iframe" tag is not supported by your browser.',UW=["foreignobject"],$W=["dominant-baseline"];function u0(e){const t=c0(e);return Oh(),rP(t.config??{}),t}T(u0,"processAndSetConfigs");async function wM(e,t){Qf();try{const{code:n,config:i}=u0(e);return{diagramType:(await kM(n)).type,config:i}}catch(n){if(t!=null&&t.suppressErrors)return!1;throw n}}T(wM,"parse");var C1=T((e,t,n=[])=>`
.${e} ${t} { ${n.join(" !important; ")} !important; }`,"cssImportantStyles"),zW=T((e,t=new Map)=>{var i;let n="";if(e.themeCSS!==void 0&&(n+=`
${e.themeCSS}`),e.fontFamily!==void 0&&(n+=`
:root { --mermaid-font-family: ${e.fontFamily}}`),e.altFontFamily!==void 0&&(n+=`
:root { --mermaid-alt-font-family: ${e.altFontFamily}}`),t instanceof Map){const c=e.htmlLabels??((i=e.flowchart)==null?void 0:i.htmlLabels)?["> *","span"]:["rect","polygon","ellipse","circle","path"];t.forEach(f=>{v1(f.styles)||c.forEach(h=>{n+=C1(f.id,h,f.styles)}),v1(f.textStyles)||(n+=C1(f.id,"tspan",((f==null?void 0:f.textStyles)||[]).map(h=>h.replace("color","fill"))))})}return n},"createCssStyles"),qW=T((e,t,n,i)=>{const a=zW(e,n),s=TP(t,a,e.themeVariables);return Hm(i7(`${i}{${s}}`),a7)},"createUserStyles"),HW=T((e="",t,n)=>{let i=e;return!n&&!t&&(i=i.replace(/marker-end="url\([\d+./:=?A-Za-z-]*?#/g,'marker-end="url(#')),i=to(i),i=i.replace(/<br>/g,"<br/>"),i},"cleanUpSvgCode"),GW=T((e="",t)=>{var a,s;const n=(s=(a=t==null?void 0:t.viewBox)==null?void 0:a.baseVal)!=null&&s.height?t.viewBox.baseVal.height+"px":IW,i=EM(`<body style="${FW}">${e}</body>`);return`<iframe style="width:${DW};height:${n};${BW}" src="data:text/html;charset=UTF-8;base64,${i}" sandbox="${OW}">
  ${PW}
</iframe>`},"putIntoIFrame"),S1=T((e,t,n,i,a)=>{const s=e.append("div");s.attr("id",n),i&&s.attr("style",i);const l=s.append("svg").attr("id",t).attr("width","100%").attr("xmlns",RW);return a&&l.attr("xmlns:xlink",a),l.append("g"),e},"appendDivSvgG");function Jm(e,t){return e.append("iframe").attr("id",t).attr("style","width: 100%; height: 100%;").attr("sandbox","")}T(Jm,"sandboxedIframe");var VW=T((e,t,n,i)=>{var a,s,l;(a=e.getElementById(t))==null||a.remove(),(s=e.getElementById(n))==null||s.remove(),(l=e.getElementById(i))==null||l.remove()},"removeExistingElements"),YW=T(async function(e,t,n){var ct,nt,W,H,D,P;Qf();const i=u0(t);t=i.code;const a=ln();st.debug(a),t.length>((a==null?void 0:a.maxTextSize)??wW)&&(t=AW);const s="#"+e,l="i"+e,c="#"+l,f="d"+e,h="#"+f,d=T(()=>{const lt=Qt(v?c:h).node();lt&&"remove"in lt&&lt.remove()},"removeTempElements");let m=Qt("body");const v=a.securityLevel===kW,x=a.securityLevel===MW,S=a.fontFamily;if(n!==void 0){if(n&&(n.innerHTML=""),v){const z=Jm(Qt(n),l);m=Qt(z.nodes()[0].contentDocument.body),m.node().style.margin=0}else m=Qt(n);S1(m,e,f,`font-family: ${S}`,NW)}else{if(VW(document,e,f,l),v){const z=Jm(Qt("body"),l);m=Qt(z.nodes()[0].contentDocument.body),m.node().style.margin=0}else m=Qt("body");S1(m,e,f)}let b,E;try{b=await Xm.fromText(t,{title:i.title})}catch(z){if(a.suppressErrorRendering)throw d(),z;b=await Xm.fromText("error"),E=z}const A=m.select(h).node(),k=b.type,R=A.firstChild,I=R.firstChild,B=(nt=(ct=b.renderer).getClasses)==null?void 0:nt.call(ct,t,b),L=qW(a,k,B,s),N=document.createElement("style");N.innerHTML=L,R.insertBefore(N,I);try{await b.renderer.draw(t,e,zS.version,b)}catch(z){throw a.suppressErrorRendering?d():DY.draw(t,e,zS.version),z}const V=m.select(`${h} svg`),Q=(H=(W=b.db).getAccTitle)==null?void 0:H.call(W),et=(P=(D=b.db).getAccDescription)==null?void 0:P.call(D);MM(k,V,Q,et),m.select(`[id="${e}"]`).selectAll("foreignobject > *").attr("xmlns",LW);let Y=m.select(h).node().innerHTML;if(st.debug("config.arrowMarkerAbsolute",a.arrowMarkerAbsolute),Y=HW(Y,v,qe(a.arrowMarkerAbsolute)),v){const z=m.select(h+" svg").node();Y=GW(Y,z)}else x||(Y=ss.sanitize(Y,{ADD_TAGS:UW,ADD_ATTR:$W,HTML_INTEGRATION_POINTS:{foreignobject:!0}}));if(CW(),E)throw E;return d(),{diagramType:k,svg:Y,bindFunctions:b.db.bindFunctions}},"render");function AM(e={}){var i;const t=$e({},e);t!=null&&t.fontFamily&&!((i=t.themeVariables)!=null&&i.fontFamily)&&(t.themeVariables||(t.themeVariables={}),t.themeVariables.fontFamily=t.fontFamily),nP(t),t!=null&&t.theme&&t.theme in vr?t.themeVariables=vr[t.theme].getThemeVariables(t.themeVariables):t&&(t.themeVariables=vr.default.getThemeVariables(t.themeVariables));const n=typeof t=="object"?eP(t):RT();cy(n.logLevel),Qf()}T(AM,"initialize");var kM=T((e,t={})=>{const{code:n}=c0(e);return Xm.fromText(n,t)},"getDiagramFromText");function MM(e,t,n,i){SM(t,e),bM(t,n,i,t.attr("id"))}T(MM,"addA11yInfo");var Ja=Object.freeze({render:YW,parse:wM,getDiagramFromText:kM,initialize:AM,getConfig:ln,setConfig:NT,getSiteConfig:RT,updateSiteConfig:iP,reset:T(()=>{Oh()},"reset"),globalReset:T(()=>{Oh(ls)},"globalReset"),defaultConfig:ls});cy(ln().logLevel);Oh(ln());var WW=T((e,t,n)=>{st.warn(e),Vy(e)?(n&&n(e.str,e.hash),t.push({...e,message:e.str,error:e})):(n&&n(e),e instanceof Error&&t.push({str:e.message,message:e.message,hash:e.name,error:e}))},"handleError"),RM=T(async function(e={querySelector:".mermaid"}){try{await XW(e)}catch(t){if(Vy(t)&&st.error(t.str),Vn.parseError&&Vn.parseError(t),!e.suppressErrors)throw st.error("Use the suppressErrors option to suppress these errors"),t}},"run"),XW=T(async function({postRenderCallback:e,querySelector:t,nodes:n}={querySelector:".mermaid"}){const i=Ja.getConfig();st.debug(`${e?"":"No "}Callback function found`);let a;if(n)a=n;else if(t)a=document.querySelectorAll(t);else throw new Error("Nodes and querySelector are both undefined");st.debug(`Found ${a.length} diagrams`),(i==null?void 0:i.startOnLoad)!==void 0&&(st.debug("Start On Load: "+(i==null?void 0:i.startOnLoad)),Ja.updateSiteConfig({startOnLoad:i==null?void 0:i.startOnLoad}));const s=new Ci.InitIDGenerator(i.deterministicIds,i.deterministicIDSeed);let l;const c=[];for(const f of Array.from(a)){if(st.info("Rendering diagram: "+f.id),f.getAttribute("data-processed"))continue;f.setAttribute("data-processed","true");const h=`mermaid-${s.next()}`;l=f.innerHTML,l=Qw(Ci.entityDecode(l)).trim().replace(/<br\s*\/?>/gi,"<br/>");const d=Ci.detectInit(l);d&&st.debug("Detected early reinit: ",d);try{const{svg:m,bindFunctions:v}=await IM(h,l,f);f.innerHTML=m,e&&await e(h),v&&v(f)}catch(m){WW(m,c,Vn.parseError)}}if(c.length>0)throw c[0]},"runThrowsErrors"),NM=T(function(e){Ja.initialize(e)},"initialize"),JW=T(async function(e,t,n){st.warn("mermaid.init is deprecated. Please use run instead."),e&&NM(e);const i={postRenderCallback:n,querySelector:".mermaid"};typeof t=="string"?i.querySelector=t:t&&(t instanceof HTMLElement?i.nodes=[t]:i.nodes=t),await RM(i)},"init"),KW=T(async(e,{lazyLoad:t=!0}={})=>{Qf(),tm(...e),t===!1&&await _W()},"registerExternalDiagrams"),LM=T(function(){if(Vn.startOnLoad){const{startOnLoad:e}=Ja.getConfig();e&&Vn.run().catch(t=>st.error("Mermaid failed to initialize",t))}},"contentLoaded");typeof document<"u"&&window.addEventListener("load",LM,!1);var QW=T(function(e){Vn.parseError=e},"setParseErrorHandler"),yf=[],Bg=!1,DM=T(async()=>{if(!Bg){for(Bg=!0;yf.length>0;){const e=yf.shift();if(e)try{await e()}catch(t){st.error("Error executing queue",t)}}Bg=!1}},"executeQueue"),ZW=T(async(e,t)=>new Promise((n,i)=>{const a=T(()=>new Promise((s,l)=>{Ja.parse(e,t).then(c=>{s(c),n(c)},c=>{var f;st.error("Error parsing",c),(f=Vn.parseError)==null||f.call(Vn,c),l(c),i(c)})}),"performCall");yf.push(a),DM().catch(i)}),"parse"),IM=T((e,t,n)=>new Promise((i,a)=>{const s=T(()=>new Promise((l,c)=>{Ja.render(e,t,n).then(f=>{l(f),i(f)},f=>{var h;st.error("Error parsing",f),(h=Vn.parseError)==null||h.call(Vn,f),c(f),a(f)})}),"performCall");yf.push(s),DM().catch(a)}),"render"),jW=T(()=>Object.keys(Ha).map(e=>({id:e})),"getRegisteredDiagramsMetadata"),Vn={startOnLoad:!0,mermaidAPI:Ja,parse:ZW,render:IM,init:JW,run:RM,registerExternalDiagrams:KW,registerLayoutLoaders:zk,initialize:NM,parseError:void 0,contentLoaded:LM,setParseErrorHandler:QW,detectType:uy,registerIconPacks:SG,getRegisteredDiagramsMetadata:jW},BM=Vn;/*! Check if previously processed *//*!
 * Wait for document loaded before starting the execution
 */BM.initialize({startOnLoad:!1,theme:"dark",securityLevel:"loose",fontFamily:"Inter",themeVariables:{primaryColor:"#3b82f6",primaryTextColor:"#fff",primaryBorderColor:"#1e40af",lineColor:"#94a3b8",secondaryColor:"#1e293b",tertiaryColor:"#0f172a"}});const Fg=({chart:e,id:t,onNodeClick:n})=>{const i=ae.useRef(null),[a,s]=ae.useState(null);return ae.useEffect(()=>{i.current&&e&&(s(null),i.current.removeAttribute("data-processed"),(async()=>{try{let c=e.trim();const f=["graph TD","graph LR","sequenceDiagram","classDiagram","stateDiagram-v2","erDiagram"];for(const d of f)c.startsWith(d)&&!c.includes(`
`)?c=c.replace(d,d+`
`):c.startsWith(d)&&c.charAt(d.length)!==`
`&&c.charAt(d.length)!==" "&&(c=d+`
`+c.substring(d.length));c=c.replace(/;/g,"");const{svg:h}=await BM.render(`mermaid-${t.replace(/[^a-zA-Z0-9]/g,"-")}`,c);i.current&&(i.current.innerHTML=h,i.current.querySelectorAll(".node, .actor, .classGroup").forEach(m=>{const x=(m.id||"").match(/L(\d+)/);if(x&&n){const S=parseInt(x[1],10);m.style.cursor="pointer",m.addEventListener("click",b=>{b.stopPropagation(),n(S)}),m.addEventListener("mouseenter",()=>{m.classList.add("brightness-125")}),m.addEventListener("mouseleave",()=>{m.classList.remove("brightness-125")})}}))}catch(c){console.error("Mermaid render error:",c),s("Rendering engine failed to parse this diagram.")}})())},[e,t,n]),a?X.jsxs("div",{className:"p-4 bg-slate-900 rounded-lg border border-red-500/30 text-red-400 text-xs font-mono",children:[X.jsxs("p",{className:"font-bold mb-1 flex items-center gap-2",children:[X.jsx("span",{className:"w-2 h-2 rounded-full bg-red-500 animate-pulse"}),"Diagram Rendering Error"]}),X.jsx("p",{className:"opacity-80",children:"The generated Mermaid syntax has structural issues."}),X.jsxs("details",{className:"mt-2",children:[X.jsx("summary",{className:"cursor-pointer hover:underline",children:"View Source"}),X.jsx("pre",{className:"mt-2 p-2 bg-slate-950 rounded text-[10px] opacity-60 overflow-x-auto whitespace-pre-wrap",children:e})]})]}):X.jsx("div",{ref:i,className:"mermaid flex justify-center p-4 bg-slate-900 rounded-lg overflow-auto border border-slate-700 shadow-inner min-h-[100px] transition-all"})},tX=({trace:e,currentStep:t,onStepChange:n})=>{const[i,a]=ae.useState(!1),s=e.steps.length,l=e.steps[t];return b1.useEffect(()=>{let c;return i&&t<s-1?c=setTimeout(()=>{n(t+1)},1500):t>=s-1&&a(!1),()=>clearTimeout(c)},[i,t,s,n]),X.jsxs("div",{className:"flex flex-col gap-4",children:[X.jsxs("div",{className:"flex items-center justify-between bg-slate-800 p-3 rounded-lg border border-slate-700",children:[X.jsxs("div",{className:"flex items-center gap-2",children:[X.jsx("button",{onClick:()=>n(Math.max(0,t-1)),className:"p-2 hover:bg-slate-700 rounded-md transition-colors",children:X.jsx(dL,{size:20})}),X.jsx("button",{onClick:()=>a(!i),className:"p-2 bg-blue-600 hover:bg-blue-500 rounded-md transition-colors shadow-lg",children:i?X.jsx(NL,{size:20}):X.jsx(DL,{size:20})}),X.jsx("button",{onClick:()=>n(Math.min(s-1,t+1)),className:"p-2 hover:bg-slate-700 rounded-md transition-colors",children:X.jsx(uh,{size:20})}),X.jsx("button",{onClick:()=>{a(!1),n(0)},className:"p-2 hover:bg-slate-700 rounded-md transition-colors ml-2",children:X.jsx(BL,{size:18})})]}),X.jsxs("div",{className:"text-xs text-slate-400 font-mono",children:["Step ",t+1," / ",s]})]}),X.jsx("div",{className:"w-full bg-slate-700 h-1.5 rounded-full overflow-hidden",children:X.jsx("div",{className:"bg-blue-500 h-full transition-all duration-300",style:{width:`${(t+1)/s*100}%`}})}),X.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[X.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg border border-slate-700",children:[X.jsx("h4",{className:"text-sm font-semibold text-blue-400 mb-2 uppercase tracking-wider",children:"Current Action"}),X.jsx("p",{className:"text-sm text-slate-300",children:l.explanation})]}),X.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg border border-slate-700",children:[X.jsx("h4",{className:"text-sm font-semibold text-emerald-400 mb-2 uppercase tracking-wider",children:"Variables"}),X.jsx("div",{className:"space-y-1",children:Object.entries(l.variables).length>0?Object.entries(l.variables).map(([c,f])=>X.jsxs("div",{className:"flex justify-between text-xs font-mono",children:[X.jsxs("span",{className:"text-slate-400",children:[c,":"]}),X.jsx("span",{className:"text-emerald-300",children:JSON.stringify(f)})]},c)):X.jsx("span",{className:"text-xs text-slate-500",children:"No variables set"})})]})]}),X.jsxs("div",{className:"bg-slate-800/30 p-4 rounded-lg border border-slate-700",children:[X.jsx("h4",{className:"text-sm font-semibold text-purple-400 mb-2 uppercase tracking-wider",children:"Call Stack"}),X.jsx("div",{className:"flex flex-col-reverse gap-1",children:l.stack.map((c,f)=>X.jsx("div",{className:"px-3 py-1 bg-slate-700/50 border-l-2 border-purple-500 text-xs font-mono rounded",children:c},f))})]})]})},eX=({code:e,language:t})=>{const[n,i]=ae.useState([]),[a,s]=ae.useState(""),[l,c]=ae.useState(!1),f=ae.useRef(null),h=()=>{var v;(v=f.current)==null||v.scrollIntoView({behavior:"smooth"})};ae.useEffect(()=>{h()},[n]);const d=async()=>{if(!a.trim()||l)return;const v={role:"user",content:a.trim()};i(x=>[...x,v]),s(""),c(!0);try{const x=n.map(E=>({role:E.role==="user"?"user":"assistant",content:E.content})),b={role:"assistant",content:await aO(e,t,v.content,x)};i(E=>[...E,b])}catch(x){const S={role:"assistant",content:`Error: ${x.message||"Failed to get response. Please try again."}`};i(b=>[...b,S])}finally{c(!1)}},m=v=>{v.key==="Enter"&&!v.shiftKey&&(v.preventDefault(),d())};return X.jsxs("div",{className:"flex flex-col h-full bg-slate-900 border border-slate-800 rounded-lg overflow-hidden",children:[X.jsxs("div",{className:"p-4 border-b border-slate-800 bg-slate-900/80",children:[X.jsxs("div",{className:"flex items-center gap-2",children:[X.jsx(Vu,{size:18,className:"text-blue-400"}),X.jsx("h3",{className:"text-sm font-bold text-slate-200 uppercase tracking-wider",children:"AI Code Assistant"})]}),X.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Ask questions about your code"})]}),X.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 scroll-smooth",children:[n.length===0&&X.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center space-y-3",children:[X.jsx(Vu,{size:32,className:"text-slate-600"}),X.jsx("p",{className:"text-sm text-slate-500 max-w-xs",children:"Ask me anything about your code. I can explain logic, suggest improvements, or help debug."})]}),n.map((v,x)=>X.jsxs("div",{className:`flex gap-3 ${v.role==="user"?"justify-end":"justify-start"}`,children:[v.role==="assistant"&&X.jsx("div",{className:"w-8 h-8 rounded-lg bg-blue-600/20 flex items-center justify-center shrink-0",children:X.jsx(Vu,{size:16,className:"text-blue-400"})}),X.jsx("div",{className:`max-w-[80%] rounded-lg p-3 ${v.role==="user"?"bg-blue-600 text-white":"bg-slate-800 text-slate-200 border border-slate-700"}`,children:X.jsx("p",{className:"text-sm whitespace-pre-wrap leading-relaxed",children:v.content})}),v.role==="user"&&X.jsx("div",{className:"w-8 h-8 rounded-lg bg-slate-700 flex items-center justify-center shrink-0",children:X.jsx(HL,{size:16,className:"text-slate-400"})})]},x)),l&&X.jsxs("div",{className:"flex gap-3 justify-start",children:[X.jsx("div",{className:"w-8 h-8 rounded-lg bg-blue-600/20 flex items-center justify-center shrink-0",children:X.jsx(Vu,{size:16,className:"text-blue-400"})}),X.jsx("div",{className:"bg-slate-800 text-slate-200 border border-slate-700 rounded-lg p-3",children:X.jsx(kh,{size:16,className:"animate-spin text-blue-400"})})]}),X.jsx("div",{ref:f})]}),X.jsx("div",{className:"p-4 border-t border-slate-800 bg-slate-900/80",children:X.jsxs("div",{className:"flex gap-2",children:[X.jsx("textarea",{value:a,onChange:v=>s(v.target.value),onKeyPress:m,placeholder:"Ask a question about the code...",className:"flex-1 bg-slate-800 border border-slate-700 rounded-lg px-4 py-2.5 text-sm text-slate-200 placeholder-slate-500 resize-none outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500/50",rows:1,disabled:l}),X.jsxs("button",{onClick:d,disabled:!a.trim()||l,className:"px-4 py-2.5 bg-blue-600 hover:bg-blue-500 disabled:bg-slate-700 disabled:cursor-not-allowed text-white rounded-lg transition-all flex items-center gap-2 font-semibold",children:[l?X.jsx(kh,{size:16,className:"animate-spin"}):X.jsx(UL,{size:16}),"Send"]})]})})]})},nX="",iX=[{id:"javascript",label:"JavaScript"},{id:"python",label:"Python"},{id:"typescript",label:"TypeScript"},{id:"java",label:"Java"},{id:"cpp",label:"C++"}],rX=()=>{const[e,t]=ae.useState(nX),[n,i]=ae.useState("javascript"),[a,s]=ae.useState(!1),[l,c]=ae.useState(mi.DIAGRAMS),[f,h]=ae.useState(null),[d,m]=ae.useState(null),[v,x]=ae.useState(0),[S,b]=ae.useState(null),E=ae.useRef(null),A=ae.useRef(null),k=async()=>{s(!0),b(null);try{const N=await iO(e,n);h(N);const V=await rO(e,n);m(V),x(0)}catch(N){b(N.message||"Something went wrong")}finally{s(!1)}},R=ae.useMemo(()=>l===mi.VISUALIZER&&d&&d.steps[v]?d.steps[v].line:null,[l,d,v]);ae.useEffect(()=>{if(R!==null){const N=document.getElementById(`code-line-${R}`);N&&N.scrollIntoView({behavior:"smooth",block:"center"})}},[R]);const I=()=>e.split(`
`).map((N,V)=>X.jsxs("div",{id:`code-line-${V+1}`,className:`flex px-4 font-mono text-sm leading-6 transition-all duration-300 relative ${R===V+1?"bg-blue-500/30 border-l-4 border-blue-500 z-10 scale-[1.01] shadow-sm":"border-l-4 border-transparent"}`,children:[X.jsx("span",{className:`w-8 mr-4 select-none text-right transition-colors ${R===V+1?"text-blue-300 font-bold":"text-slate-600"}`,children:V+1}),X.jsx("pre",{className:`transition-colors whitespace-pre ${R===V+1?"text-white":"text-slate-400"}`,children:N||" "})]},V)),B=ae.useCallback(N=>{var V;if((N.ctrlKey||N.metaKey)&&N.key==="a"){N.preventDefault(),(V=A.current)==null||V.select();return}(N.ctrlKey||N.metaKey)&&N.key==="c"||(N.ctrlKey||N.metaKey)&&N.key==="v"||(N.ctrlKey||N.metaKey)&&N.key==="x"||(N.ctrlKey||N.metaKey)&&N.key==="z"&&!N.shiftKey||(N.ctrlKey||N.metaKey)&&N.key==="z"&&N.shiftKey},[]),L=ae.useCallback(N=>{var V;if(A.current){A.current.focus();const Q=(V=E.current)==null?void 0:V.getBoundingClientRect();if(Q&&E.current){const et=N.clientX-Q.left,Y=N.clientY-Q.top,ct=24,nt=8,W=16,H=Math.max(0,Math.floor((Y-W)/ct)),D=Math.max(0,Math.floor((et-W-32)/nt)),P=e.split(`
`);if(H<P.length){const z=P.slice(0,H).join(`
`).length+(H>0?1:0),lt=Math.min(z+D,z+P[H].length);A.current.setSelectionRange(lt,lt)}}}},[e]);return ae.useEffect(()=>{const N=A.current,V=E.current;if(N&&V){const Q=()=>{V.scrollTop=N.scrollTop,V.scrollLeft=N.scrollLeft};return N.addEventListener("scroll",Q),()=>N.removeEventListener("scroll",Q)}},[]),X.jsxs("div",{className:"min-h-screen flex flex-col bg-slate-950 text-slate-100",children:[X.jsxs("header",{className:"h-16 border-b border-slate-800 bg-slate-900/80 backdrop-blur-xl flex items-center px-6 sticky top-0 z-50",children:[X.jsxs("div",{className:"flex items-center gap-3 group cursor-pointer",onClick:()=>window.location.reload(),children:[X.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-600 to-indigo-700 rounded-xl flex items-center justify-center shadow-lg shadow-blue-500/20 group-hover:rotate-12 transition-all duration-300",children:X.jsx(SL,{className:"text-white",size:24})}),X.jsxs("div",{children:[X.jsx("h1",{className:"text-xl font-black tracking-tight bg-gradient-to-r from-white via-slate-100 to-slate-400 bg-clip-text text-transparent",children:"CodeLens AI"}),X.jsx("p",{className:"text-[10px] text-slate-500 uppercase tracking-[0.2em] font-bold",children:"Visual Intelligence"})]})]}),X.jsxs("div",{className:"ml-auto flex items-center gap-4",children:[X.jsxs("div",{className:"relative group",children:[X.jsx("select",{value:n,onChange:N=>i(N.target.value),className:"appearance-none bg-slate-800 hover:bg-slate-700 border border-slate-700 text-slate-300 text-xs font-semibold py-2 px-4 pr-10 rounded-lg cursor-pointer transition-all outline-none focus:ring-2 focus:ring-blue-500/50",children:iX.map(N=>X.jsx("option",{value:N.id,children:N.label},N.id))}),X.jsx(hL,{size:14,className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-500 pointer-events-none"})]}),X.jsxs("button",{onClick:k,disabled:a,className:`flex items-center gap-2 px-6 py-2.5 rounded-lg font-bold transition-all ${a?"bg-slate-800 text-slate-500 cursor-not-allowed":"bg-blue-600 hover:bg-blue-500 text-white shadow-lg shadow-blue-600/30 active:scale-95 hover:-translate-y-0.5"}`,children:[a?X.jsx(kh,{className:"animate-spin",size:20}):X.jsx(zL,{size:18}),a?"Analyzing...":"Analyze Code"]})]})]}),X.jsxs("main",{className:"flex-1 flex overflow-hidden",children:[X.jsxs("section",{className:"w-1/2 flex flex-col border-r border-slate-800 bg-slate-900 shadow-2xl z-10",children:[X.jsxs("div",{className:"h-10 border-b border-slate-800 flex items-center px-4 justify-between bg-slate-900/80",children:[X.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold text-slate-400 uppercase tracking-widest",children:[X.jsx(TL,{size:14,className:"text-blue-500"}),"Editor"]}),X.jsxs("div",{className:"text-[10px] text-slate-600 font-mono",children:[e.length," characters"]})]}),X.jsxs("div",{className:"flex-1 relative overflow-hidden",children:[X.jsx("textarea",{ref:A,className:"absolute inset-0 w-full h-full opacity-0 z-20 cursor-text resize-none p-4 font-mono text-sm leading-6 outline-none",value:e,onChange:N=>t(N.target.value),onKeyDown:B,spellCheck:!1,style:{left:"0px",top:"2px"},autoFocus:!1}),X.jsx("div",{ref:E,className:"absolute inset-0 overflow-auto py-4 bg-slate-950 scroll-smooth cursor-text",onClick:N=>{var V;L(N),(V=A.current)==null||V.focus()},onMouseDown:N=>{A.current&&A.current.focus()},style:{pointerEvents:"auto"},children:I()})]}),f&&X.jsxs("div",{className:"p-5 border-t border-slate-800 bg-slate-900/50 backdrop-blur-sm animate-in fade-in duration-500",style:{height:"150px"},children:[X.jsxs("h3",{className:"text-[10px] font-black text-slate-500 uppercase tracking-[0.2em] mb-3 flex items-center gap-2",children:[X.jsx(OL,{size:14,className:"text-blue-400"})," Executive Summary"]}),X.jsxs("p",{className:"text-sm text-slate-300 italic leading-relaxed font-medium",children:['"',f.summary,'"']})]})]}),X.jsxs("section",{className:"w-1/2 flex flex-col bg-slate-950 overflow-hidden relative",children:[X.jsx("div",{className:"h-12 flex border-b border-slate-800 bg-slate-900 sticky top-0 z-30",children:[{id:mi.DIAGRAMS,icon:X.jsx(wL,{size:18}),label:"Architecture"},{id:mi.VISUALIZER,icon:X.jsx(vL,{size:18}),label:"Execution"},{id:mi.CHAT,icon:X.jsx(ML,{size:18}),label:"Chat"}].map(N=>X.jsxs("button",{onClick:()=>c(N.id),className:`flex-1 flex items-center justify-center gap-2 text-xs font-bold uppercase tracking-wider transition-all relative ${l===N.id?"text-blue-400":"text-slate-500 hover:text-slate-300"}`,children:[N.icon," ",N.label,l===N.id&&X.jsx("div",{className:"absolute bottom-0 left-4 right-4 h-0.5 bg-blue-400 shadow-[0_0_12px_rgba(59,130,246,0.6)] rounded-full"})]},N.id))}),X.jsxs("div",{className:`flex-1 ${l===mi.CHAT?"overflow-hidden p-0":"overflow-y-auto p-6"} scroll-smooth bg-[radial-gradient(circle_at_top_right,#1e293b,transparent)]`,children:[!f&&!a&&l!==mi.CHAT&&X.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center space-y-8 max-w-sm mx-auto",children:[X.jsxs("div",{className:"relative",children:[X.jsx("div",{className:"absolute inset-0 bg-blue-500/20 blur-3xl rounded-full"}),X.jsx("div",{className:"w-24 h-24 rounded-[2rem] bg-slate-900 border border-slate-800 flex items-center justify-center text-slate-700 shadow-2xl relative group-hover:scale-110 transition-transform duration-500",children:X.jsx(xL,{size:48,className:"text-slate-400"})})]}),X.jsxs("div",{children:[X.jsx("h2",{className:"text-2xl font-bold text-white tracking-tight",children:"Code Intelligence Engine"}),X.jsx("p",{className:"text-slate-500 mt-3 text-sm leading-relaxed",children:"Paste your logic and unleash AI to generate interactive architectural maps and execution simulations."}),X.jsx("div",{className:"mt-8 flex flex-wrap justify-center gap-2",children:["Interactive Diagrams","Step-by-Step Sim","AI Chat"].map(N=>X.jsx("span",{className:"px-3 py-1 bg-slate-800/50 border border-slate-700 text-[10px] text-slate-400 rounded-full font-bold uppercase tracking-tighter",children:N},N))})]})]}),a&&X.jsxs("div",{className:"h-full flex flex-col items-center justify-center space-y-8 animate-in fade-in duration-700",children:[X.jsxs("div",{className:"relative",children:[X.jsx("div",{className:"absolute inset-0 blur-[40px] bg-blue-500/30 animate-pulse rounded-full"}),X.jsx("div",{className:"relative p-6 bg-slate-900 rounded-full border border-blue-500/20",children:X.jsx(kh,{className:"animate-spin text-blue-500",size:48})})]}),X.jsxs("div",{className:"text-center space-y-2",children:[X.jsx("h3",{className:"text-xl font-black text-white uppercase tracking-widest",children:"Processing Logic"}),X.jsxs("div",{className:"flex items-center justify-center gap-1",children:[X.jsx("div",{className:"w-1.5 h-1.5 bg-blue-500 rounded-full animate-bounce [animation-delay:-0.3s]"}),X.jsx("div",{className:"w-1.5 h-1.5 bg-blue-500 rounded-full animate-bounce [animation-delay:-0.15s]"}),X.jsx("div",{className:"w-1.5 h-1.5 bg-blue-500 rounded-full animate-bounce"})]}),X.jsx("p",{className:"text-slate-500 mt-4 text-xs font-medium max-w-xs mx-auto",children:"Building flowcharts, dependency graphs and verifying execution traces..."})]})]}),S&&X.jsxs("div",{className:"bg-red-950/40 border border-red-500/30 p-5 rounded-2xl flex gap-4 text-red-200 shadow-2xl animate-in fade-in slide-in-from-top-4 duration-300",children:[X.jsx("div",{className:"p-2 bg-red-500/20 rounded-lg shrink-0",children:X.jsx(mL,{className:"text-red-500",size:24})}),X.jsxs("div",{children:[X.jsx("h4",{className:"font-bold text-red-400 mb-1",children:"Analysis Failed"}),X.jsx("p",{className:"text-sm opacity-90",children:S})]})]}),l===mi.CHAT&&X.jsx("div",{className:"h-full p-6 animate-in fade-in duration-500",children:X.jsx(eX,{code:e,language:n})}),f&&!a&&X.jsxs("div",{className:"space-y-12 animate-in fade-in slide-in-from-bottom-6 duration-700 pb-16",children:[l===mi.DIAGRAMS&&X.jsxs("div",{className:"space-y-12",children:[X.jsxs("section",{className:"space-y-4",children:[X.jsxs("div",{className:"flex items-center gap-2 px-1",children:[X.jsx(uh,{size:14,className:"text-blue-500"}),X.jsx("h3",{className:"text-[10px] font-black text-slate-500 uppercase tracking-[0.2em]",children:"Logical Flow Mapping"})]}),X.jsx(Fg,{chart:f.diagrams.flowchart,id:"flow"})]}),X.jsxs("section",{className:"space-y-4",children:[X.jsxs("div",{className:"flex items-center gap-2 px-1",children:[X.jsx(uh,{size:14,className:"text-blue-500"}),X.jsx("h3",{className:"text-[10px] font-black text-slate-500 uppercase tracking-[0.2em]",children:"Sequence & Call Order"})]}),X.jsx(Fg,{chart:f.diagrams.sequence,id:"seq"})]}),X.jsxs("section",{className:"space-y-4",children:[X.jsxs("div",{className:"flex items-center gap-2 px-1",children:[X.jsx(uh,{size:14,className:"text-blue-500"}),X.jsx("h3",{className:"text-[10px] font-black text-slate-500 uppercase tracking-[0.2em]",children:"Dependency Hierarchy"})]}),X.jsx(Fg,{chart:f.diagrams.dependencies,id:"dep"})]})]}),l===mi.VISUALIZER&&d&&X.jsx("div",{className:"space-y-8 animate-in fade-in duration-500",children:X.jsxs("div",{className:"bg-slate-900 border border-slate-800 rounded-3xl p-6 shadow-2xl relative overflow-hidden",children:[X.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-blue-500/5 blur-3xl -mr-16 -mt-16 rounded-full"}),X.jsx(tX,{trace:d,currentStep:v,onStepChange:x})]})})]})]})]})]})]})},FM=document.getElementById("root");if(!FM)throw new Error("Could not find root element to mount to");const aX=iL.createRoot(FM);aX.render(X.jsx(b1.StrictMode,{children:X.jsx(rX,{})}));export{PT as $,Zl as A,fO as B,DP as C,Yy as D,ln as E,MT as F,u9 as G,f8 as H,zS as I,vz as J,XO as K,cs as L,lX as M,zf as N,dP as O,hy as P,jS as Q,i8 as R,xh as S,c9 as T,yc as U,CP as V,mc as W,Ct as X,Rt as Y,e9 as Z,T as _,AP as a,Uy as a$,j6 as a0,_b as a1,vb as a2,_X as a3,pX as a4,yX as a5,mX as a6,fX as a7,$o as a8,Ty as a9,TG as aA,t8 as aB,sX as aC,$f as aD,of as aE,Mw as aF,Km as aG,Tc as aH,SG as aI,CG as aJ,xy as aK,ta as aL,fb as aM,D$ as aN,ac as aO,MH as aP,Aw as aQ,xw as aR,Dq as aS,nf as aT,Iq as aU,Sc as aV,Ba as aW,TH as aX,Ub as aY,Qa as aZ,Bq as a_,vX as aa,dX as ab,CX as ac,xX as ad,gX as ae,JG as af,Ok as ag,NX as ah,xz as ai,qe as aj,ca as ak,Fy as al,cA as am,to as an,Bw as ao,Bt as ap,$i as aq,$V as ar,RX as as,LX as at,kX as au,Et as av,MX as aw,SV as ax,yV as ay,mV as az,wP as b,Lq as b0,Pq as b1,Ss as b2,kH as b3,QH as b4,Hq as b5,GH as b6,Oy as b7,v1 as b8,Tt as b9,Ym as bA,le as bB,gw as ba,In as bb,w$ as bc,_y as bd,ZT as be,_c as bf,e2 as bg,hX as bh,hO as bi,KH as bj,HH as bk,ZH as bl,Ff as bm,Rq as bn,Py as bo,ww as bp,t9 as bq,Cs as br,BH as bs,c7 as bt,Cc as bu,af as bv,la as bw,Ib as bx,$y as by,Sw as bz,oe as c,Qt as d,OT as e,$e as f,MP as g,Sr as h,ci as i,wz as j,_s as k,st as l,Ow as m,cX as n,IX as o,RP as p,NP as q,DX as r,kP as s,_z as t,Ci as u,dV as v,d9 as w,SX as x,EP as y,uX as z};
